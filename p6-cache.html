<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
   <head profile="http://www.w3.org/2006/03/hcard">
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>HTTP/1.1, part 6: Caching</title><style type="text/css" title="Xml2Rfc (sans serif)">
a {
  text-decoration: none;
}
a.smpl {
  color: black;
}
a:hover {
  text-decoration: underline;
}
a:active {
  text-decoration: underline;
}
address {
  margin-top: 1em;
  margin-left: 2em;
  font-style: normal;
}
body {
  color: black;
  font-family: verdana, helvetica, arial, sans-serif;
  font-size: 10pt;
}
cite {
  font-style: normal;
}
dd {
  margin-right: 2em;
}
dl {
  margin-left: 2em;
}

dl.empty dd {
  margin-top: .5em;
}
dl p {
  margin-left: 0em;
}
dt {
  margin-top: .5em;
}
h1 {
  font-size: 14pt;
  line-height: 21pt;
  page-break-after: avoid;
}
h1.np {
  page-break-before: always;
}
h1 a {
  color: #333333;
}
h2 {
  font-size: 12pt;
  line-height: 15pt;
  page-break-after: avoid;
}
h2 a {
  color: black;
}
h3 {
  font-size: 10pt;
  page-break-after: avoid;
}
h3 a {
  color: black;
}
h4 {
  font-size: 10pt;
  page-break-after: avoid;
}
h4 a {
  color: black;
}
h5 {
  font-size: 10pt;
  page-break-after: avoid;
}
h5 a {
  color: black;
}
img {
  margin-left: 3em;
}
li {
  margin-left: 2em;
  margin-right: 2em;
}
ol {
  margin-left: 2em;
  margin-right: 2em;
}
ol p {
  margin-left: 0em;
}
p {
  margin-left: 2em;
  margin-right: 2em;
}
pre {
  margin-left: 3em;
  background-color: lightyellow;
  padding: .25em;
}
pre.text2 {
  border-style: dotted;
  border-width: 1px;
  background-color: #f0f0f0;
  width: 69em;
}
pre.inline {
  background-color: white;
  padding: 0em;
}
pre.text {
  border-style: dotted;
  border-width: 1px;
  background-color: #f8f8f8;
  width: 69em;
}
pre.drawing {
  border-style: solid;
  border-width: 1px;
  background-color: #f8f8f8;
  padding: 2em;
}
sup {
  font-size: 60%;
}
table {
  margin-left: 2em;
}
table.tt {
  vertical-align: top;
}
table.full {
  border-style: outset;
  border-width: 1px;
}
table.headers {
  border-style: outset;
  border-width: 1px;
}
table.tt td {
  vertical-align: top;
}
table.full td {
  border-style: inset;
  border-width: 1px;
}
table.tt th {
  vertical-align: top;
}
table.full th {
  border-style: inset;
  border-width: 1px;
}
table.headers th {
  border-style: none none inset none;
  border-width: 1px;
}
table.header {
  width: 95%;
  font-size: 10pt;
  color: white;
}
td.top {
  vertical-align: top;
}
td.topnowrap {
  vertical-align: top;
  white-space: nowrap; 
}
td.header {
  background-color: gray;
  width: 50%;
}
td.header a {
  color: white;
}
td.reference {
  vertical-align: top;
  white-space: nowrap;
  padding-right: 1em;
}
thead {
  display:table-header-group;
}
ul.toc {
  list-style: none;
  margin-left: 1.5em;
  margin-right: 0em;
  padding-left: 0em;
}
li.tocline0 {
  line-height: 150%;
  font-weight: bold;
  font-size: 10pt;
  margin-left: 0em;
  margin-right: 0em;
}
li.tocline1 {
  line-height: normal;
  font-weight: normal;
  font-size: 9pt;
  margin-left: 0em;
  margin-right: 0em;
}
li.tocline2 {
  font-size: 0pt;
}
ul p {
  margin-left: 0em;
}
ul.ind {
  list-style: none;
  margin-left: 1.5em;
  margin-right: 0em;
  padding-left: 0em;
}
li.indline0 {
  font-weight: bold;
  line-height: 200%;
  margin-left: 0em;
  margin-right: 0em;
}
li.indline1 {
  font-weight: normal;
  line-height: 150%;
  margin-left: 0em;
  margin-right: 0em;
}
.bcp14 {
  font-style: normal;
  text-transform: lowercase;
  font-variant: small-caps;
}
.comment {
  background-color: yellow;
}
.center {
  text-align: center;
}
.error {
  color: red;
  font-style: italic;
  font-weight: bold;
}
.figure {
  font-weight: bold;
  text-align: center;
  font-size: 9pt;
}
.filename {
  color: #333333;
  font-weight: bold;
  font-size: 12pt;
  line-height: 21pt;
  text-align: center;
}
.fn {
  font-weight: bold;
}
.hidden {
  display: none;
}
.left {
  text-align: left;
}
.right {
  text-align: right;
}
.title {
  color: #990000;
  font-size: 18pt;
  line-height: 18pt;
  font-weight: bold;
  text-align: center;
  margin-top: 36pt;
}
.vcardline {
  display: block;
}
.warning {
  font-size: 14pt;
  background-color: yellow;
}


@media print {
  .noprint {
    display: none;
  }
  
  a {
    color: black;
    text-decoration: none;
  }

  table.header {
    width: 90%;
  }

  td.header {
    width: 50%;
    color: black;
    background-color: white;
    vertical-align: top;
    font-size: 12pt;
  }

  ul.toc a::after {
    content: leader('.') target-counter(attr(href), page);
  }
  
  a.iref {
    content: target-counter(attr(href), page);
  }
  
  .print2col {
    column-count: 2;
    -moz-column-count: 2;
    column-fill: auto;
  }
}

@page {
  @top-left {
       content: "INTERNET DRAFT"; 
  } 
  @top-right {
       content: "November 2008"; 
  } 
  @top-center {
       content: "HTTP/1.1, Part 6"; 
  } 
  @bottom-left {
       content: "Fielding, et al."; 
  } 
  @bottom-center {
       content: "Standards Track"; 
  } 
  @bottom-right {
       content: "[Page " counter(page) "]"; 
  } 
}

@page:first { 
    @top-left {
      content: normal;
    }
    @top-right {
      content: normal;
    }
    @top-center {
      content: normal;
    }
}
</style><link rel="Contents" href="#rfc.toc">
      <link rel="Author" href="#rfc.authors">
      <link rel="Copyright" href="#rfc.copyright">
      <link rel="Index" href="#rfc.index">
      <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
      <link rel="Chapter" title="2 Notational Conventions and Generic Grammar" href="#rfc.section.2">
      <link rel="Chapter" title="3 Overview" href="#rfc.section.3">
      <link rel="Chapter" title="4 Expiration Model" href="#rfc.section.4">
      <link rel="Chapter" title="5 Validation Model" href="#rfc.section.5">
      <link rel="Chapter" title="6 Response Cacheability" href="#rfc.section.6">
      <link rel="Chapter" title="7 Constructing Responses From Caches" href="#rfc.section.7">
      <link rel="Chapter" title="8 Caching Negotiated Responses" href="#rfc.section.8">
      <link rel="Chapter" title="9 Shared and Non-Shared Caches" href="#rfc.section.9">
      <link rel="Chapter" title="10 Errors or Incomplete Response Cache Behavior" href="#rfc.section.10">
      <link rel="Chapter" title="11 Side Effects of GET and HEAD" href="#rfc.section.11">
      <link rel="Chapter" title="12 Invalidation After Updates or Deletions" href="#rfc.section.12">
      <link rel="Chapter" title="13 Write-Through Mandatory" href="#rfc.section.13">
      <link rel="Chapter" title="14 Cache Replacement" href="#rfc.section.14">
      <link rel="Chapter" title="15 History Lists" href="#rfc.section.15">
      <link rel="Chapter" title="16 Header Field Definitions" href="#rfc.section.16">
      <link rel="Chapter" title="17 IANA Considerations" href="#rfc.section.17">
      <link rel="Chapter" title="18 Security Considerations" href="#rfc.section.18">
      <link rel="Chapter" title="19 Acknowledgments" href="#rfc.section.19">
      <link rel="Chapter" href="#rfc.section.20" title="20 References">
      <link rel="Appendix" title="A Compatibility with Previous Versions" href="#rfc.section.A">
      <link rel="Appendix" title="B Change Log (to be removed by RFC Editor before publication)" href="#rfc.section.B">
      <meta name="generator" content="http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.400, 2008-10-10 14:04:14, XSLT vendor: SAXON 8.9 from Saxonica http://www.saxonica.com/">
      <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
      <meta name="DC.Creator" content="Fielding, R.">
      <meta name="DC.Creator" content="Gettys, J.">
      <meta name="DC.Creator" content="Mogul, J.">
      <meta name="DC.Creator" content="Frystyk, H.">
      <meta name="DC.Creator" content="Masinter, L.">
      <meta name="DC.Creator" content="Leach, P.">
      <meta name="DC.Creator" content="Berners-Lee, T.">
      <meta name="DC.Creator" content="Lafon, Y.">
      <meta name="DC.Creator" content="Reschke, J. F.">
      <meta name="DC.Identifier" content="urn:ietf:id:draft-ietf-httpbis-p6-cache-latest">
      <meta name="DC.Date.Issued" scheme="ISO8601" content="2008-11">
      <meta name="DC.Relation.Replaces" content="urn:ietf:rfc:2616">
      <meta name="DC.Description.Abstract" content="The Hypertext Transfer Protocol (HTTP) is an application-level protocol for distributed, collaborative, hypermedia information systems. HTTP has been in use by the World Wide Web global information initiative since 1990. This document is Part 6 of the seven-part specification that defines the protocol referred to as &#34;HTTP/1.1&#34; and, taken together, obsoletes RFC 2616. Part 6 defines requirements on HTTP caches and the associated header fields that control cache behavior or indicate cacheable response messages.">
   </head>
   <body>
      <table summary="header information" class="header" border="0" cellpadding="1" cellspacing="1">
         <tr>
            <td class="header left">Network Working Group</td>
            <td class="header right">R. Fielding, Editor</td>
         </tr>
         <tr>
            <td class="header left">Internet Draft</td>
            <td class="header right">Day Software</td>
         </tr>
         <tr>
            <td class="header left">
               &lt;draft-ietf-httpbis-p6-cache-latest&gt;
               
            </td>
            <td class="header right">J. Gettys</td>
         </tr>
         <tr>
            <td class="header left">Obsoletes: <a href="http://tools.ietf.org/html/rfc2616">2616</a> (if approved)
            </td>
            <td class="header right">One Laptop per Child</td>
         </tr>
         <tr>
            <td class="header left">Intended status: Standards Track</td>
            <td class="header right">J. Mogul</td>
         </tr>
         <tr>
            <td class="header left">Expires: May 2009</td>
            <td class="header right">HP</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">H. Frystyk</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">Microsoft</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">L. Masinter</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">Adobe Systems</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">P. Leach</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">Microsoft</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">T. Berners-Lee</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">W3C/MIT</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">Y. Lafon, Editor</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">W3C</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">J. F. Reschke, Editor</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">greenbytes</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">November 15, 2008</td>
         </tr>
      </table>
      <p class="title">HTTP/1.1, part 6: Caching<br><span class="filename">draft-ietf-httpbis-p6-cache-latest</span></p>
      <h1><a id="rfc.status" href="#rfc.status">Status of this Memo</a></h1>
      <p>By submitting this Internet-Draft, each author represents that any applicable patent or other IPR claims of which he or she
         is aware have been or will be disclosed, and any of which he or she becomes aware will be disclosed, in accordance with Section
         6 of BCP 79.
      </p>
      <p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF), its areas, and its working groups. Note
         that other groups may also distribute working documents as Internet-Drafts.
      </p>
      <p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other
         documents at any time. It is inappropriate to use Internet-Drafts as reference material or to cite them other than as “work
         in progress”.
      </p>
      <p>The list of current Internet-Drafts can be accessed at &lt;<a href="http://www.ietf.org/ietf/1id-abstracts.txt">http://www.ietf.org/ietf/1id-abstracts.txt</a>&gt;.
      </p>
      <p>The list of Internet-Draft Shadow Directories can be accessed at &lt;<a href="http://www.ietf.org/shadow.html">http://www.ietf.org/shadow.html</a>&gt;.
      </p>
      <p>This Internet-Draft will expire in May 2009.</p>
      <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1> 
      <p>The Hypertext Transfer Protocol (HTTP) is an application-level protocol for distributed, collaborative, hypermedia information
         systems. HTTP has been in use by the World Wide Web global information initiative since 1990. This document is Part 6 of the
         seven-part specification that defines the protocol referred to as "HTTP/1.1" and, taken together, obsoletes RFC 2616. Part
         6 defines requirements on HTTP caches and the associated header fields that control cache behavior or indicate cacheable response
         messages.
      </p> 
      <h1 id="rfc.note.1"><a href="#rfc.note.1">Editorial Note (To be removed by RFC Editor)</a></h1> 
      <p>Discussion of this draft should take place on the HTTPBIS working group mailing list (ietf-http-wg@w3.org). The current issues
         list is at &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/report/11">http://tools.ietf.org/wg/httpbis/trac/report/11</a>&gt; and related documents (including fancy diffs) can be found at &lt;<a href="http://tools.ietf.org/wg/httpbis/">http://tools.ietf.org/wg/httpbis/</a>&gt;.
      </p>  
      <p>The changes in this draft are summarized in <a href="#changes.since.05" title="Since draft-ietf-httpbis-p6-cache-05">Appendix&nbsp;B.7</a>.
      </p> 
      <hr class="noprint">
      <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
      <ul class="toc">
         <li class="tocline0">1.&nbsp;&nbsp;&nbsp;<a href="#caching">Introduction</a><ul class="toc">
               <li class="tocline1">1.1&nbsp;&nbsp;&nbsp;<a href="#intro.purpose">Purpose</a></li>
               <li class="tocline1">1.2&nbsp;&nbsp;&nbsp;<a href="#intro.terminology">Terminology</a></li>
               <li class="tocline1">1.3&nbsp;&nbsp;&nbsp;<a href="#intro.requirements">Requirements</a></li>
            </ul>
         </li>
         <li class="tocline0">2.&nbsp;&nbsp;&nbsp;<a href="#notation">Notational Conventions and Generic Grammar</a></li>
         <li class="tocline0">3.&nbsp;&nbsp;&nbsp;<a href="#caching.overview">Overview</a><ul class="toc">
               <li class="tocline1">3.1&nbsp;&nbsp;&nbsp;<a href="#cache.correctness">Cache Correctness</a></li>
               <li class="tocline1">3.2&nbsp;&nbsp;&nbsp;<a href="#warnings">Warnings</a></li>
               <li class="tocline1">3.3&nbsp;&nbsp;&nbsp;<a href="#cache-control.mechanisms">Cache-control Mechanisms</a></li>
               <li class="tocline1">3.4&nbsp;&nbsp;&nbsp;<a href="#explicit.ua.warnings">Explicit User Agent Warnings</a></li>
               <li class="tocline1">3.5&nbsp;&nbsp;&nbsp;<a href="#exceptions.to.the.rules.and.warnings">Exceptions to the Rules and Warnings</a></li>
               <li class="tocline1">3.6&nbsp;&nbsp;&nbsp;<a href="#client-controlled.behavior">Client-controlled Behavior</a></li>
            </ul>
         </li>
         <li class="tocline0">4.&nbsp;&nbsp;&nbsp;<a href="#expiration.model">Expiration Model</a><ul class="toc">
               <li class="tocline1">4.1&nbsp;&nbsp;&nbsp;<a href="#server-specified.expiration">Server-Specified Expiration</a></li>
               <li class="tocline1">4.2&nbsp;&nbsp;&nbsp;<a href="#heuristic.expiration">Heuristic Expiration</a></li>
               <li class="tocline1">4.3&nbsp;&nbsp;&nbsp;<a href="#age.calculations">Age Calculations</a></li>
               <li class="tocline1">4.4&nbsp;&nbsp;&nbsp;<a href="#expiration.calculations">Expiration Calculations</a></li>
               <li class="tocline1">4.5&nbsp;&nbsp;&nbsp;<a href="#disambiguating.expiration.values">Disambiguating Expiration Values</a></li>
               <li class="tocline1">4.6&nbsp;&nbsp;&nbsp;<a href="#disambiguating.multiple.responses">Disambiguating Multiple Responses</a></li>
            </ul>
         </li>
         <li class="tocline0">5.&nbsp;&nbsp;&nbsp;<a href="#validation.model">Validation Model</a></li>
         <li class="tocline0">6.&nbsp;&nbsp;&nbsp;<a href="#response.cacheability">Response Cacheability</a></li>
         <li class="tocline0">7.&nbsp;&nbsp;&nbsp;<a href="#constructing.responses.from.caches">Constructing Responses From Caches</a><ul class="toc">
               <li class="tocline1">7.1&nbsp;&nbsp;&nbsp;<a href="#end-to-end.and.hop-by-hop.headers">End-to-end and Hop-by-hop Headers</a></li>
               <li class="tocline1">7.2&nbsp;&nbsp;&nbsp;<a href="#non-modifiable.headers">Non-modifiable Headers</a></li>
               <li class="tocline1">7.3&nbsp;&nbsp;&nbsp;<a href="#combining.headers">Combining Headers</a></li>
            </ul>
         </li>
         <li class="tocline0">8.&nbsp;&nbsp;&nbsp;<a href="#caching.negotiated.responses">Caching Negotiated Responses</a></li>
         <li class="tocline0">9.&nbsp;&nbsp;&nbsp;<a href="#shared.and.non-shared.caches">Shared and Non-Shared Caches</a></li>
         <li class="tocline0">10.&nbsp;&nbsp;&nbsp;<a href="#errors.or.incomplete.response.cache.behavior">Errors or Incomplete Response Cache Behavior</a></li>
         <li class="tocline0">11.&nbsp;&nbsp;&nbsp;<a href="#side.effects.of.get.and.head">Side Effects of GET and HEAD</a></li>
         <li class="tocline0">12.&nbsp;&nbsp;&nbsp;<a href="#invalidation.after.updates.or.deletions">Invalidation After Updates or Deletions</a></li>
         <li class="tocline0">13.&nbsp;&nbsp;&nbsp;<a href="#write-through.mandatory">Write-Through Mandatory</a></li>
         <li class="tocline0">14.&nbsp;&nbsp;&nbsp;<a href="#cache.replacement">Cache Replacement</a></li>
         <li class="tocline0">15.&nbsp;&nbsp;&nbsp;<a href="#history.lists">History Lists</a></li>
         <li class="tocline0">16.&nbsp;&nbsp;&nbsp;<a href="#header.fields">Header Field Definitions</a><ul class="toc">
               <li class="tocline1">16.1&nbsp;&nbsp;&nbsp;<a href="#header.age">Age</a></li>
               <li class="tocline1">16.2&nbsp;&nbsp;&nbsp;<a href="#header.cache-control">Cache-Control</a><ul class="toc">
                     <li class="tocline1">16.2.1&nbsp;&nbsp;&nbsp;<a href="#what.is.cacheable">What is Cacheable</a></li>
                     <li class="tocline1">16.2.2&nbsp;&nbsp;&nbsp;<a href="#what.may.be.stored.by.caches">What May be Stored by Caches</a></li>
                     <li class="tocline1">16.2.3&nbsp;&nbsp;&nbsp;<a href="#modifications.of.the.basic.expiration.mechanism">Modifications of the Basic Expiration Mechanism</a></li>
                     <li class="tocline1">16.2.4&nbsp;&nbsp;&nbsp;<a href="#cache.revalidation.and.reload.controls">Cache Revalidation and Reload Controls</a></li>
                     <li class="tocline1">16.2.5&nbsp;&nbsp;&nbsp;<a href="#no-transform.directive">No-Transform Directive</a></li>
                     <li class="tocline1">16.2.6&nbsp;&nbsp;&nbsp;<a href="#cache.control.extensions">Cache Control Extensions</a></li>
                  </ul>
               </li>
               <li class="tocline1">16.3&nbsp;&nbsp;&nbsp;<a href="#header.expires">Expires</a></li>
               <li class="tocline1">16.4&nbsp;&nbsp;&nbsp;<a href="#header.pragma">Pragma</a></li>
               <li class="tocline1">16.5&nbsp;&nbsp;&nbsp;<a href="#header.vary">Vary</a></li>
               <li class="tocline1">16.6&nbsp;&nbsp;&nbsp;<a href="#header.warning">Warning</a></li>
            </ul>
         </li>
         <li class="tocline0">17.&nbsp;&nbsp;&nbsp;<a href="#IANA.considerations">IANA Considerations</a><ul class="toc">
               <li class="tocline1">17.1&nbsp;&nbsp;&nbsp;<a href="#message.header.registration">Message Header Registration</a></li>
            </ul>
         </li>
         <li class="tocline0">18.&nbsp;&nbsp;&nbsp;<a href="#security.considerations">Security Considerations</a></li>
         <li class="tocline0">19.&nbsp;&nbsp;&nbsp;<a href="#ack">Acknowledgments</a></li>
         <li class="tocline0">20.&nbsp;&nbsp;&nbsp;<a href="#rfc.references">References</a><ul class="toc">
               <li class="tocline1">20.1&nbsp;&nbsp;&nbsp;<a href="#rfc.references.1">Normative References</a></li>
               <li class="tocline1">20.2&nbsp;&nbsp;&nbsp;<a href="#rfc.references.2">Informative References</a></li>
            </ul>
         </li>
         <li class="tocline0"><a href="#rfc.authors">Authors' Addresses</a></li>
         <li class="tocline0">A.&nbsp;&nbsp;&nbsp;<a href="#compatibility">Compatibility with Previous Versions</a><ul class="toc">
               <li class="tocline1">A.1&nbsp;&nbsp;&nbsp;<a href="#changes.from.rfc.2068">Changes from RFC 2068</a></li>
               <li class="tocline1">A.2&nbsp;&nbsp;&nbsp;<a href="#changes.from.rfc.2616">Changes from RFC 2616</a></li>
            </ul>
         </li>
         <li class="tocline0">B.&nbsp;&nbsp;&nbsp;<a href="#change.log">Change Log (to be removed by RFC Editor before publication)</a><ul class="toc">
               <li class="tocline1">B.1&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.1">Since RFC2616</a></li>
               <li class="tocline1">B.2&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.2">Since draft-ietf-httpbis-p6-cache-00</a></li>
               <li class="tocline1">B.3&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.3">Since draft-ietf-httpbis-p6-cache-01</a></li>
               <li class="tocline1">B.4&nbsp;&nbsp;&nbsp;<a href="#changes.since.02">Since draft-ietf-httpbis-p6-cache-02</a></li>
               <li class="tocline1">B.5&nbsp;&nbsp;&nbsp;<a href="#changes.since.03">Since draft-ietf-httpbis-p6-cache-03</a></li>
               <li class="tocline1">B.6&nbsp;&nbsp;&nbsp;<a href="#changes.since.04">Since draft-ietf-httpbis-p6-cache-04</a></li>
               <li class="tocline1">B.7&nbsp;&nbsp;&nbsp;<a href="#changes.since.05">Since draft-ietf-httpbis-p6-cache-05</a></li>
            </ul>
         </li>
         <li class="tocline0"><a href="#rfc.ipr">Intellectual Property and Copyright Statements</a></li>
         <li class="tocline0"><a href="#rfc.index">Index</a></li>
      </ul>
      <h1 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a id="caching" href="#caching">Introduction</a></h1>
      <p id="rfc.section.1.p.1">HTTP is typically used for distributed information systems, where performance can be improved by the use of response caches,
         and includes a number of elements intended to make caching work as well as possible. Because these elements interact with
         each other, it is useful to describe the caching design of HTTP separately. This document defines aspects of HTTP/1.1 related
         to caching and reusing response messages.
      </p>
      <div id="rfc.iref.c.1"></div>
      <h2 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1</a>&nbsp;<a id="intro.purpose" href="#intro.purpose">Purpose</a></h2>
      <p id="rfc.section.1.1.p.1">An HTTP <dfn>cache</dfn> is a local store of response messages and the subsystem that controls its message storage, retrieval, and deletion. A cache
         stores cacheable responses in order to reduce the response time and network bandwidth consumption on future, equivalent requests.
         Any client or server may include a cache, though a cache cannot be used by a server that is acting as a tunnel.
      </p>
      <p id="rfc.section.1.1.p.2">Caching would be useless if it did not significantly improve performance. The goal of caching in HTTP/1.1 is to reuse a prior
         response message to satisfy a current request. In some cases, the existing response can be reused without the need for a network
         request, reducing latency and network round-trips; we use an "expiration" mechanism for this purpose (see <a href="#expiration.model" title="Expiration Model">Section&nbsp;4</a>). Even when a new request is required, it is often possible to reuse all or parts of the payload of a prior response to satisfy
         the request, thereby reducing network bandwidth usage; we use a "validation" mechanism for this purpose (see <a href="#validation.model" title="Validation Model">Section&nbsp;5</a>).
      </p>
      <div id="rfc.iref.s.1"></div>
      <p id="rfc.section.1.1.p.3">A cache behaves in a "<dfn>semantically transparent</dfn>" manner, with respect to a particular response, when its use affects neither the requesting client nor the origin server,
         except to improve performance. When a cache is semantically transparent, the client receives exactly the same response status
         and payload that it would have received had its request been handled directly by the origin server.
      </p>
      <p id="rfc.section.1.1.p.4">In an ideal world, all interactions with an HTTP cache would be semantically transparent. However, for some resources, semantic
         transparency is not always necessary and can be effectively traded for the sake of bandwidth scaling, disconnected operation,
         and high availability. HTTP/1.1 allows origin servers, caches, and clients to explicitly reduce transparency when necessary.
         However, because non-transparent operation may confuse non-expert users and might be incompatible with certain server applications
         (such as those for ordering merchandise), the protocol requires that transparency be relaxed 
      </p>
      <ul>
         <li>only by an explicit protocol-level request when relaxed by client or origin server</li>
         <li>only with an explicit warning to the end user when relaxed by cache or client</li>
      </ul>
      <p id="rfc.section.1.1.p.5">Therefore, HTTP/1.1 provides these important elements: </p>
      <ol>
         <li>Protocol features that provide full semantic transparency when this is required by all parties.</li>
         <li>Protocol features that allow an origin server or user agent to explicitly request and control non-transparent operation.</li>
         <li>Protocol features that allow a cache to attach warnings to responses that do not preserve the requested approximation of semantic
            transparency.
         </li>
      </ol>
      <p id="rfc.section.1.1.p.6">A basic principle is that it must be possible for the clients to detect any potential relaxation of semantic transparency. </p>
      <dl class="empty">
         <dd> <b>Note:</b> The server, cache, or client implementor might be faced with design decisions not explicitly discussed in this specification.
            If a decision might affect semantic transparency, the implementor ought to err on the side of maintaining transparency unless
            a careful and complete analysis shows significant benefits in breaking transparency.
         </dd>
      </dl>
      <h2 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2</a>&nbsp;<a id="intro.terminology" href="#intro.terminology">Terminology</a></h2>
      <p id="rfc.section.1.2.p.1">This specification uses a number of terms to refer to the roles played by participants in, and objects of, HTTP caching.</p>
      <p id="rfc.section.1.2.p.2"> <span id="rfc.iref.c.2"></span>  <dfn>cacheable</dfn>  
      </p>
      <dl class="empty">
         <dd>A response is cacheable if a cache is allowed to store a copy of the response message for use in answering subsequent requests.
            Even when a response is cacheable, there may be additional constraints on whether a cache can use the cached copy for a particular
            request.
         </dd>
      </dl>
      <p id="rfc.section.1.2.p.3"> <span id="rfc.iref.f.1"></span>  <dfn>first-hand</dfn>  
      </p>
      <dl class="empty">
         <dd>A response is first-hand if it comes directly and without unnecessary delay from the origin server, perhaps via one or more
            proxies. A response is also first-hand if its validity has just been checked directly with the origin server.
         </dd>
      </dl>
      <p id="rfc.section.1.2.p.4"> <span id="rfc.iref.e.1"></span>  <dfn>explicit expiration time</dfn>  
      </p>
      <dl class="empty">
         <dd>The time at which the origin server intends that an entity should no longer be returned by a cache without further validation.</dd>
      </dl>
      <p id="rfc.section.1.2.p.5"> <span id="rfc.iref.h.1"></span>  <dfn>heuristic expiration time</dfn>  
      </p>
      <dl class="empty">
         <dd>An expiration time assigned by a cache when no explicit expiration time is available.</dd>
      </dl>
      <p id="rfc.section.1.2.p.6"> <span id="rfc.iref.a.1"></span>  <dfn>age</dfn>  
      </p>
      <dl class="empty">
         <dd>The age of a response is the time since it was sent by, or successfully validated with, the origin server.</dd>
      </dl>
      <p id="rfc.section.1.2.p.7"> <span id="rfc.iref.f.2"></span>  <dfn>freshness lifetime</dfn>  
      </p>
      <dl class="empty">
         <dd>The length of time between the generation of a response and its expiration time.</dd>
      </dl>
      <p id="rfc.section.1.2.p.8"> <span id="rfc.iref.f.3"></span>  <dfn>fresh</dfn>  
      </p>
      <dl class="empty">
         <dd>A response is fresh if its age has not yet exceeded its freshness lifetime.</dd>
      </dl>
      <p id="rfc.section.1.2.p.9"> <span id="rfc.iref.s.2"></span>  <dfn>stale</dfn>  
      </p>
      <dl class="empty">
         <dd>A response is stale if its age has passed its freshness lifetime.</dd>
      </dl>
      <p id="rfc.section.1.2.p.10"> <span id="rfc.iref.v.1"></span>  <dfn>validator</dfn>  
      </p>
      <dl class="empty">
         <dd>A protocol element (e.g., an entity tag or a Last-Modified time) that is used to find out whether a cache entry is an equivalent
            copy of an entity.
         </dd>
      </dl>
      <h2 id="rfc.section.1.3"><a href="#rfc.section.1.3">1.3</a>&nbsp;<a id="intro.requirements" href="#intro.requirements">Requirements</a></h2>
      <p id="rfc.section.1.3.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL"
         in this document are to be interpreted as described in <a href="#RFC2119" id="rfc.xref.RFC2119.1"><cite title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>.
      </p>
      <p id="rfc.section.1.3.p.2">An implementation is not compliant if it fails to satisfy one or more of the <em class="bcp14">MUST</em> or <em class="bcp14">REQUIRED</em> level requirements for the protocols it implements. An implementation that satisfies all the <em class="bcp14">MUST</em> or <em class="bcp14">REQUIRED</em> level and all the <em class="bcp14">SHOULD</em> level requirements for its protocols is said to be "unconditionally compliant"; one that satisfies all the <em class="bcp14">MUST</em> level requirements but not all the <em class="bcp14">SHOULD</em> level requirements for its protocols is said to be "conditionally compliant."
      </p>
      <h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;<a id="notation" href="#notation">Notational Conventions and Generic Grammar</a></h1>
      <p id="rfc.section.2.p.1">This specification uses the ABNF syntax defined in <a href="p1-messaging.html#notation.abnf" title="ABNF Extension: #rule">Section 1.2.1</a> of <a href="#Part1" id="rfc.xref.Part1.1"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a> and the core rules defined in <a href="p1-messaging.html#basic.rules" title="Basic Rules">Section 1.2.2</a> of <a href="#Part1" id="rfc.xref.Part1.2"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>:
      </p>
      <div id="rfc.figure.u.1"></div><pre class="inline">  <a href="#notation" class="smpl">DIGIT</a>         = &lt;DIGIT, defined in <a href="#Part1" id="rfc.xref.Part1.3"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#basic.rules" title="Basic Rules">Section 1.2.2</a>&gt;
  <a href="#notation" class="smpl">DQUOTE</a>        = &lt;DQUOTE, defined in <a href="#Part1" id="rfc.xref.Part1.4"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#basic.rules" title="Basic Rules">Section 1.2.2</a>&gt;
  <a href="#notation" class="smpl">SP</a>            = &lt;SP, defined in <a href="#Part1" id="rfc.xref.Part1.5"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#basic.rules" title="Basic Rules">Section 1.2.2</a>&gt;
</pre><div id="rfc.figure.u.2"></div><pre class="inline">  <a href="#notation" class="smpl">quoted-string</a> = &lt;quoted-string, defined in <a href="#Part1" id="rfc.xref.Part1.6"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#basic.rules" title="Basic Rules">Section 1.2.2</a>&gt;
  <a href="#notation" class="smpl">token</a>         = &lt;token, defined in <a href="#Part1" id="rfc.xref.Part1.7"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#basic.rules" title="Basic Rules">Section 1.2.2</a>&gt;
  <a href="#notation" class="smpl">OWS</a>           = &lt;OWS, defined in <a href="#Part1" id="rfc.xref.Part1.8"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#basic.rules" title="Basic Rules">Section 1.2.2</a>&gt;
</pre><div id="abnf.dependencies">
         <p id="rfc.section.2.p.4">          The ABNF rules below are defined in other parts:</p>
      </div>
      <div id="rfc.figure.u.3"></div><pre class="inline">  <a href="#abnf.dependencies" class="smpl">field-name</a>    = &lt;field-name, defined in <a href="#Part1" id="rfc.xref.Part1.9"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#message.headers" title="Message Headers">Section 4.2</a>&gt;
  <a href="#abnf.dependencies" class="smpl">HTTP-date</a>     = &lt;HTTP-date, defined in <a href="#Part1" id="rfc.xref.Part1.10"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#full.date" title="Full Date">Section 3.2.1</a>&gt;
  <a href="#abnf.dependencies" class="smpl">port</a>          = &lt;port, defined in <a href="#Part1" id="rfc.xref.Part1.11"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#uri" title="Uniform Resource Identifiers">Section 2.1</a>&gt;
  <a href="#abnf.dependencies" class="smpl">pseudonym</a>     = &lt;pseudonym, defined in <a href="#Part1" id="rfc.xref.Part1.12"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#header.via" title="Via">Section 8.9</a>&gt; 
  <a href="#abnf.dependencies" class="smpl">uri-host</a>      = &lt;uri-host, defined in <a href="#Part1" id="rfc.xref.Part1.13"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#uri" title="Uniform Resource Identifiers">Section 2.1</a>&gt;
</pre><h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a id="caching.overview" href="#caching.overview">Overview</a></h1>
      <h2 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1</a>&nbsp;<a id="cache.correctness" href="#cache.correctness">Cache Correctness</a></h2>
      <p id="rfc.section.3.1.p.1">A correct cache <em class="bcp14">MUST</em> respond to a request with the most up-to-date response held by the cache that is appropriate to the request (see Sections <a href="#disambiguating.expiration.values" title="Disambiguating Expiration Values">4.5</a>, <a href="#disambiguating.multiple.responses" title="Disambiguating Multiple Responses">4.6</a>, and <a href="#cache.replacement" title="Cache Replacement">14</a>) which meets one of the following conditions: 
      </p>
      <ol>
         <li>It has been checked for equivalence with what the origin server would have returned by revalidating the response with the
            origin server (<a href="#validation.model" title="Validation Model">Section&nbsp;5</a>);
         </li>
         <li>It is "fresh enough" (see <a href="#expiration.model" title="Expiration Model">Section&nbsp;4</a>). In the default case, this means it meets the least restrictive freshness requirement of the client, origin server, and
            cache (see <a href="#header.cache-control" id="rfc.xref.header.cache-control.1" title="Cache-Control">Section&nbsp;16.2</a>); if the origin server so specifies, it is the freshness requirement of the origin server alone. If a stored response is
            not "fresh enough" by the most restrictive freshness requirement of both the client and the origin server, in carefully considered
            circumstances the cache <em class="bcp14">MAY</em> still return the response with the appropriate Warning header (see Sections <a href="#exceptions.to.the.rules.and.warnings" title="Exceptions to the Rules and Warnings">3.5</a> and <a href="#header.warning" id="rfc.xref.header.warning.1" title="Warning">16.6</a>), unless such a response is prohibited (e.g., by a "no-store" cache-directive, or by a "no-cache" cache-request-directive;
            see <a href="#header.cache-control" id="rfc.xref.header.cache-control.2" title="Cache-Control">Section&nbsp;16.2</a>).
         </li>
         <li>It is an appropriate 304 (Not Modified), 305 (Use Proxy), or error (4xx or 5xx) response message.</li>
      </ol>
      <p id="rfc.section.3.1.p.2">If the cache can not communicate with the origin server, then a correct cache <em class="bcp14">SHOULD</em> respond as above if the response can be correctly served from the cache; if not it <em class="bcp14">MUST</em> return an error or warning indicating that there was a communication failure.
      </p>
      <p id="rfc.section.3.1.p.3">If a cache receives a response (either an entire response, or a 304 (Not Modified) response) that it would normally forward
         to the requesting client, and the received response is no longer fresh, the cache <em class="bcp14">SHOULD</em> forward it to the requesting client without adding a new Warning (but without removing any existing Warning headers). A cache <em class="bcp14">SHOULD NOT</em> attempt to revalidate a response simply because that response became stale in transit; this might lead to an infinite loop.
         A user agent that receives a stale response without a Warning <em class="bcp14">MAY</em> display a warning indication to the user.
      </p>
      <h2 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2</a>&nbsp;<a id="warnings" href="#warnings">Warnings</a></h2>
      <p id="rfc.section.3.2.p.1">Whenever a cache returns a response that is neither first-hand nor "fresh enough" (in the sense of condition 2 in <a href="#cache.correctness" title="Cache Correctness">Section&nbsp;3.1</a>), it <em class="bcp14">MUST</em> attach a warning to that effect, using a Warning general-header. The Warning header and the currently defined warnings are
         described in <a href="#header.warning" id="rfc.xref.header.warning.2" title="Warning">Section&nbsp;16.6</a>. The warning allows clients to take appropriate action.
      </p>
      <p id="rfc.section.3.2.p.2">Warnings <em class="bcp14">MAY</em> be used for other purposes, both cache-related and otherwise. The use of a warning, rather than an error status code, distinguish
         these responses from true failures.
      </p>
      <p id="rfc.section.3.2.p.3">Warnings are assigned three digit warn-codes. The first digit indicates whether the Warning <em class="bcp14">MUST</em> or <em class="bcp14">MUST NOT</em> be deleted from a stored cache entry after a successful revalidation:
      </p>
      <p id="rfc.section.3.2.p.4"> </p>
      <dl>
         <dt>1xx</dt>
         <dd>Warnings that describe the freshness or revalidation status of the response, and so <em class="bcp14">MUST</em> be deleted after a successful revalidation. 1xx warn-codes <em class="bcp14">MAY</em> be generated by a cache only when validating a cached entry. It <em class="bcp14">MUST NOT</em> be generated by clients.
         </dd>
         <dt>2xx</dt>
         <dd>Warnings that describe some aspect of the entity body or entity headers that is not rectified by a revalidation (for example,
            a lossy compression of the entity bodies) and which <em class="bcp14">MUST NOT</em> be deleted after a successful revalidation.
         </dd>
      </dl>
      <p id="rfc.section.3.2.p.5">See <a href="#header.warning" id="rfc.xref.header.warning.3" title="Warning">Section&nbsp;16.6</a> for the definitions of the codes themselves.
      </p>
      <p id="rfc.section.3.2.p.6">HTTP/1.0 caches will cache all Warnings in responses, without deleting the ones in the first category. Warnings in responses
         that are passed to HTTP/1.0 caches carry an extra warning-date field, which prevents a future HTTP/1.1 recipient from believing
         an erroneously cached Warning.
      </p>
      <p id="rfc.section.3.2.p.7">Warnings also carry a warning text. The text <em class="bcp14">MAY</em> be in any appropriate natural language (perhaps based on the client's Accept headers), and include an <em class="bcp14">OPTIONAL</em> indication of what character set is used.
      </p>
      <p id="rfc.section.3.2.p.8">Multiple warnings <em class="bcp14">MAY</em> be attached to a response (either by the origin server or by a cache), including multiple warnings with the same code number.
         For example, a server might provide the same warning with texts in both English and Basque.
      </p>
      <p id="rfc.section.3.2.p.9">When multiple warnings are attached to a response, it might not be practical or reasonable to display all of them to the user.
         This version of HTTP does not specify strict priority rules for deciding which warnings to display and in what order, but
         does suggest some heuristics.
      </p>
      <h2 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3</a>&nbsp;<a id="cache-control.mechanisms" href="#cache-control.mechanisms">Cache-control Mechanisms</a></h2>
      <p id="rfc.section.3.3.p.1">The basic cache mechanisms in HTTP/1.1 (server-specified expiration times and validators) are implicit directives to caches.
         In some cases, a server or client might need to provide explicit directives to the HTTP caches. We use the Cache-Control header
         for this purpose.
      </p>
      <p id="rfc.section.3.3.p.2">The Cache-Control header allows a client or server to transmit a variety of directives in either requests or responses. These
         directives typically override the default caching algorithms. As a general rule, if there is any apparent conflict between
         header values, the most restrictive interpretation is applied (that is, the one that is most likely to preserve semantic transparency).
         However, in some cases, cache-control directives are explicitly specified as weakening the approximation of semantic transparency
         (for example, "max-stale" or "public").
      </p>
      <p id="rfc.section.3.3.p.3">The cache-control directives are described in detail in <a href="#header.cache-control" id="rfc.xref.header.cache-control.3" title="Cache-Control">Section&nbsp;16.2</a>.
      </p>
      <h2 id="rfc.section.3.4"><a href="#rfc.section.3.4">3.4</a>&nbsp;<a id="explicit.ua.warnings" href="#explicit.ua.warnings">Explicit User Agent Warnings</a></h2>
      <p id="rfc.section.3.4.p.1">Many user agents make it possible for users to override the basic caching mechanisms. For example, the user agent might allow
         the user to specify that cached entities (even explicitly stale ones) are never validated. Or the user agent might habitually
         add "Cache-Control: max-stale=3600" to every request. The user agent <em class="bcp14">SHOULD NOT</em> default to either non-transparent behavior, or behavior that results in abnormally ineffective caching, but <em class="bcp14">MAY</em> be explicitly configured to do so by an explicit action of the user.
      </p>
      <p id="rfc.section.3.4.p.2">If the user has overridden the basic caching mechanisms, the user agent <em class="bcp14">SHOULD</em> explicitly indicate to the user whenever this results in the display of information that might not meet the server's transparency
         requirements (in particular, if the displayed entity is known to be stale). Since the protocol normally allows the user agent
         to determine if responses are stale or not, this indication need only be displayed when this actually happens. The indication
         need not be a dialog box; it could be an icon (for example, a picture of a rotting fish) or some other indicator.
      </p>
      <p id="rfc.section.3.4.p.3">If the user has overridden the caching mechanisms in a way that would abnormally reduce the effectiveness of caches, the user
         agent <em class="bcp14">SHOULD</em> continually indicate this state to the user (for example, by a display of a picture of currency in flames) so that the user
         does not inadvertently consume excess resources or suffer from excessive latency.
      </p>
      <h2 id="rfc.section.3.5"><a href="#rfc.section.3.5">3.5</a>&nbsp;<a id="exceptions.to.the.rules.and.warnings" href="#exceptions.to.the.rules.and.warnings">Exceptions to the Rules and Warnings</a></h2>
      <p id="rfc.section.3.5.p.1">In some cases, the operator of a cache <em class="bcp14">MAY</em> choose to configure it to return stale responses even when not requested by clients. This decision ought not be made lightly,
         but may be necessary for reasons of availability or performance, especially when the cache is poorly connected to the origin
         server. Whenever a cache returns a stale response, it <em class="bcp14">MUST</em> mark it as such (using a Warning header) enabling the client software to alert the user that there might be a potential problem.
      </p>
      <p id="rfc.section.3.5.p.2">It also allows the user agent to take steps to obtain a first-hand or fresh response. For this reason, a cache <em class="bcp14">SHOULD NOT</em> return a stale response if the client explicitly requests a first-hand or fresh one, unless it is impossible to comply for
         technical or policy reasons.
      </p>
      <h2 id="rfc.section.3.6"><a href="#rfc.section.3.6">3.6</a>&nbsp;<a id="client-controlled.behavior" href="#client-controlled.behavior">Client-controlled Behavior</a></h2>
      <p id="rfc.section.3.6.p.1">While the origin server (and to a lesser extent, intermediate caches, by their contribution to the age of a response) are
         the primary source of expiration information, in some cases the client might need to control a cache's decision about whether
         to return a cached response without validating it. Clients do this using several directives of the Cache-Control header.
      </p>
      <p id="rfc.section.3.6.p.2">A client's request <em class="bcp14">MAY</em> specify the maximum age it is willing to accept of an unvalidated response; specifying a value of zero forces the cache(s)
         to revalidate all responses. A client <em class="bcp14">MAY</em> also specify the minimum time remaining before a response expires. Both of these options increase constraints on the behavior
         of caches, and so cannot further relax the cache's approximation of semantic transparency.
      </p>
      <p id="rfc.section.3.6.p.3">A client <em class="bcp14">MAY</em> also specify that it will accept stale responses, up to some maximum amount of staleness. This loosens the constraints on
         the caches, and so might violate the origin server's specified constraints on semantic transparency, but might be necessary
         to support disconnected operation, or high availability in the face of poor connectivity.
      </p>
      <h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a id="expiration.model" href="#expiration.model">Expiration Model</a></h1>
      <h2 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1</a>&nbsp;<a id="server-specified.expiration" href="#server-specified.expiration">Server-Specified Expiration</a></h2>
      <p id="rfc.section.4.1.p.1">HTTP caching works best when caches can entirely avoid making requests to the origin server. The primary mechanism for avoiding
         requests is for an origin server to provide an explicit expiration time in the future, indicating that a response <em class="bcp14">MAY</em> be used to satisfy subsequent requests. In other words, a cache can return a fresh response without first contacting the server.
      </p>
      <p id="rfc.section.4.1.p.2">Our expectation is that servers will assign future explicit expiration times to responses in the belief that the entity is
         not likely to change, in a semantically significant way, before the expiration time is reached. This normally preserves semantic
         transparency, as long as the server's expiration times are carefully chosen.
      </p>
      <p id="rfc.section.4.1.p.3">The expiration mechanism applies only to responses taken from a cache and not to first-hand responses forwarded immediately
         to the requesting client.
      </p>
      <p id="rfc.section.4.1.p.4">If an origin server wishes to force a semantically transparent cache to validate every request, it <em class="bcp14">MAY</em> assign an explicit expiration time in the past. This means that the response is always stale, and so the cache <em class="bcp14">SHOULD</em> validate it before using it for subsequent requests. See <a href="#cache.revalidation.and.reload.controls" title="Cache Revalidation and Reload Controls">Section&nbsp;16.2.4</a> for a more restrictive way to force revalidation.
      </p>
      <p id="rfc.section.4.1.p.5">If an origin server wishes to force any HTTP/1.1 cache, no matter how it is configured, to validate every request, it <em class="bcp14">SHOULD</em> use the "must-revalidate" cache-control directive (see <a href="#header.cache-control" id="rfc.xref.header.cache-control.4" title="Cache-Control">Section&nbsp;16.2</a>).
      </p>
      <p id="rfc.section.4.1.p.6">Servers specify explicit expiration times using either the Expires header, or the max-age directive of the Cache-Control header.</p>
      <p id="rfc.section.4.1.p.7">An expiration time cannot be used to force a user agent to refresh its display or reload a resource; its semantics apply only
         to caching mechanisms, and such mechanisms need only check a resource's expiration status when a new request for that resource
         is initiated. See <a href="#history.lists" title="History Lists">Section&nbsp;15</a> for an explanation of the difference between caches and history mechanisms.
      </p>
      <h2 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2</a>&nbsp;<a id="heuristic.expiration" href="#heuristic.expiration">Heuristic Expiration</a></h2>
      <p id="rfc.section.4.2.p.1">Since origin servers do not always provide explicit expiration times, HTTP caches typically assign heuristic expiration times,
         employing algorithms that use other header values (such as the Last-Modified time) to estimate a plausible expiration time.
         The HTTP/1.1 specification does not provide specific algorithms, but does impose worst-case constraints on their results.
         Since heuristic expiration times might compromise semantic transparency, they ought to be used cautiously, and we encourage
         origin servers to provide explicit expiration times as much as possible.
      </p>
      <h2 id="rfc.section.4.3"><a href="#rfc.section.4.3">4.3</a>&nbsp;<a id="age.calculations" href="#age.calculations">Age Calculations</a></h2>
      <p id="rfc.section.4.3.p.1">In order to know if a cached entry is fresh, a cache needs to know if its age exceeds its freshness lifetime. We discuss how
         to calculate the latter in <a href="#expiration.calculations" title="Expiration Calculations">Section&nbsp;4.4</a>; this section describes how to calculate the age of a response or cache entry.
      </p>
      <p id="rfc.section.4.3.p.2">In this discussion, we use the term "now" to mean "the current value of the clock at the host performing the calculation."
         Hosts that use HTTP, but especially hosts running origin servers and caches, <em class="bcp14">SHOULD</em> use NTP <a href="#RFC1305" id="rfc.xref.RFC1305.1"><cite title="Network Time Protocol (Version 3) Specification, Implementation">[RFC1305]</cite></a> or some similar protocol to synchronize their clocks to a globally accurate time standard.
      </p>
      <p id="rfc.section.4.3.p.3">HTTP/1.1 requires origin servers to send a Date header, if possible, with every response, giving the time at which the response
         was generated (see <a href="p1-messaging.html#header.date" title="Date">Section 8.3</a> of <a href="#Part1" id="rfc.xref.Part1.14"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>). We use the term "date_value" to denote the value of the Date header, in a form appropriate for arithmetic operations.
      </p>
      <p id="rfc.section.4.3.p.4">HTTP/1.1 uses the Age response-header to convey the estimated age of the response message when obtained from a cache. The
         Age field value is the cache's estimate of the amount of time since the response was generated or revalidated by the origin
         server.
      </p>
      <p id="rfc.section.4.3.p.5">In essence, the Age value is the sum of the time that the response has been resident in each of the caches along the path
         from the origin server, plus the amount of time it has been in transit along network paths.
      </p>
      <p id="rfc.section.4.3.p.6">We use the term "age_value" to denote the value of the Age header, in a form appropriate for arithmetic operations.</p>
      <p id="rfc.section.4.3.p.7">A response's age can be calculated in two entirely independent ways: </p>
      <ol>
         <li>now minus date_value, if the local clock is reasonably well synchronized to the origin server's clock. If the result is negative,
            the result is replaced by zero.
         </li>
         <li>age_value, if all of the caches along the response path implement HTTP/1.1.</li>
      </ol>
      <p id="rfc.section.4.3.p.8">Given that we have two independent ways to compute the age of a response when it is received, we can combine these as</p>
      <div id="rfc.figure.u.4"></div><pre class="text">    corrected_received_age = max(now - date_value, age_value)
</pre><p id="rfc.section.4.3.p.10">and as long as we have either nearly synchronized clocks or all-HTTP/1.1 paths, one gets a reliable (conservative) result.</p>
      <p id="rfc.section.4.3.p.11">Because of network-imposed delays, some significant interval might pass between the time that a server generates a response
         and the time it is received at the next outbound cache or client. If uncorrected, this delay could result in improperly low
         ages.
      </p>
      <p id="rfc.section.4.3.p.12">Because the request that resulted in the returned Age value must have been initiated prior to that Age value's generation,
         we can correct for delays imposed by the network by recording the time at which the request was initiated. Then, when an Age
         value is received, it <em class="bcp14">MUST</em> be interpreted relative to the time the request was initiated, not the time that the response was received. This algorithm
         results in conservative behavior no matter how much delay is experienced. So, we compute:
      </p>
      <div id="rfc.figure.u.5"></div><pre class="text">   corrected_initial_age = corrected_received_age
                         + (now - request_time)
</pre><p id="rfc.section.4.3.p.14">where "request_time" is the time (according to the local clock) when the request that elicited this response was sent.</p>
      <p id="rfc.section.4.3.p.15">Summary of age calculation algorithm, when a cache receives a response:</p>
      <div id="rfc.figure.u.6"></div><pre class="text">   /*
    * age_value
    *      is the value of Age: header received by the cache with
    *              this response.
    * date_value
    *      is the value of the origin server's Date: header
    * request_time
    *      is the (local) time when the cache made the request
    *              that resulted in this cached response
    * response_time
    *      is the (local) time when the cache received the
    *              response
    * now
    *      is the current (local) time
    */

   apparent_age = max(0, response_time - date_value);
   corrected_received_age = max(apparent_age, age_value);
   response_delay = response_time - request_time;
   corrected_initial_age = corrected_received_age + response_delay;
   resident_time = now - response_time;
   current_age   = corrected_initial_age + resident_time;
</pre><p id="rfc.section.4.3.p.17">The current_age of a cache entry is calculated by adding the amount of time (in seconds) since the cache entry was last validated
         by the origin server to the corrected_initial_age. When a response is generated from a cache entry, the cache <em class="bcp14">MUST</em> include a single Age header field in the response with a value equal to the cache entry's current_age.
      </p>
      <p id="rfc.section.4.3.p.18">The presence of an Age header field in a response implies that a response is not first-hand. However, the converse is not
         true, since the lack of an Age header field in a response does not imply that the response is first-hand unless all caches
         along the request path are compliant with HTTP/1.1 (i.e., older HTTP caches did not implement the Age header field).
      </p>
      <h2 id="rfc.section.4.4"><a href="#rfc.section.4.4">4.4</a>&nbsp;<a id="expiration.calculations" href="#expiration.calculations">Expiration Calculations</a></h2>
      <p id="rfc.section.4.4.p.1">In order to decide whether a response is fresh or stale, we need to compare its freshness lifetime to its age. The age is
         calculated as described in <a href="#age.calculations" title="Age Calculations">Section&nbsp;4.3</a>; this section describes how to calculate the freshness lifetime, and to determine if a response has expired. In the discussion
         below, the values can be represented in any form appropriate for arithmetic operations.
      </p>
      <p id="rfc.section.4.4.p.2">We use the term "expires_value" to denote the value of the Expires header. We use the term "max_age_value" to denote an appropriate
         value of the number of seconds carried by the "max-age" directive of the Cache-Control header in a response (see <a href="#modifications.of.the.basic.expiration.mechanism" title="Modifications of the Basic Expiration Mechanism">Section&nbsp;16.2.3</a>).
      </p>
      <p id="rfc.section.4.4.p.3">The max-age directive takes priority over Expires, so if max-age is present in a response, the calculation is simply:</p>
      <div id="rfc.figure.u.7"></div><pre class="text">   freshness_lifetime = max_age_value
</pre><p id="rfc.section.4.4.p.5">Otherwise, if Expires is present in the response, the calculation is:</p>
      <div id="rfc.figure.u.8"></div><pre class="text">   freshness_lifetime = expires_value - date_value
</pre><p id="rfc.section.4.4.p.7">Note that neither of these calculations is vulnerable to clock skew, since all of the information comes from the origin server.</p>
      <p id="rfc.section.4.4.p.8">If none of Expires, Cache-Control: max-age, or Cache-Control: s-maxage (see <a href="#modifications.of.the.basic.expiration.mechanism" title="Modifications of the Basic Expiration Mechanism">Section&nbsp;16.2.3</a>) appears in the response, and the response does not include other restrictions on caching, the cache <em class="bcp14">MAY</em> compute a freshness lifetime using a heuristic. The cache <em class="bcp14">MUST</em> attach Warning 113 to any response whose age is more than 24 hours if such warning has not already been added.
      </p>
      <p id="rfc.section.4.4.p.9">Also, if the response does have a Last-Modified time, the heuristic expiration value <em class="bcp14">SHOULD</em> be no more than some fraction of the interval since that time. A typical setting of this fraction might be 10%.
      </p>
      <p id="rfc.section.4.4.p.10">The calculation to determine if a response has expired is quite simple:</p>
      <div id="rfc.figure.u.9"></div><pre class="text">   response_is_fresh = (freshness_lifetime &gt; current_age)
</pre><h2 id="rfc.section.4.5"><a href="#rfc.section.4.5">4.5</a>&nbsp;<a id="disambiguating.expiration.values" href="#disambiguating.expiration.values">Disambiguating Expiration Values</a></h2>
      <p id="rfc.section.4.5.p.1">Because expiration values are assigned optimistically, it is possible for two caches to contain fresh values for the same
         resource that are different.
      </p>
      <p id="rfc.section.4.5.p.2">If a client performing a retrieval receives a non-first-hand response for a request that was already fresh in its own cache,
         and the Date header in its existing cache entry is newer than the Date on the new response, then the client <em class="bcp14">MAY</em> ignore the response. If so, it <em class="bcp14">MAY</em> retry the request with a "Cache-Control: max-age=0" directive (see <a href="#header.cache-control" id="rfc.xref.header.cache-control.5" title="Cache-Control">Section&nbsp;16.2</a>), to force a check with the origin server.
      </p>
      <p id="rfc.section.4.5.p.3">If a cache has two fresh responses for the same representation with different validators, it <em class="bcp14">MUST</em> use the one with the more recent Date header. This situation might arise because the cache is pooling responses from other
         caches, or because a client has asked for a reload or a revalidation of an apparently fresh cache entry.
      </p>
      <h2 id="rfc.section.4.6"><a href="#rfc.section.4.6">4.6</a>&nbsp;<a id="disambiguating.multiple.responses" href="#disambiguating.multiple.responses">Disambiguating Multiple Responses</a></h2>
      <p id="rfc.section.4.6.p.1">Because a client might be receiving responses via multiple paths, so that some responses flow through one set of caches and
         other responses flow through a different set of caches, a client might receive responses in an order different from that in
         which the origin server sent them. We would like the client to use the most recently generated response, even if older responses
         are still apparently fresh.
      </p>
      <p id="rfc.section.4.6.p.2">Neither the entity tag nor the expiration value can impose an ordering on responses, since it is possible that a later response
         intentionally carries an earlier expiration time. The Date values are ordered to a granularity of one second.
      </p>
      <p id="rfc.section.4.6.p.3">When a client tries to revalidate a cache entry, and the response it receives contains a Date header that appears to be older
         than the one for the existing entry, then the client <em class="bcp14">SHOULD</em> repeat the request unconditionally, and include
      </p>
      <div id="rfc.figure.u.10"></div><pre class="text">    Cache-Control: max-age=0
</pre><p id="rfc.section.4.6.p.5">to force any intermediate caches to validate their copies directly with the origin server, or</p>
      <div id="rfc.figure.u.11"></div><pre class="text">    Cache-Control: no-cache
</pre><p id="rfc.section.4.6.p.7">to force any intermediate caches to obtain a new copy from the origin server.</p>
      <p id="rfc.section.4.6.p.8">If the Date values are equal, then the client <em class="bcp14">MAY</em> use either response (or <em class="bcp14">MAY</em>, if it is being extremely prudent, request a new response). Servers <em class="bcp14">MUST NOT</em> depend on clients being able to choose deterministically between responses generated during the same second, if their expiration
         times overlap.
      </p>
      <h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a id="validation.model" href="#validation.model">Validation Model</a></h1>
      <p id="rfc.section.5.p.1">When a cache has a stale entry that it would like to use as a response to a client's request, it first has to check with the
         origin server (or possibly an intermediate cache with a fresh response) to see if its cached entry is still usable. We call
         this "validating" the cache entry.
      </p>
      <p id="rfc.section.5.p.2">HTTP's conditional request mechanism, defined in <a href="#Part4" id="rfc.xref.Part4.1"><cite title="HTTP/1.1, part 4: Conditional Requests">[Part4]</cite></a>, is used to avoid retransmitting the response payload when the cached entry is valid. When a cached response includes one
         or more "cache validators," such as the field values of an ETag or Last-Modified header field, then a validating GET request <em class="bcp14">SHOULD</em> be made conditional to those field values. The server checks the conditional request's validator against the current state
         of the requested resource and, if they match, the server responds with a 304 (Not Modified) status code to indicate that the
         cached response can be refreshed and reused without retransmitting the response payload. If the validator does not match the
         current state of the requested resource, then the server returns a full response, including payload, so that the request can
         be satisfied and the cache entry supplanted without the need for an additional network round-trip.
      </p>
      <h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a>&nbsp;<a id="response.cacheability" href="#response.cacheability">Response Cacheability</a></h1>
      <p id="rfc.section.6.p.1">Unless specifically constrained by a cache-control (<a href="#header.cache-control" id="rfc.xref.header.cache-control.6" title="Cache-Control">Section&nbsp;16.2</a>) directive, a caching system <em class="bcp14">MAY</em> always store a successful response (see <a href="#errors.or.incomplete.response.cache.behavior" title="Errors or Incomplete Response Cache Behavior">Section&nbsp;10</a>) as a cache entry, <em class="bcp14">MAY</em> return it without validation if it is fresh, and <em class="bcp14">MAY</em> return it after successful validation. If there is neither a cache validator nor an explicit expiration time associated with
         a response, we do not expect it to be cached, but certain caches <em class="bcp14">MAY</em> violate this expectation (for example, when little or no network connectivity is available). A client can usually detect that
         such a response was taken from a cache by comparing the Date header to the current time. 
      </p>
      <dl class="empty">
         <dd> <b>Note:</b> some HTTP/1.0 caches are known to violate this expectation without providing any Warning.
         </dd>
      </dl>
      <p id="rfc.section.6.p.2">However, in some cases it might be inappropriate for a cache to retain an entity, or to return it in response to a subsequent
         request. This might be because absolute semantic transparency is deemed necessary by the service author, or because of security
         or privacy considerations. Certain cache-control directives are therefore provided so that the server can indicate that certain
         resource entities, or portions thereof, are not to be cached regardless of other considerations.
      </p>
      <p id="rfc.section.6.p.3">Note that <a href="p7-auth.html#header.authorization" title="Authorization">Section 4.1</a> of <a href="#Part7" id="rfc.xref.Part7.1"><cite title="HTTP/1.1, part 7: Authentication">[Part7]</cite></a> normally prevents a shared cache from saving and returning a response to a previous request if that request included an Authorization
         header.
      </p>
      <p id="rfc.section.6.p.4">A response received with a status code of 200, 203, 206, 300, 301 or 410 <em class="bcp14">MAY</em> be stored by a cache and used in reply to a subsequent request, subject to the expiration mechanism, unless a cache-control
         directive prohibits caching. However, a cache that does not support the Range and Content-Range headers <em class="bcp14">MUST NOT</em> cache 206 (Partial Content) responses.
      </p>
      <p id="rfc.section.6.p.5">A response received with any other status code (e.g. status codes 302 and 307) <em class="bcp14">MUST NOT</em> be returned in a reply to a subsequent request unless there are cache-control directives or another header(s) that explicitly
         allow it. For example, these include the following: an Expires header (<a href="#header.expires" id="rfc.xref.header.expires.1" title="Expires">Section&nbsp;16.3</a>); a "max-age", "s-maxage", "must-revalidate", "proxy-revalidate", "public" or "private" cache-control directive (<a href="#header.cache-control" id="rfc.xref.header.cache-control.7" title="Cache-Control">Section&nbsp;16.2</a>).
      </p>
      <h1 id="rfc.section.7"><a href="#rfc.section.7">7.</a>&nbsp;<a id="constructing.responses.from.caches" href="#constructing.responses.from.caches">Constructing Responses From Caches</a></h1>
      <p id="rfc.section.7.p.1">The purpose of an HTTP cache is to store information received in response to requests for use in responding to future requests.
         In many cases, a cache simply returns the appropriate parts of a response to the requester. However, if the cache holds a
         cache entry based on a previous response, it might have to combine parts of a new response with what is held in the cache
         entry.
      </p>
      <h2 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1</a>&nbsp;<a id="end-to-end.and.hop-by-hop.headers" href="#end-to-end.and.hop-by-hop.headers">End-to-end and Hop-by-hop Headers</a></h2>
      <p id="rfc.section.7.1.p.1">For the purpose of defining the behavior of caches and non-caching proxies, we divide HTTP headers into two categories: </p>
      <ul>
         <li>End-to-end headers, which are transmitted to the ultimate recipient of a request or response. End-to-end headers in responses <em class="bcp14">MUST</em> be stored as part of a cache entry and <em class="bcp14">MUST</em> be transmitted in any response formed from a cache entry.
         </li>
         <li>Hop-by-hop headers, which are meaningful only for a single transport-level connection, and are not stored by caches or forwarded
            by proxies.
         </li>
      </ul>
      <p id="rfc.section.7.1.p.2">The following HTTP/1.1 headers are hop-by-hop headers: </p>
      <ul>
         <li>Connection</li>
         <li>Keep-Alive</li>
         <li>Proxy-Authenticate</li>
         <li>Proxy-Authorization</li>
         <li>TE</li>
         <li>Trailer</li>
         <li>Transfer-Encoding</li>
         <li>Upgrade</li>
      </ul>
      <p id="rfc.section.7.1.p.3">All other headers defined by HTTP/1.1 are end-to-end headers.</p>
      <p id="rfc.section.7.1.p.4">Other hop-by-hop headers <em class="bcp14">MUST</em> be listed in a Connection header (<a href="p1-messaging.html#header.connection" title="Connection">Section 8.1</a> of <a href="#Part1" id="rfc.xref.Part1.15"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>).
      </p>
      <h2 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2</a>&nbsp;<a id="non-modifiable.headers" href="#non-modifiable.headers">Non-modifiable Headers</a></h2>
      <p id="rfc.section.7.2.p.1">Some features of HTTP/1.1, such as Digest Authentication, depend on the value of certain end-to-end headers. A transparent
         proxy <em class="bcp14">SHOULD NOT</em> modify an end-to-end header unless the definition of that header requires or specifically allows that.
      </p>
      <p id="rfc.section.7.2.p.2">A transparent proxy <em class="bcp14">MUST NOT</em> modify any of the following fields in a request or response, and it <em class="bcp14">MUST NOT</em> add any of these fields if not already present: 
      </p>
      <ul>
         <li>Content-Location</li>
         <li>Content-MD5</li>
         <li>ETag</li>
         <li>Last-Modified</li>
      </ul>
      <p id="rfc.section.7.2.p.3">A transparent proxy <em class="bcp14">MUST NOT</em> modify any of the following fields in a response: 
      </p>
      <ul>
         <li>Expires</li>
      </ul>
      <p id="rfc.section.7.2.p.4">but it <em class="bcp14">MAY</em> add any of these fields if not already present. If an Expires header is added, it <em class="bcp14">MUST</em> be given a field-value identical to that of the Date header in that response.
      </p>
      <p id="rfc.section.7.2.p.5">A proxy <em class="bcp14">MUST NOT</em> modify or add any of the following fields in a message that contains the no-transform cache-control directive, or in any request: 
      </p>
      <ul>
         <li>Content-Encoding</li>
         <li>Content-Range</li>
         <li>Content-Type</li>
      </ul>
      <p id="rfc.section.7.2.p.6">A non-transparent proxy <em class="bcp14">MAY</em> modify or add these fields to a message that does not include no-transform, but if it does so, it <em class="bcp14">MUST</em> add a Warning 214 (Transformation applied) if one does not already appear in the message (see <a href="#header.warning" id="rfc.xref.header.warning.4" title="Warning">Section&nbsp;16.6</a>). 
      </p>
      <dl class="empty">
         <dd>Warning: unnecessary modification of end-to-end headers might cause authentication failures if stronger authentication mechanisms
            are introduced in later versions of HTTP. Such authentication mechanisms <em class="bcp14">MAY</em> rely on the values of header fields not listed here.
         </dd>
      </dl>
      <p id="rfc.section.7.2.p.7">The Content-Length field of a request or response is added or deleted according to the rules in <a href="p1-messaging.html#message.length" title="Message Length">Section 4.4</a> of <a href="#Part1" id="rfc.xref.Part1.16"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>. A transparent proxy <em class="bcp14">MUST</em> preserve the entity-length (<a href="p3-payload.html#entity.length" title="Entity Length">Section 4.2.2</a> of <a href="#Part3" id="rfc.xref.Part3.1"><cite title="HTTP/1.1, part 3: Message Payload and Content Negotiation">[Part3]</cite></a>) of the entity-body, although it <em class="bcp14">MAY</em> change the transfer-length (<a href="p1-messaging.html#message.length" title="Message Length">Section 4.4</a> of <a href="#Part1" id="rfc.xref.Part1.17"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>).
      </p>
      <h2 id="rfc.section.7.3"><a href="#rfc.section.7.3">7.3</a>&nbsp;<a id="combining.headers" href="#combining.headers">Combining Headers</a></h2>
      <p id="rfc.section.7.3.p.1">When a cache makes a validating request to a server, and the server provides a 304 (Not Modified) response or a 206 (Partial
         Content) response, the cache then constructs a response to send to the requesting client.
      </p>
      <p id="rfc.section.7.3.p.2">If the status code is 304 (Not Modified), the cache uses the entity-body stored in the cache entry as the entity-body of this
         outgoing response. If the status code is 206 (Partial Content) and the ETag or Last-Modified headers match exactly, the cache <em class="bcp14">MAY</em> combine the contents stored in the cache entry with the new contents received in the response and use the result as the entity-body
         of this outgoing response, (see <a href="p5-range.html#combining.byte.ranges" title="Combining Byte Ranges">Section 5</a> of <a href="#Part5" id="rfc.xref.Part5.1"><cite title="HTTP/1.1, part 5: Range Requests and Partial Responses">[Part5]</cite></a>).
      </p>
      <p id="rfc.section.7.3.p.3">The end-to-end headers stored in the cache entry are used for the constructed response, except that </p>
      <ul>
         <li>any stored Warning headers with warn-code 1xx (see <a href="#header.warning" id="rfc.xref.header.warning.5" title="Warning">Section&nbsp;16.6</a>) <em class="bcp14">MUST</em> be deleted from the cache entry and the forwarded response.
         </li>
         <li>any stored Warning headers with warn-code 2xx <em class="bcp14">MUST</em> be retained in the cache entry and the forwarded response.
         </li>
         <li>any end-to-end headers provided in the 304 or 206 response <em class="bcp14">MUST</em> replace the corresponding headers from the cache entry.
         </li>
      </ul>
      <p id="rfc.section.7.3.p.4">Unless the cache decides to remove the cache entry, it <em class="bcp14">MUST</em> also replace the end-to-end headers stored with the cache entry with corresponding headers received in the incoming response,
         except for Warning headers as described immediately above. If a header field-name in the incoming response matches more than
         one header in the cache entry, all such old headers <em class="bcp14">MUST</em> be replaced.
      </p>
      <p id="rfc.section.7.3.p.5">In other words, the set of end-to-end headers received in the incoming response overrides all corresponding end-to-end headers
         stored with the cache entry (except for stored Warning headers with warn-code 1xx, which are deleted even if not overridden). 
      </p>
      <dl class="empty">
         <dd> <b>Note:</b> this rule allows an origin server to use a 304 (Not Modified) or a 206 (Partial Content) response to update any header associated
            with a previous response for the same entity or sub-ranges thereof, although it might not always be meaningful or correct
            to do so. This rule does not allow an origin server to use a 304 (Not Modified) or a 206 (Partial Content) response to entirely
            delete a header that it had provided with a previous response.
         </dd>
      </dl>
      <h1 id="rfc.section.8"><a href="#rfc.section.8">8.</a>&nbsp;<a id="caching.negotiated.responses" href="#caching.negotiated.responses">Caching Negotiated Responses</a></h1>
      <p id="rfc.section.8.p.1">Use of server-driven content negotiation (<a href="p3-payload.html#server-driven.negotiation" title="Server-driven Negotiation">Section 5.1</a> of <a href="#Part3" id="rfc.xref.Part3.2"><cite title="HTTP/1.1, part 3: Message Payload and Content Negotiation">[Part3]</cite></a>), as indicated by the presence of a Vary header field in a response, alters the conditions and procedure by which a cache
         can use the response for subsequent requests. See <a href="#header.vary" id="rfc.xref.header.vary.1" title="Vary">Section&nbsp;16.5</a> for use of the Vary header field by servers.
      </p>
      <p id="rfc.section.8.p.2">A server <em class="bcp14">SHOULD</em> use the Vary header field to inform a cache of what request-header fields were used to select among multiple representations
         of a cacheable response subject to server-driven negotiation. The set of header fields named by the Vary field value is known
         as the "selecting" request-headers.
      </p>
      <p id="rfc.section.8.p.3">When the cache receives a subsequent request whose request-target specifies one or more cache entries including a Vary header
         field, the cache <em class="bcp14">MUST NOT</em> use such a cache entry to construct a response to the new request unless all of the selecting request-headers present in the
         new request match the corresponding stored request-headers in the original request.
      </p>
      <p id="rfc.section.8.p.4">The selecting request-headers from two requests are defined to match if and only if the selecting request-headers in the first
         request can be transformed to the selecting request-headers in the second request by adding or removing linear white space
         (LWS) at places where this is allowed by the corresponding BNF, and/or combining multiple message-header fields with the same
         field name following the rules about message headers in <a href="p1-messaging.html#message.headers" title="Message Headers">Section 4.2</a> of <a href="#Part1" id="rfc.xref.Part1.18"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>.
      </p>
      <p id="rfc.section.8.p.5">A Vary header field-value of "*" always fails to match and subsequent requests on that resource can only be properly interpreted
         by the origin server.
      </p>
      <p id="rfc.section.8.p.6">If the selecting request header fields for the cached entry do not match the selecting request header fields of the new request,
         then the cache <em class="bcp14">MUST NOT</em> use a cached entry to satisfy the request unless it first relays the new request to the origin server in a conditional request
         and the server responds with 304 (Not Modified), including an entity tag or Content-Location that indicates the entity to
         be used.
      </p>
      <p id="rfc.section.8.p.7">If an entity tag was assigned to a cached representation, the forwarded request <em class="bcp14">SHOULD</em> be conditional and include the entity tags in an If-None-Match header field from all its cache entries for the resource. This
         conveys to the server the set of entities currently held by the cache, so that if any one of these entities matches the requested
         entity, the server can use the ETag header field in its 304 (Not Modified) response to tell the cache which entry is appropriate.
         If the entity-tag of the new response matches that of an existing entry, the new response <em class="bcp14">SHOULD</em> be used to update the header fields of the existing entry, and the result <em class="bcp14">MUST</em> be returned to the client.
      </p>
      <p id="rfc.section.8.p.8">If any of the existing cache entries contains only partial content for the associated entity, its entity-tag <em class="bcp14">SHOULD NOT</em> be included in the If-None-Match header field unless the request is for a range that would be fully satisfied by that entry.
      </p>
      <p id="rfc.section.8.p.9">If a cache receives a successful response whose Content-Location field matches that of an existing cache entry for the same
         request-target, whose entity-tag differs from that of the existing entry, and whose Date is more recent than that of the existing
         entry, the existing entry <em class="bcp14">SHOULD NOT</em> be returned in response to future requests and <em class="bcp14">SHOULD</em> be deleted from the cache.
      </p>
      <h1 id="rfc.section.9"><a href="#rfc.section.9">9.</a>&nbsp;<a id="shared.and.non-shared.caches" href="#shared.and.non-shared.caches">Shared and Non-Shared Caches</a></h1>
      <p id="rfc.section.9.p.1">For reasons of security and privacy, it is necessary to make a distinction between "shared" and "non-shared" caches. A non-shared
         cache is one that is accessible only to a single user. Accessibility in this case <em class="bcp14">SHOULD</em> be enforced by appropriate security mechanisms. All other caches are considered to be "shared." Other sections of this specification
         place certain constraints on the operation of shared caches in order to prevent loss of privacy or failure of access controls.
      </p>
      <h1 id="rfc.section.10"><a href="#rfc.section.10">10.</a>&nbsp;<a id="errors.or.incomplete.response.cache.behavior" href="#errors.or.incomplete.response.cache.behavior">Errors or Incomplete Response Cache Behavior</a></h1>
      <p id="rfc.section.10.p.1">A cache that receives an incomplete response (for example, with fewer bytes of data than specified in a Content-Length header) <em class="bcp14">MAY</em> store the response. However, the cache <em class="bcp14">MUST</em> treat this as a partial response. Partial responses <em class="bcp14">MAY</em> be combined as described in <a href="p5-range.html#combining.byte.ranges" title="Combining Byte Ranges">Section 5</a> of <a href="#Part5" id="rfc.xref.Part5.2"><cite title="HTTP/1.1, part 5: Range Requests and Partial Responses">[Part5]</cite></a>; the result might be a full response or might still be partial. A cache <em class="bcp14">MUST NOT</em> return a partial response to a client without explicitly marking it as such, using the 206 (Partial Content) status code.
         A cache <em class="bcp14">MUST NOT</em> return a partial response using a status code of 200 (OK).
      </p>
      <p id="rfc.section.10.p.2">If a cache receives a 5xx response while attempting to revalidate an entry, it <em class="bcp14">MAY</em> either forward this response to the requesting client, or act as if the server failed to respond. In the latter case, it <em class="bcp14">MAY</em> return a previously received response unless the cached entry includes the "must-revalidate" cache-control directive (see <a href="#header.cache-control" id="rfc.xref.header.cache-control.8" title="Cache-Control">Section&nbsp;16.2</a>).
      </p>
      <h1 id="rfc.section.11"><a href="#rfc.section.11">11.</a>&nbsp;<a id="side.effects.of.get.and.head" href="#side.effects.of.get.and.head">Side Effects of GET and HEAD</a></h1>
      <p id="rfc.section.11.p.1">Unless the origin server explicitly prohibits the caching of their responses, the application of GET and HEAD methods to any
         resources <em class="bcp14">SHOULD NOT</em> have side effects that would lead to erroneous behavior if these responses are taken from a cache. They <em class="bcp14">MAY</em> still have side effects, but a cache is not required to consider such side effects in its caching decisions. Caches are always
         expected to observe an origin server's explicit restrictions on caching.
      </p>
      <p id="rfc.section.11.p.2">We note one exception to this rule: since some applications have traditionally used GET and HEAD requests with URLs containing
         a query part to perform operations with significant side effects, caches <em class="bcp14">MUST NOT</em> treat responses to such URIs as fresh unless the server provides an explicit expiration time. This specifically means that
         responses from HTTP/1.0 servers for such URIs <em class="bcp14">SHOULD NOT</em> be taken from a cache. See <a href="p2-semantics.html#safe.methods" title="Safe Methods">Section 8.1.1</a> of <a href="#Part2" id="rfc.xref.Part2.1"><cite title="HTTP/1.1, part 2: Message Semantics">[Part2]</cite></a> for related information.
      </p>
      <h1 id="rfc.section.12"><a href="#rfc.section.12">12.</a>&nbsp;<a id="invalidation.after.updates.or.deletions" href="#invalidation.after.updates.or.deletions">Invalidation After Updates or Deletions</a></h1>
      <p id="rfc.section.12.p.1">The effect of certain methods performed on a resource at the origin server might cause one or more existing cache entries
         to become non-transparently invalid. That is, although they might continue to be "fresh," they do not accurately reflect what
         the origin server would return for a new request on that resource.
      </p>
      <p id="rfc.section.12.p.2">There is no way for HTTP to guarantee that all such cache entries are marked invalid. For example, the request that caused
         the change at the origin server might not have gone through the proxy where a cache entry is stored. However, several rules
         help reduce the likelihood of erroneous behavior.
      </p>
      <p id="rfc.section.12.p.3">In this section, the phrase "invalidate an entity" means that the cache will either remove all instances of that entity from
         its storage, or will mark these as "invalid" and in need of a mandatory revalidation before they can be returned in response
         to a subsequent request.
      </p>
      <p id="rfc.section.12.p.4">Some HTTP methods <em class="bcp14">MUST</em> cause a cache to invalidate an entity. This is either the entity referred to by the request-target, or by the Location or
         Content-Location headers (if present). These methods are: 
      </p>
      <ul>
         <li>PUT</li>
         <li>DELETE</li>
         <li>POST</li>
      </ul>
      <p id="rfc.section.12.p.5">An invalidation based on the URI in a Location or Content-Location header <em class="bcp14">MUST NOT</em> be performed if the host part of that URI differs from the host part in the request-target. This helps prevent denial of service
         attacks.
      </p>
      <p id="rfc.section.12.p.6">A cache that passes through requests for methods it does not understand <em class="bcp14">SHOULD</em> invalidate any entities referred to by the request-target.
      </p>
      <h1 id="rfc.section.13"><a href="#rfc.section.13">13.</a>&nbsp;<a id="write-through.mandatory" href="#write-through.mandatory">Write-Through Mandatory</a></h1>
      <p id="rfc.section.13.p.1">All methods that might be expected to cause modifications to the origin server's resources <em class="bcp14">MUST</em> be written through to the origin server. This currently includes all methods except for GET and HEAD. A cache <em class="bcp14">MUST NOT</em> reply to such a request from a client before having transmitted the request to the inbound server, and having received a corresponding
         response from the inbound server. This does not prevent a proxy cache from sending a 100 (Continue) response before the inbound
         server has sent its final reply.
      </p>
      <p id="rfc.section.13.p.2">The alternative (known as "write-back" or "copy-back" caching) is not allowed in HTTP/1.1, due to the difficulty of providing
         consistent updates and the problems arising from server, cache, or network failure prior to write-back.
      </p>
      <h1 id="rfc.section.14"><a href="#rfc.section.14">14.</a>&nbsp;<a id="cache.replacement" href="#cache.replacement">Cache Replacement</a></h1>
      <p id="rfc.section.14.p.1">If a new cacheable (see Sections <a href="#what.may.be.stored.by.caches" title="What May be Stored by Caches">16.2.2</a>, <a href="#disambiguating.expiration.values" title="Disambiguating Expiration Values">4.5</a>, <a href="#disambiguating.multiple.responses" title="Disambiguating Multiple Responses">4.6</a> and <a href="#errors.or.incomplete.response.cache.behavior" title="Errors or Incomplete Response Cache Behavior">10</a>) response is received from a resource while any existing responses for the same resource are cached, the cache <em class="bcp14">SHOULD</em> use the new response to reply to the current request. It <em class="bcp14">MAY</em> insert it into cache storage and <em class="bcp14">MAY</em>, if it meets all other requirements, use it to respond to any future requests that would previously have caused the old response
         to be returned. If it inserts the new response into cache storage the rules in <a href="#combining.headers" title="Combining Headers">Section&nbsp;7.3</a> apply. 
      </p>
      <dl class="empty">
         <dd> <b>Note:</b> a new response that has an older Date header value than existing cached responses is not cacheable.
         </dd>
      </dl>
      <h1 id="rfc.section.15"><a href="#rfc.section.15">15.</a>&nbsp;<a id="history.lists" href="#history.lists">History Lists</a></h1>
      <p id="rfc.section.15.p.1">User agents often have history mechanisms, such as "Back" buttons and history lists, which can be used to redisplay an entity
         retrieved earlier in a session.
      </p>
      <p id="rfc.section.15.p.2">History mechanisms and caches are different. In particular history mechanisms <em class="bcp14">SHOULD NOT</em> try to show a semantically transparent view of the current state of a resource. Rather, a history mechanism is meant to show
         exactly what the user saw at the time when the resource was retrieved.
      </p>
      <p id="rfc.section.15.p.3">By default, an expiration time does not apply to history mechanisms. If the entity is still in storage, a history mechanism <em class="bcp14">SHOULD</em> display it even if the entity has expired, unless the user has specifically configured the agent to refresh expired history
         documents.
      </p>
      <p id="rfc.section.15.p.4">This is not to be construed to prohibit the history mechanism from telling the user that a view might be stale. </p>
      <dl class="empty">
         <dd> <b>Note:</b> if history list mechanisms unnecessarily prevent users from viewing stale resources, this will tend to force service authors
            to avoid using HTTP expiration controls and cache controls when they would otherwise like to. Service authors may consider
            it important that users not be presented with error messages or warning messages when they use navigation controls (such as
            BACK) to view previously fetched resources. Even though sometimes such resources ought not be cached, or ought to expire quickly,
            user interface considerations may force service authors to resort to other means of preventing caching (e.g. "once-only" URLs)
            in order not to suffer the effects of improperly functioning history mechanisms.
         </dd>
      </dl>
      <h1 id="rfc.section.16"><a href="#rfc.section.16">16.</a>&nbsp;<a id="header.fields" href="#header.fields">Header Field Definitions</a></h1>
      <p id="rfc.section.16.p.1">This section defines the syntax and semantics of HTTP/1.1 header fields related to caching.</p>
      <p id="rfc.section.16.p.2">For entity-header fields, both sender and recipient refer to either the client or the server, depending on who sends and who
         receives the entity.
      </p>
      <div id="rfc.iref.a.2"></div>
      <div id="rfc.iref.h.2"></div>
      <h2 id="rfc.section.16.1"><a href="#rfc.section.16.1">16.1</a>&nbsp;<a id="header.age" href="#header.age">Age</a></h2>
      <p id="rfc.section.16.1.p.1">The response-header field "Age" conveys the sender's estimate of the amount of time since the response (or its revalidation)
         was generated at the origin server. A cached response is "fresh" if its age does not exceed its freshness lifetime. Age values
         are calculated as specified in <a href="#age.calculations" title="Age Calculations">Section&nbsp;4.3</a>.
      </p>
      <div id="rfc.figure.u.12"></div><pre class="inline"><span id="rfc.iref.g.1"></span><span id="rfc.iref.g.2"></span>  <a href="#header.age" class="smpl">Age</a>   = "Age" ":" <a href="#notation" class="smpl">OWS</a> <a href="#header.age" class="smpl">Age-v</a>
  <a href="#header.age" class="smpl">Age-v</a> = <a href="#rule.delta-seconds" class="smpl">delta-seconds</a>
</pre><div id="rule.delta-seconds">
         <p id="rfc.section.16.1.p.3">  Age values are non-negative decimal integers, representing time in seconds.</p>
      </div>
      <div id="rfc.figure.u.13"></div><pre class="inline"><span id="rfc.iref.g.3"></span>  <a href="#rule.delta-seconds" class="smpl">delta-seconds</a>  = 1*<a href="#notation" class="smpl">DIGIT</a>
</pre><p id="rfc.section.16.1.p.5">If a cache receives a value larger than the largest positive integer it can represent, or if any of its age calculations overflows,
         it <em class="bcp14">MUST</em> transmit an Age header with a value of 2147483648 (2<sup>31</sup>). An HTTP/1.1 server that includes a cache <em class="bcp14">MUST</em> include an Age header field in every response generated from its own cache. Caches <em class="bcp14">SHOULD</em> use an arithmetic type of at least 31 bits of range.
      </p>
      <div id="rfc.iref.c.3"></div>
      <div id="rfc.iref.h.3"></div>
      <h2 id="rfc.section.16.2"><a href="#rfc.section.16.2">16.2</a>&nbsp;<a id="header.cache-control" href="#header.cache-control">Cache-Control</a></h2>
      <p id="rfc.section.16.2.p.1">The general-header field "Cache-Control" is used to specify directives that <em class="bcp14">MUST</em> be obeyed by all caching mechanisms along the request/response chain. The directives specify behavior intended to prevent
         caches from adversely interfering with the request or response. These directives typically override the default caching algorithms.
         Cache directives are unidirectional in that the presence of a directive in a request does not imply that the same directive
         is to be given in the response. 
      </p>
      <dl class="empty">
         <dd>Note that HTTP/1.0 caches might not implement Cache-Control and might only implement Pragma: no-cache (see <a href="#header.pragma" id="rfc.xref.header.pragma.1" title="Pragma">Section&nbsp;16.4</a>).
         </dd>
      </dl>
      <p id="rfc.section.16.2.p.2">Cache directives <em class="bcp14">MUST</em> be passed through by a proxy or gateway application, regardless of their significance to that application, since the directives
         might be applicable to all recipients along the request/response chain. It is not possible to specify a cache-directive for
         a specific cache.
      </p>
      <div id="rfc.figure.u.14"></div><pre class="inline"><span id="rfc.iref.g.4"></span><span id="rfc.iref.g.5"></span><span id="rfc.iref.g.6"></span><span id="rfc.iref.g.7"></span><span id="rfc.iref.g.8"></span><span id="rfc.iref.g.9"></span>  <a href="#header.cache-control" class="smpl">Cache-Control</a>   = "Cache-Control" ":" <a href="#notation" class="smpl">OWS</a> <a href="#header.cache-control" class="smpl">Cache-Control-v</a>
  <a href="#header.cache-control" class="smpl">Cache-Control-v</a> = 1#<a href="#header.cache-control" class="smpl">cache-directive</a>

  <a href="#header.cache-control" class="smpl">cache-directive</a> = <a href="#header.cache-control" class="smpl">cache-request-directive</a>
     / <a href="#header.cache-control" class="smpl">cache-response-directive</a>

  <a href="#header.cache-control" class="smpl">cache-request-directive</a> =
       "no-cache"                          ; <a href="#what.is.cacheable" title="What is Cacheable">Section&nbsp;16.2.1</a>
     / "no-store"                          ; <a href="#what.may.be.stored.by.caches" title="What May be Stored by Caches">Section&nbsp;16.2.2</a>
     / "max-age" "=" <a href="#rule.delta-seconds" class="smpl">delta-seconds</a>         ; <a href="#modifications.of.the.basic.expiration.mechanism" title="Modifications of the Basic Expiration Mechanism">Section&nbsp;16.2.3</a>, <a href="#cache.revalidation.and.reload.controls" title="Cache Revalidation and Reload Controls">16.2.4</a>
     / "max-stale" [ "=" <a href="#rule.delta-seconds" class="smpl">delta-seconds</a> ]   ; <a href="#modifications.of.the.basic.expiration.mechanism" title="Modifications of the Basic Expiration Mechanism">Section&nbsp;16.2.3</a>
     / "min-fresh" "=" <a href="#rule.delta-seconds" class="smpl">delta-seconds</a>       ; <a href="#modifications.of.the.basic.expiration.mechanism" title="Modifications of the Basic Expiration Mechanism">Section&nbsp;16.2.3</a>
     / "no-transform"                      ; <a href="#no-transform.directive" title="No-Transform Directive">Section&nbsp;16.2.5</a>
     / "only-if-cached"                    ; <a href="#cache.revalidation.and.reload.controls" title="Cache Revalidation and Reload Controls">Section&nbsp;16.2.4</a>
     / <a href="#header.cache-control" class="smpl">cache-extension</a>                     ; <a href="#cache.control.extensions" title="Cache Control Extensions">Section&nbsp;16.2.6</a>

  <a href="#header.cache-control" class="smpl">cache-response-directive</a> =
       "public"                               ; <a href="#what.is.cacheable" title="What is Cacheable">Section&nbsp;16.2.1</a>
     / "private" [ "=" <a href="#notation" class="smpl">DQUOTE</a> 1#<a href="#abnf.dependencies" class="smpl">field-name</a> <a href="#notation" class="smpl">DQUOTE</a> ] ; <a href="#what.is.cacheable" title="What is Cacheable">Section&nbsp;16.2.1</a>
     / "no-cache" [ "=" <a href="#notation" class="smpl">DQUOTE</a> 1#<a href="#abnf.dependencies" class="smpl">field-name</a> <a href="#notation" class="smpl">DQUOTE</a> ] ; <a href="#what.is.cacheable" title="What is Cacheable">Section&nbsp;16.2.1</a>
     / "no-store"                             ; <a href="#what.may.be.stored.by.caches" title="What May be Stored by Caches">Section&nbsp;16.2.2</a>
     / "no-transform"                         ; <a href="#no-transform.directive" title="No-Transform Directive">Section&nbsp;16.2.5</a>
     / "must-revalidate"                      ; <a href="#cache.revalidation.and.reload.controls" title="Cache Revalidation and Reload Controls">Section&nbsp;16.2.4</a>
     / "proxy-revalidate"                     ; <a href="#cache.revalidation.and.reload.controls" title="Cache Revalidation and Reload Controls">Section&nbsp;16.2.4</a>
     / "max-age" "=" <a href="#rule.delta-seconds" class="smpl">delta-seconds</a>            ; <a href="#modifications.of.the.basic.expiration.mechanism" title="Modifications of the Basic Expiration Mechanism">Section&nbsp;16.2.3</a>
     / "s-maxage" "=" <a href="#rule.delta-seconds" class="smpl">delta-seconds</a>           ; <a href="#modifications.of.the.basic.expiration.mechanism" title="Modifications of the Basic Expiration Mechanism">Section&nbsp;16.2.3</a>
     / <a href="#header.cache-control" class="smpl">cache-extension</a>                        ; <a href="#cache.control.extensions" title="Cache Control Extensions">Section&nbsp;16.2.6</a>

  <a href="#header.cache-control" class="smpl">cache-extension</a> = <a href="#notation" class="smpl">token</a> [ "=" ( <a href="#notation" class="smpl">token</a> / <a href="#notation" class="smpl">quoted-string</a> ) ]
</pre><p id="rfc.section.16.2.p.4">When a directive appears without any 1#field-name parameter, the directive applies to the entire request or response. When
         such a directive appears with a 1#field-name parameter, it applies only to the named field or fields, and not to the rest
         of the request or response. This mechanism supports extensibility; implementations of future versions of HTTP might apply
         these directives to header fields not defined in HTTP/1.1.
      </p>
      <p id="rfc.section.16.2.p.5">The cache-control directives can be broken down into these general categories: </p>
      <ul>
         <li>Restrictions on what are cacheable; these may only be imposed by the origin server.</li>
         <li>Restrictions on what may be stored by a cache; these may be imposed by either the origin server or the user agent.</li>
         <li>Modifications of the basic expiration mechanism; these may be imposed by either the origin server or the user agent.</li>
         <li>Controls over cache revalidation and reload; these may only be imposed by a user agent.</li>
         <li>Control over transformation of entities.</li>
         <li>Extensions to the caching system.</li>
      </ul>
      <h3 id="rfc.section.16.2.1"><a href="#rfc.section.16.2.1">16.2.1</a>&nbsp;<a id="what.is.cacheable" href="#what.is.cacheable">What is Cacheable</a></h3>
      <p id="rfc.section.16.2.1.p.1">By default, a response is cacheable if the requirements of the request method, request header fields, and the response status
         indicate that it is cacheable. <a href="#response.cacheability" title="Response Cacheability">Section&nbsp;6</a> summarizes these defaults for cacheability. The following Cache-Control response directives allow an origin server to override
         the default cacheability of a response:
      </p>
      <p id="rfc.section.16.2.1.p.2"> <span id="rfc.iref.c.4"></span>  <span id="rfc.iref.p.1"></span> public 
      </p>
      <dl class="empty">
         <dd>Indicates that the response <em class="bcp14">MAY</em> be cached by any cache, even if it would normally be non-cacheable or cacheable only within a non-shared cache. (See also
            Authorization, <a href="p7-auth.html#header.authorization" title="Authorization">Section 4.1</a> of <a href="#Part7" id="rfc.xref.Part7.2"><cite title="HTTP/1.1, part 7: Authentication">[Part7]</cite></a>, for additional details.)
         </dd>
      </dl>
      <p id="rfc.section.16.2.1.p.3"> <span id="rfc.iref.c.5"></span>  <span id="rfc.iref.p.2"></span> private 
      </p>
      <dl class="empty">
         <dd>Indicates that all or part of the response message is intended for a single user and <em class="bcp14">MUST NOT</em> be cached by a shared cache. This allows an origin server to state that the specified parts of the response are intended for
            only one user and are not a valid response for requests by other users. A private (non-shared) cache <em class="bcp14">MAY</em> cache the response.
         </dd>
         <dd> <b>Note:</b> This usage of the word private only controls where the response may be cached, and cannot ensure the privacy of the message
            content.
         </dd>
      </dl>
      <p id="rfc.section.16.2.1.p.4"> <span id="rfc.iref.c.6"></span>  <span id="rfc.iref.n.1"></span> no-cache 
      </p>
      <dl class="empty">
         <dd>If the no-cache directive does not specify a field-name, then a cache <em class="bcp14">MUST NOT</em> use the response to satisfy a subsequent request without successful revalidation with the origin server. This allows an origin
            server to prevent caching even by caches that have been configured to return stale responses to client requests.
         </dd>
         <dd>If the no-cache directive does specify one or more field-names, then a cache <em class="bcp14">MAY</em> use the response to satisfy a subsequent request, subject to any other restrictions on caching. However, the specified field-name(s) <em class="bcp14">MUST NOT</em> be sent in the response to a subsequent request without successful revalidation with the origin server. This allows an origin
            server to prevent the re-use of certain header fields in a response, while still allowing caching of the rest of the response. 
            <dl class="empty">
               <dd> <b>Note:</b> Most HTTP/1.0 caches will not recognize or obey this directive.
               </dd>
            </dl> 
         </dd>
      </dl>
      <h3 id="rfc.section.16.2.2"><a href="#rfc.section.16.2.2">16.2.2</a>&nbsp;<a id="what.may.be.stored.by.caches" href="#what.may.be.stored.by.caches">What May be Stored by Caches</a></h3>
      <p id="rfc.section.16.2.2.p.1"> <span id="rfc.iref.c.7"></span>  <span id="rfc.iref.n.2"></span> no-store 
      </p>
      <dl class="empty">
         <dd>The purpose of the no-store directive is to prevent the inadvertent release or retention of sensitive information (for example,
            on backup tapes). The no-store directive applies to the entire message, and <em class="bcp14">MAY</em> be sent either in a response or in a request. If sent in a request, a cache <em class="bcp14">MUST NOT</em> store any part of either this request or any response to it. If sent in a response, a cache <em class="bcp14">MUST NOT</em> store any part of either this response or the request that elicited it. This directive applies to both non-shared and shared
            caches. "<em class="bcp14">MUST NOT</em> store" in this context means that the cache <em class="bcp14">MUST NOT</em> intentionally store the information in non-volatile storage, and <em class="bcp14">MUST</em> make a best-effort attempt to remove the information from volatile storage as promptly as possible after forwarding it.
         </dd>
         <dd>Even when this directive is associated with a response, users might explicitly store such a response outside of the caching
            system (e.g., with a "Save As" dialog). History buffers <em class="bcp14">MAY</em> store such responses as part of their normal operation.
         </dd>
         <dd>The purpose of this directive is to meet the stated requirements of certain users and service authors who are concerned about
            accidental releases of information via unanticipated accesses to cache data structures. While the use of this directive might
            improve privacy in some cases, we caution that it is NOT in any way a reliable or sufficient mechanism for ensuring privacy.
            In particular, malicious or compromised caches might not recognize or obey this directive, and communications networks might
            be vulnerable to eavesdropping.
         </dd>
      </dl>
      <h3 id="rfc.section.16.2.3"><a href="#rfc.section.16.2.3">16.2.3</a>&nbsp;<a id="modifications.of.the.basic.expiration.mechanism" href="#modifications.of.the.basic.expiration.mechanism">Modifications of the Basic Expiration Mechanism</a></h3>
      <p id="rfc.section.16.2.3.p.1">The expiration time of an entity <em class="bcp14">MAY</em> be specified by the origin server using the Expires header (see <a href="#header.expires" id="rfc.xref.header.expires.2" title="Expires">Section&nbsp;16.3</a>). Alternatively, it <em class="bcp14">MAY</em> be specified using the max-age directive in a response. When the max-age cache-control directive is present in a cached response,
         the response is stale if its current age is greater than the age value given (in seconds) at the time of a new request for
         that resource. The max-age directive on a response implies that the response is cacheable (i.e., "public") unless some other,
         more restrictive cache directive is also present.
      </p>
      <p id="rfc.section.16.2.3.p.2">If a response includes both an Expires header and a max-age directive, the max-age directive overrides the Expires header,
         even if the Expires header is more restrictive. This rule allows an origin server to provide, for a given response, a longer
         expiration time to an HTTP/1.1 (or later) cache than to an HTTP/1.0 cache. This might be useful if certain HTTP/1.0 caches
         improperly calculate ages or expiration times, perhaps due to desynchronized clocks.
      </p>
      <p id="rfc.section.16.2.3.p.3">Many HTTP/1.0 cache implementations will treat an Expires value that is less than or equal to the response Date value as being
         equivalent to the Cache-Control response directive "no-cache". If an HTTP/1.1 cache receives such a response, and the response
         does not include a Cache-Control header field, it <em class="bcp14">SHOULD</em> consider the response to be non-cacheable in order to retain compatibility with HTTP/1.0 servers. 
      </p>
      <dl class="empty">
         <dd> <b>Note:</b> An origin server might wish to use a relatively new HTTP cache control feature, such as the "private" directive, on a network
            including older caches that do not understand that feature. The origin server will need to combine the new feature with an
            Expires field whose value is less than or equal to the Date value. This will prevent older caches from improperly caching
            the response.
         </dd>
      </dl>
      <p id="rfc.section.16.2.3.p.4"> <span id="rfc.iref.c.8"></span>  <span id="rfc.iref.s.3"></span> s-maxage 
      </p>
      <dl class="empty">
         <dd>If a response includes an s-maxage directive, then for a shared cache (but not for a private cache), the maximum age specified
            by this directive overrides the maximum age specified by either the max-age directive or the Expires header. The s-maxage
            directive also implies the semantics of the proxy-revalidate directive (see <a href="#cache.revalidation.and.reload.controls" title="Cache Revalidation and Reload Controls">Section&nbsp;16.2.4</a>), i.e., that the shared cache must not use the entry after it becomes stale to respond to a subsequent request without first
            revalidating it with the origin server. The s-maxage directive is always ignored by a private cache.
         </dd>
      </dl>
      <p id="rfc.section.16.2.3.p.5">Note that most older caches, not compliant with this specification, do not implement any cache-control directives. An origin
         server wishing to use a cache-control directive that restricts, but does not prevent, caching by an HTTP/1.1-compliant cache <em class="bcp14">MAY</em> exploit the requirement that the max-age directive overrides the Expires header, and the fact that pre-HTTP/1.1-compliant
         caches do not observe the max-age directive.
      </p>
      <p id="rfc.section.16.2.3.p.6">Other directives allow a user agent to modify the basic expiration mechanism. These directives <em class="bcp14">MAY</em> be specified on a request:
      </p>
      <p id="rfc.section.16.2.3.p.7"> <span id="rfc.iref.c.9"></span>  <span id="rfc.iref.m.1"></span> max-age 
      </p>
      <dl class="empty">
         <dd>Indicates that the client is willing to accept a response whose age is no greater than the specified time in seconds. Unless
            max-stale directive is also included, the client is not willing to accept a stale response.
         </dd>
      </dl>
      <p id="rfc.section.16.2.3.p.8"> <span id="rfc.iref.c.10"></span>  <span id="rfc.iref.m.2"></span> min-fresh 
      </p>
      <dl class="empty">
         <dd>Indicates that the client is willing to accept a response whose freshness lifetime is no less than its current age plus the
            specified time in seconds. That is, the client wants a response that will still be fresh for at least the specified number
            of seconds.
         </dd>
      </dl>
      <p id="rfc.section.16.2.3.p.9"> <span id="rfc.iref.c.11"></span>  <span id="rfc.iref.m.3"></span> max-stale 
      </p>
      <dl class="empty">
         <dd>Indicates that the client is willing to accept a response that has exceeded its expiration time. If max-stale is assigned
            a value, then the client is willing to accept a response that has exceeded its expiration time by no more than the specified
            number of seconds. If no value is assigned to max-stale, then the client is willing to accept a stale response of any age.
         </dd>
      </dl>
      <p id="rfc.section.16.2.3.p.10">If a cache returns a stale response, either because of a max-stale directive on a request, or because the cache is configured
         to override the expiration time of a response, the cache <em class="bcp14">MUST</em> attach a Warning header to the stale response, using Warning 110 (Response is stale).
      </p>
      <p id="rfc.section.16.2.3.p.11">A cache <em class="bcp14">MAY</em> be configured to return stale responses without validation, but only if this does not conflict with any "MUST"-level requirements
         concerning cache validation (e.g., a "must-revalidate" cache-control directive).
      </p>
      <p id="rfc.section.16.2.3.p.12">If both the new request and the cached entry include "max-age" directives, then the lesser of the two values is used for determining
         the freshness of the cached entry for that request.
      </p>
      <h3 id="rfc.section.16.2.4"><a href="#rfc.section.16.2.4">16.2.4</a>&nbsp;<a id="cache.revalidation.and.reload.controls" href="#cache.revalidation.and.reload.controls">Cache Revalidation and Reload Controls</a></h3>
      <p id="rfc.section.16.2.4.p.1">Sometimes a user agent might want or need to insist that a cache revalidate its cache entry with the origin server (and not
         just with the next cache along the path to the origin server), or to reload its cache entry from the origin server. End-to-end
         revalidation might be necessary if either the cache or the origin server has overestimated the expiration time of the cached
         response. End-to-end reload may be necessary if the cache entry has become corrupted for some reason.
      </p>
      <p id="rfc.section.16.2.4.p.2">End-to-end revalidation may be requested either when the client does not have its own local cached copy, in which case we
         call it "unspecified end-to-end revalidation", or when the client does have a local cached copy, in which case we call it
         "specific end-to-end revalidation."
      </p>
      <p id="rfc.section.16.2.4.p.3">The client can specify these three kinds of action using Cache-Control request directives:</p>
      <p id="rfc.section.16.2.4.p.4">End-to-end reload </p>
      <dl class="empty">
         <dd>The request includes a "no-cache" cache-control directive or, for compatibility with HTTP/1.0 clients, "Pragma: no-cache".
            Field names <em class="bcp14">MUST NOT</em> be included with the no-cache directive in a request. The server <em class="bcp14">MUST NOT</em> use a cached copy when responding to such a request.
         </dd>
      </dl>
      <p id="rfc.section.16.2.4.p.5">Specific end-to-end revalidation </p>
      <dl class="empty">
         <dd>The request includes a "max-age=0" cache-control directive, which forces each cache along the path to the origin server to
            revalidate its own entry, if any, with the next cache or server. The initial request includes a cache-validating conditional
            with the client's current validator.
         </dd>
      </dl>
      <p id="rfc.section.16.2.4.p.6">Unspecified end-to-end revalidation </p>
      <dl class="empty">
         <dd>The request includes "max-age=0" cache-control directive, which forces each cache along the path to the origin server to revalidate
            its own entry, if any, with the next cache or server. The initial request does not include a cache-validating conditional;
            the first cache along the path (if any) that holds a cache entry for this resource includes a cache-validating conditional
            with its current validator.
         </dd>
      </dl>
      <p id="rfc.section.16.2.4.p.7"> <span id="rfc.iref.c.12"></span>  <span id="rfc.iref.m.4"></span> max-age 
      </p>
      <dl class="empty">
         <dd>When an intermediate cache is forced, by means of a max-age=0 directive, to revalidate its own cache entry, and the client
            has supplied its own validator in the request, the supplied validator might differ from the validator currently stored with
            the cache entry. In this case, the cache <em class="bcp14">MAY</em> use either validator in making its own request without affecting semantic transparency.
         </dd>
         <dd>However, the choice of validator might affect performance. The best approach is for the intermediate cache to use its own
            validator when making its request. If the server replies with 304 (Not Modified), then the cache can return its now validated
            copy to the client with a 200 (OK) response. If the server replies with a new entity and cache validator, however, the intermediate
            cache can compare the returned validator with the one provided in the client's request, using the strong comparison function.
            If the client's validator is equal to the origin server's, then the intermediate cache simply returns 304 (Not Modified).
            Otherwise, it returns the new entity with a 200 (OK) response.
         </dd>
         <dd>If a request includes the no-cache directive, it <em class="bcp14">SHOULD NOT</em> include min-fresh, max-stale, or max-age.
         </dd>
      </dl>
      <p id="rfc.section.16.2.4.p.8"> <span id="rfc.iref.c.13"></span>  <span id="rfc.iref.o.1"></span> only-if-cached 
      </p>
      <dl class="empty">
         <dd>In some cases, such as times of extremely poor network connectivity, a client may want a cache to return only those responses
            that it currently has stored, and not to reload or revalidate with the origin server. To do this, the client may include the
            only-if-cached directive in a request. If it receives this directive, a cache <em class="bcp14">SHOULD</em> either respond using a cached entry that is consistent with the other constraints of the request, or respond with a 504 (Gateway
            Timeout) status. However, if a group of caches is being operated as a unified system with good internal connectivity, such
            a request <em class="bcp14">MAY</em> be forwarded within that group of caches.
         </dd>
      </dl>
      <p id="rfc.section.16.2.4.p.9"> <span id="rfc.iref.c.14"></span>  <span id="rfc.iref.m.5"></span> must-revalidate 
      </p>
      <dl class="empty">
         <dd>Because a cache <em class="bcp14">MAY</em> be configured to ignore a server's specified expiration time, and because a client request <em class="bcp14">MAY</em> include a max-stale directive (which has a similar effect), the protocol also includes a mechanism for the origin server to
            require revalidation of a cache entry on any subsequent use. When the must-revalidate directive is present in a response received
            by a cache, that cache <em class="bcp14">MUST NOT</em> use the entry after it becomes stale to respond to a subsequent request without first revalidating it with the origin server.
            (I.e., the cache <em class="bcp14">MUST</em> do an end-to-end revalidation every time, if, based solely on the origin server's Expires or max-age value, the cached response
            is stale.)
         </dd>
         <dd>The must-revalidate directive is necessary to support reliable operation for certain protocol features. In all circumstances
            an HTTP/1.1 cache <em class="bcp14">MUST</em> obey the must-revalidate directive; in particular, if the cache cannot reach the origin server for any reason, it <em class="bcp14">MUST</em> generate a 504 (Gateway Timeout) response.
         </dd>
         <dd>Servers <em class="bcp14">SHOULD</em> send the must-revalidate directive if and only if failure to revalidate a request on the entity could result in incorrect
            operation, such as a silently unexecuted financial transaction. Recipients <em class="bcp14">MUST NOT</em> take any automated action that violates this directive, and <em class="bcp14">MUST NOT</em> automatically provide an unvalidated copy of the entity if revalidation fails.
         </dd>
         <dd>Although this is not recommended, user agents operating under severe connectivity constraints <em class="bcp14">MAY</em> violate this directive but, if so, <em class="bcp14">MUST</em> explicitly warn the user that an unvalidated response has been provided. The warning <em class="bcp14">MUST</em> be provided on each unvalidated access, and <em class="bcp14">SHOULD</em> require explicit user confirmation.
         </dd>
      </dl>
      <p id="rfc.section.16.2.4.p.10"> <span id="rfc.iref.c.15"></span>  <span id="rfc.iref.p.3"></span> proxy-revalidate 
      </p>
      <dl class="empty">
         <dd>The proxy-revalidate directive has the same meaning as the must-revalidate directive, except that it does not apply to non-shared
            user agent caches. It can be used on a response to an authenticated request to permit the user's cache to store and later
            return the response without needing to revalidate it (since it has already been authenticated once by that user), while still
            requiring proxies that service many users to revalidate each time (in order to make sure that each user has been authenticated).
            Note that such authenticated responses also need the public cache control directive in order to allow them to be cached at
            all.
         </dd>
      </dl>
      <h3 id="rfc.section.16.2.5"><a href="#rfc.section.16.2.5">16.2.5</a>&nbsp;<a id="no-transform.directive" href="#no-transform.directive">No-Transform Directive</a></h3>
      <p id="rfc.section.16.2.5.p.1"> <span id="rfc.iref.c.16"></span>  <span id="rfc.iref.n.3"></span> no-transform 
      </p>
      <dl class="empty">
         <dd>Implementors of intermediate caches (proxies) have found it useful to convert the media type of certain entity bodies. A non-transparent
            proxy might, for example, convert between image formats in order to save cache space or to reduce the amount of traffic on
            a slow link.
         </dd>
         <dd>Serious operational problems occur, however, when these transformations are applied to entity bodies intended for certain
            kinds of applications. For example, applications for medical imaging, scientific data analysis and those using end-to-end
            authentication, all depend on receiving an entity body that is bit for bit identical to the original entity-body.
         </dd>
         <dd>Therefore, if a message includes the no-transform directive, an intermediate cache or proxy <em class="bcp14">MUST NOT</em> change those headers that are listed in <a href="#non-modifiable.headers" title="Non-modifiable Headers">Section&nbsp;7.2</a> as being subject to the no-transform directive. This implies that the cache or proxy <em class="bcp14">MUST NOT</em> change any aspect of the entity-body that is specified by these headers, including the value of the entity-body itself.
         </dd>
      </dl>
      <h3 id="rfc.section.16.2.6"><a href="#rfc.section.16.2.6">16.2.6</a>&nbsp;<a id="cache.control.extensions" href="#cache.control.extensions">Cache Control Extensions</a></h3>
      <p id="rfc.section.16.2.6.p.1">The Cache-Control header field can be extended through the use of one or more cache-extension tokens, each with an optional
         assigned value. Informational extensions (those which do not require a change in cache behavior) <em class="bcp14">MAY</em> be added without changing the semantics of other directives. Behavioral extensions are designed to work by acting as modifiers
         to the existing base of cache directives. Both the new directive and the standard directive are supplied, such that applications
         which do not understand the new directive will default to the behavior specified by the standard directive, and those that
         understand the new directive will recognize it as modifying the requirements associated with the standard directive. In this
         way, extensions to the cache-control directives can be made without requiring changes to the base protocol.
      </p>
      <p id="rfc.section.16.2.6.p.2">This extension mechanism depends on an HTTP cache obeying all of the cache-control directives defined for its native HTTP-version,
         obeying certain extensions, and ignoring all directives that it does not understand.
      </p>
      <p id="rfc.section.16.2.6.p.3">For example, consider a hypothetical new response directive called community which acts as a modifier to the private directive.
         We define this new directive to mean that, in addition to any non-shared cache, any cache which is shared only by members
         of the community named within its value may cache the response. An origin server wishing to allow the UCI community to use
         an otherwise private response in their shared cache(s) could do so by including
      </p>
      <div id="rfc.figure.u.15"></div><pre class="text">    Cache-Control: private, community="UCI"
</pre><p id="rfc.section.16.2.6.p.5">A cache seeing this header field will act correctly even if the cache does not understand the community cache-extension, since
         it will also see and understand the private directive and thus default to the safe behavior.
      </p>
      <p id="rfc.section.16.2.6.p.6">Unrecognized cache-directives <em class="bcp14">MUST</em> be ignored; it is assumed that any cache-directive likely to be unrecognized by an HTTP/1.1 cache will be combined with standard
         directives (or the response's default cacheability) such that the cache behavior will remain minimally correct even if the
         cache does not understand the extension(s).
      </p>
      <div id="rfc.iref.e.2"></div>
      <div id="rfc.iref.h.4"></div>
      <h2 id="rfc.section.16.3"><a href="#rfc.section.16.3">16.3</a>&nbsp;<a id="header.expires" href="#header.expires">Expires</a></h2>
      <p id="rfc.section.16.3.p.1">The Expires entity-header field gives the date/time after which the response is considered stale. A stale cache entry may
         not normally be returned by a cache (either a proxy cache or a user agent cache) unless it is first validated with the origin
         server (or with an intermediate cache that has a fresh copy of the entity). See <a href="#expiration.model" title="Expiration Model">Section&nbsp;4</a> for further discussion of the expiration model.
      </p>
      <p id="rfc.section.16.3.p.2">The presence of an Expires field does not imply that the original resource will change or cease to exist at, before, or after
         that time.
      </p>
      <p id="rfc.section.16.3.p.3">The format is an absolute date and time as defined by HTTP-date in <a href="p1-messaging.html#full.date" title="Full Date">Section 3.2.1</a> of <a href="#Part1" id="rfc.xref.Part1.19"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>; it <em class="bcp14">MUST</em> be sent in rfc1123-date format.
      </p>
      <div id="rfc.figure.u.16"></div><pre class="inline"><span id="rfc.iref.g.10"></span><span id="rfc.iref.g.11"></span>  <a href="#header.expires" class="smpl">Expires</a>   = "Expires" ":" <a href="#notation" class="smpl">OWS</a> <a href="#header.expires" class="smpl">Expires-v</a>
  <a href="#header.expires" class="smpl">Expires-v</a> = <a href="#abnf.dependencies" class="smpl">HTTP-date</a>
</pre><p id="rfc.section.16.3.p.5">An example of its use is</p>
      <div id="rfc.figure.u.17"></div><pre class="text">  Expires: Thu, 01 Dec 1994 16:00:00 GMT
</pre><p id="rfc.section.16.3.p.7"> </p>
      <dl class="empty">
         <dd> <b>Note:</b> if a response includes a Cache-Control field with the max-age directive (see <a href="#modifications.of.the.basic.expiration.mechanism" title="Modifications of the Basic Expiration Mechanism">Section&nbsp;16.2.3</a>), that directive overrides the Expires field.
         </dd>
      </dl>
      <p id="rfc.section.16.3.p.8">HTTP/1.1 clients and caches <em class="bcp14">MUST</em> treat other invalid date formats, especially including the value "0", as in the past (i.e., "already expired").
      </p>
      <p id="rfc.section.16.3.p.9">To mark a response as "already expired," an origin server sends an Expires date that is equal to the Date header value. (See
         the rules for expiration calculations in <a href="#expiration.calculations" title="Expiration Calculations">Section&nbsp;4.4</a>.)
      </p>
      <p id="rfc.section.16.3.p.10">To mark a response as "never expires," an origin server sends an Expires date approximately one year from the time the response
         is sent. HTTP/1.1 servers <em class="bcp14">SHOULD NOT</em> send Expires dates more than one year in the future.
      </p>
      <p id="rfc.section.16.3.p.11">The presence of an Expires header field with a date value of some time in the future on a response that otherwise would by
         default be non-cacheable indicates that the response is cacheable, unless indicated otherwise by a Cache-Control header field
         (<a href="#header.cache-control" id="rfc.xref.header.cache-control.9" title="Cache-Control">Section&nbsp;16.2</a>).
      </p>
      <div id="rfc.iref.p.4"></div>
      <div id="rfc.iref.h.5"></div>
      <h2 id="rfc.section.16.4"><a href="#rfc.section.16.4">16.4</a>&nbsp;<a id="header.pragma" href="#header.pragma">Pragma</a></h2>
      <p id="rfc.section.16.4.p.1">The general-header field "Pragma" is used to include implementation-specific directives that might apply to any recipient
         along the request/response chain. All pragma directives specify optional behavior from the viewpoint of the protocol; however,
         some systems <em class="bcp14">MAY</em> require that behavior be consistent with the directives.
      </p>
      <div id="rfc.figure.u.18"></div><pre class="inline"><span id="rfc.iref.g.12"></span><span id="rfc.iref.g.13"></span><span id="rfc.iref.g.14"></span><span id="rfc.iref.g.15"></span>  <a href="#header.pragma" class="smpl">Pragma</a>            = "Pragma" ":" <a href="#notation" class="smpl">OWS</a> <a href="#header.pragma" class="smpl">Pragma-v</a>
  <a href="#header.pragma" class="smpl">Pragma-v</a>          = 1#<a href="#header.pragma" class="smpl">pragma-directive</a>
  <a href="#header.pragma" class="smpl">pragma-directive</a>  = "no-cache" / <a href="#header.pragma" class="smpl">extension-pragma</a>
  <a href="#header.pragma" class="smpl">extension-pragma</a>  = <a href="#notation" class="smpl">token</a> [ "=" ( <a href="#notation" class="smpl">token</a> / <a href="#notation" class="smpl">quoted-string</a> ) ]
</pre><p id="rfc.section.16.4.p.3">When the no-cache directive is present in a request message, an application <em class="bcp14">SHOULD</em> forward the request toward the origin server even if it has a cached copy of what is being requested. This pragma directive
         has the same semantics as the no-cache cache-directive (see <a href="#header.cache-control" id="rfc.xref.header.cache-control.10" title="Cache-Control">Section&nbsp;16.2</a>) and is defined here for backward compatibility with HTTP/1.0. Clients <em class="bcp14">SHOULD</em> include both header fields when a no-cache request is sent to a server not known to be HTTP/1.1 compliant.
      </p>
      <p id="rfc.section.16.4.p.4">Pragma directives <em class="bcp14">MUST</em> be passed through by a proxy or gateway application, regardless of their significance to that application, since the directives
         might be applicable to all recipients along the request/response chain. It is not possible to specify a pragma for a specific
         recipient; however, any pragma directive not relevant to a recipient <em class="bcp14">SHOULD</em> be ignored by that recipient.
      </p>
      <p id="rfc.section.16.4.p.5">HTTP/1.1 caches <em class="bcp14">SHOULD</em> treat "Pragma: no-cache" as if the client had sent "Cache-Control: no-cache". No new Pragma directives will be defined in
         HTTP. 
      </p>
      <dl class="empty">
         <dd> <b>Note:</b> because the meaning of "Pragma: no-cache" as a response-header field is not actually specified, it does not provide a reliable
            replacement for "Cache-Control: no-cache" in a response.
         </dd>
      </dl>
      <div id="rfc.iref.v.2"></div>
      <div id="rfc.iref.h.6"></div>
      <h2 id="rfc.section.16.5"><a href="#rfc.section.16.5">16.5</a>&nbsp;<a id="header.vary" href="#header.vary">Vary</a></h2>
      <p id="rfc.section.16.5.p.1">The "Vary" response-header field's value indicates the set of request-header fields that fully determines, while the response
         is fresh, whether a cache is permitted to use the response to reply to a subsequent request without revalidation. For uncacheable
         or stale responses, the Vary field value advises the user agent about the criteria that were used to select the representation.
         A Vary field value of "*" implies that a cache cannot determine from the request headers of a subsequent request whether this
         response is the appropriate representation. See <a href="#caching.negotiated.responses" title="Caching Negotiated Responses">Section&nbsp;8</a> for use of the Vary header field by caches.
      </p>
      <div id="rfc.figure.u.19"></div><pre class="inline"><span id="rfc.iref.g.16"></span><span id="rfc.iref.g.17"></span>  <a href="#header.vary" class="smpl">Vary</a>   = "Vary" ":" <a href="#notation" class="smpl">OWS</a> <a href="#header.vary" class="smpl">Vary-v</a>
  <a href="#header.vary" class="smpl">Vary-v</a> = "*" / 1#<a href="#abnf.dependencies" class="smpl">field-name</a>
</pre><p id="rfc.section.16.5.p.3">An HTTP/1.1 server <em class="bcp14">SHOULD</em> include a Vary header field with any cacheable response that is subject to server-driven negotiation. Doing so allows a cache
         to properly interpret future requests on that resource and informs the user agent about the presence of negotiation on that
         resource. A server <em class="bcp14">MAY</em> include a Vary header field with a non-cacheable response that is subject to server-driven negotiation, since this might provide
         the user agent with useful information about the dimensions over which the response varies at the time of the response.
      </p>
      <p id="rfc.section.16.5.p.4">A Vary field value consisting of a list of field-names signals that the representation selected for the response is based
         on a selection algorithm which considers ONLY the listed request-header field values in selecting the most appropriate representation.
         A cache <em class="bcp14">MAY</em> assume that the same selection will be made for future requests with the same values for the listed field names, for the duration
         of time for which the response is fresh.
      </p>
      <p id="rfc.section.16.5.p.5">The field-names given are not limited to the set of standard request-header fields defined by this specification. Field names
         are case-insensitive.
      </p>
      <p id="rfc.section.16.5.p.6">A Vary field value of "*" signals that unspecified parameters not limited to the request-headers (e.g., the network address
         of the client), play a role in the selection of the response representation. The "*" value <em class="bcp14">MUST NOT</em> be generated by a proxy server; it may only be generated by an origin server.
      </p>
      <div id="rfc.iref.w.1"></div>
      <div id="rfc.iref.h.7"></div>
      <h2 id="rfc.section.16.6"><a href="#rfc.section.16.6">16.6</a>&nbsp;<a id="header.warning" href="#header.warning">Warning</a></h2>
      <p id="rfc.section.16.6.p.1">The general-header field "Warning" is used to carry additional information about the status or transformation of a message
         which might not be reflected in the message. This information is typically used to warn about a possible lack of semantic
         transparency from caching operations or transformations applied to the entity body of the message.
      </p>
      <p id="rfc.section.16.6.p.2">Warning headers are sent with responses using:</p>
      <div id="rfc.figure.u.20"></div><pre class="inline"><span id="rfc.iref.g.18"></span><span id="rfc.iref.g.19"></span><span id="rfc.iref.g.20"></span><span id="rfc.iref.g.21"></span><span id="rfc.iref.g.22"></span><span id="rfc.iref.g.23"></span><span id="rfc.iref.g.24"></span>  <a href="#header.warning" class="smpl">Warning</a>    = "Warning" ":" <a href="#notation" class="smpl">OWS</a> <a href="#header.warning" class="smpl">Warning-v</a>
  <a href="#header.warning" class="smpl">Warning-v</a>  = 1#<a href="#header.warning" class="smpl">warning-value</a>
  
  <a href="#header.warning" class="smpl">warning-value</a> = <a href="#header.warning" class="smpl">warn-code</a> <a href="#notation" class="smpl">SP</a> <a href="#header.warning" class="smpl">warn-agent</a> <a href="#notation" class="smpl">SP</a> <a href="#header.warning" class="smpl">warn-text</a>
                                        [<a href="#notation" class="smpl">SP</a> <a href="#header.warning" class="smpl">warn-date</a>]
  
  <a href="#header.warning" class="smpl">warn-code</a>  = 3<a href="#notation" class="smpl">DIGIT</a>
  <a href="#header.warning" class="smpl">warn-agent</a> = ( <a href="#abnf.dependencies" class="smpl">uri-host</a> [ ":" <a href="#abnf.dependencies" class="smpl">port</a> ] ) / <a href="#abnf.dependencies" class="smpl">pseudonym</a>
                  ; the name or pseudonym of the server adding
                  ; the Warning header, for use in debugging
  <a href="#header.warning" class="smpl">warn-text</a>  = <a href="#notation" class="smpl">quoted-string</a>
  <a href="#header.warning" class="smpl">warn-date</a>  = <a href="#notation" class="smpl">DQUOTE</a> <a href="#abnf.dependencies" class="smpl">HTTP-date</a> <a href="#notation" class="smpl">DQUOTE</a>
</pre><p id="rfc.section.16.6.p.4">A response <em class="bcp14">MAY</em> carry more than one Warning header.
      </p>
      <p id="rfc.section.16.6.p.5">The warn-text <em class="bcp14">SHOULD</em> be in a natural language and character set that is most likely to be intelligible to the human user receiving the response.
         This decision <em class="bcp14">MAY</em> be based on any available knowledge, such as the location of the cache or user, the Accept-Language field in a request, the
         Content-Language field in a response, etc. The default language is English and the default character set is ISO-8859-1 (<a href="#ISO-8859-1" id="rfc.xref.ISO-8859-1.1"><cite title="Information technology -- 8-bit single-byte coded graphic character sets -- Part 1: Latin alphabet No. 1">[ISO-8859-1]</cite></a>).
      </p>
      <p id="rfc.section.16.6.p.6">If a character set other than ISO-8859-1 is used, it <em class="bcp14">MUST</em> be encoded in the warn-text using the method described in <a href="#RFC2047" id="rfc.xref.RFC2047.1"><cite title="MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text">[RFC2047]</cite></a>.
      </p>
      <p id="rfc.section.16.6.p.7">Warning headers can in general be applied to any message, however some specific warn-codes are specific to caches and can
         only be applied to response messages. New Warning headers <em class="bcp14">SHOULD</em> be added after any existing Warning headers. A cache <em class="bcp14">MUST NOT</em> delete any Warning header that it received with a message. However, if a cache successfully validates a cache entry, it <em class="bcp14">SHOULD</em> remove any Warning headers previously attached to that entry except as specified for specific Warning codes. It <em class="bcp14">MUST</em> then add any Warning headers received in the validating response. In other words, Warning headers are those that would be
         attached to the most recent relevant response.
      </p>
      <p id="rfc.section.16.6.p.8">When multiple Warning headers are attached to a response, the user agent ought to inform the user of as many of them as possible,
         in the order that they appear in the response. If it is not possible to inform the user of all of the warnings, the user agent <em class="bcp14">SHOULD</em> follow these heuristics: 
      </p>
      <ul>
         <li>Warnings that appear early in the response take priority over those appearing later in the response.</li>
         <li>Warnings in the user's preferred character set take priority over warnings in other character sets but with identical warn-codes
            and warn-agents.
         </li>
      </ul>
      <p id="rfc.section.16.6.p.9">Systems that generate multiple Warning headers <em class="bcp14">SHOULD</em> order them with this user agent behavior in mind.
      </p>
      <p id="rfc.section.16.6.p.10">Requirements for the behavior of caches with respect to Warnings are stated in <a href="#warnings" title="Warnings">Section&nbsp;3.2</a>.
      </p>
      <p id="rfc.section.16.6.p.11">This is a list of the currently-defined warn-codes, each with a recommended warn-text in English, and a description of its
         meaning.
      </p>
      <p id="rfc.section.16.6.p.12">110 Response is stale </p>
      <dl class="empty">
         <dd> <em class="bcp14">MUST</em> be included whenever the returned response is stale.
         </dd>
      </dl>
      <p id="rfc.section.16.6.p.13">111 Revalidation failed </p>
      <dl class="empty">
         <dd> <em class="bcp14">MUST</em> be included if a cache returns a stale response because an attempt to revalidate the response failed, due to an inability
            to reach the server.
         </dd>
      </dl>
      <p id="rfc.section.16.6.p.14">112 Disconnected operation </p>
      <dl class="empty">
         <dd> <em class="bcp14">SHOULD</em> be included if the cache is intentionally disconnected from the rest of the network for a period of time.
         </dd>
      </dl>
      <p id="rfc.section.16.6.p.15">113 Heuristic expiration </p>
      <dl class="empty">
         <dd> <em class="bcp14">MUST</em> be included if the cache heuristically chose a freshness lifetime greater than 24 hours and the response's age is greater
            than 24 hours.
         </dd>
      </dl>
      <p id="rfc.section.16.6.p.16">199 Miscellaneous warning </p>
      <dl class="empty">
         <dd>The warning text <em class="bcp14">MAY</em> include arbitrary information to be presented to a human user, or logged. A system receiving this warning <em class="bcp14">MUST NOT</em> take any automated action, besides presenting the warning to the user.
         </dd>
      </dl>
      <p id="rfc.section.16.6.p.17">214 Transformation applied </p>
      <dl class="empty">
         <dd> <em class="bcp14">MUST</em> be added by an intermediate cache or proxy if it applies any transformation changing the content-coding (as specified in the
            Content-Encoding header) or media-type (as specified in the Content-Type header) of the response, or the entity-body of the
            response, unless this Warning code already appears in the response.
         </dd>
      </dl>
      <p id="rfc.section.16.6.p.18">299 Miscellaneous persistent warning </p>
      <dl class="empty">
         <dd>The warning text <em class="bcp14">MAY</em> include arbitrary information to be presented to a human user, or logged. A system receiving this warning <em class="bcp14">MUST NOT</em> take any automated action.
         </dd>
      </dl>
      <p id="rfc.section.16.6.p.19">If an implementation sends a message with one or more Warning headers whose version is HTTP/1.0 or lower, then the sender <em class="bcp14">MUST</em> include in each warning-value a warn-date that matches the date in the response.
      </p>
      <p id="rfc.section.16.6.p.20">If an implementation receives a message with a warning-value that includes a warn-date, and that warn-date is different from
         the Date value in the response, then that warning-value <em class="bcp14">MUST</em> be deleted from the message before storing, forwarding, or using it. (This prevents bad consequences of naive caching of Warning
         header fields.) If all of the warning-values are deleted for this reason, the Warning header <em class="bcp14">MUST</em> be deleted as well.
      </p>
      <h1 id="rfc.section.17"><a href="#rfc.section.17">17.</a>&nbsp;<a id="IANA.considerations" href="#IANA.considerations">IANA Considerations</a></h1>
      <h2 id="rfc.section.17.1"><a href="#rfc.section.17.1">17.1</a>&nbsp;<a id="message.header.registration" href="#message.header.registration">Message Header Registration</a></h2>
      <p id="rfc.section.17.1.p.1">The Message Header Registry located at &lt;<a href="http://www.iana.org/assignments/message-headers/message-header-index.html">http://www.iana.org/assignments/message-headers/message-header-index.html</a>&gt; should be updated with the permanent registrations below (see <a href="#RFC3864" id="rfc.xref.RFC3864.1"><cite title="Registration Procedures for Message Header Fields">[RFC3864]</cite></a>):
      </p>
      <div id="rfc.table.1">
         <div id="iana.header.registration.table"></div>
         <table summary="" class="tt full" cellpadding="3" cellspacing="0">
            <thead>
               <tr>
                  <th>Header Field Name</th>
                  <th>Protocol</th>
                  <th>Status</th>
                  <th>Reference</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td>Age</td>
                  <td>http</td>
                  <td>standard</td>
                  <td> <a href="#header.age" id="rfc.xref.header.age.1" title="Age">Section&nbsp;16.1</a> 
                  </td>
               </tr>
               <tr>
                  <td>Cache-Control</td>
                  <td>http</td>
                  <td>standard</td>
                  <td> <a href="#header.cache-control" id="rfc.xref.header.cache-control.11" title="Cache-Control">Section&nbsp;16.2</a> 
                  </td>
               </tr>
               <tr>
                  <td>Expires</td>
                  <td>http</td>
                  <td>standard</td>
                  <td> <a href="#header.expires" id="rfc.xref.header.expires.3" title="Expires">Section&nbsp;16.3</a> 
                  </td>
               </tr>
               <tr>
                  <td>Pragma</td>
                  <td>http</td>
                  <td>standard</td>
                  <td> <a href="#header.pragma" id="rfc.xref.header.pragma.2" title="Pragma">Section&nbsp;16.4</a> 
                  </td>
               </tr>
               <tr>
                  <td>Vary</td>
                  <td>http</td>
                  <td>standard</td>
                  <td> <a href="#header.vary" id="rfc.xref.header.vary.2" title="Vary">Section&nbsp;16.5</a> 
                  </td>
               </tr>
               <tr>
                  <td>Warning</td>
                  <td>http</td>
                  <td>standard</td>
                  <td> <a href="#header.warning" id="rfc.xref.header.warning.6" title="Warning">Section&nbsp;16.6</a> 
                  </td>
               </tr>
            </tbody>
         </table>
      </div>
      <p id="rfc.section.17.1.p.2">The change controller is: "IETF (iesg@ietf.org) - Internet Engineering Task Force".</p>
      <h1 id="rfc.section.18"><a href="#rfc.section.18">18.</a>&nbsp;<a id="security.considerations" href="#security.considerations">Security Considerations</a></h1>
      <p id="rfc.section.18.p.1">Caching proxies provide additional potential vulnerabilities, since the contents of the cache represent an attractive target
         for malicious exploitation. Because cache contents persist after an HTTP request is complete, an attack on the cache can reveal
         information long after a user believes that the information has been removed from the network. Therefore, cache contents should
         be protected as sensitive information.
      </p>
      <h1 id="rfc.section.19"><a href="#rfc.section.19">19.</a>&nbsp;<a id="ack" href="#ack">Acknowledgments</a></h1>
      <p id="rfc.section.19.p.1">Much of the content and presentation of the caching design is due to suggestions and comments from individuals including:
         Shel Kaphan, Paul Leach, Koen Holtman, David Morris, and Larry Masinter.
      </p>
      <h1 id="rfc.references"><a id="rfc.section.20" href="#rfc.section.20">20.</a> References
      </h1>
      <h2 id="rfc.references.1"><a href="#rfc.section.20.1" id="rfc.section.20.1">20.1</a> Normative References
      </h2>
      <table summary="Normative References">                  
         <tr>
            <td class="reference"><b id="ISO-8859-1">[ISO-8859-1]</b></td>
            <td class="top">International Organization for Standardization, “
               Information technology -- 8-bit single-byte coded graphic character sets -- Part 1: Latin alphabet No. 1
               ”, ISO/IEC&nbsp;8859-1:1998, 1998.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="Part1">[Part1]</b></td>
            <td class="top"><a title="Day Software">Fielding, R., Ed.</a>, <a title="One Laptop per Child">Gettys, J.</a>, <a title="Hewlett-Packard Company">Mogul, J.</a>, <a title="Microsoft Corporation">Frystyk, H.</a>, <a title="Adobe Systems, Incorporated">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, <a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="World Wide Web Consortium">Lafon, Y., Ed.</a>, and <a title="greenbytes GmbH">J. F. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p1-messaging-latest">HTTP/1.1, part 1: URIs, Connections, and Message Parsing</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p1-messaging-latest (work in progress), November&nbsp;2008.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="Part2">[Part2]</b></td>
            <td class="top"><a title="Day Software">Fielding, R., Ed.</a>, <a title="One Laptop per Child">Gettys, J.</a>, <a title="Hewlett-Packard Company">Mogul, J.</a>, <a title="Microsoft Corporation">Frystyk, H.</a>, <a title="Adobe Systems, Incorporated">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, <a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="World Wide Web Consortium">Lafon, Y., Ed.</a>, and <a title="greenbytes GmbH">J. F. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p2-semantics-latest">HTTP/1.1, part 2: Message Semantics</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p2-semantics-latest (work in progress), November&nbsp;2008.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="Part3">[Part3]</b></td>
            <td class="top"><a title="Day Software">Fielding, R., Ed.</a>, <a title="One Laptop per Child">Gettys, J.</a>, <a title="Hewlett-Packard Company">Mogul, J.</a>, <a title="Microsoft Corporation">Frystyk, H.</a>, <a title="Adobe Systems, Incorporated">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, <a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="World Wide Web Consortium">Lafon, Y., Ed.</a>, and <a title="greenbytes GmbH">J. F. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p3-payload-latest">HTTP/1.1, part 3: Message Payload and Content Negotiation</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p3-payload-latest (work in progress), November&nbsp;2008.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="Part4">[Part4]</b></td>
            <td class="top"><a title="Day Software">Fielding, R., Ed.</a>, <a title="One Laptop per Child">Gettys, J.</a>, <a title="Hewlett-Packard Company">Mogul, J.</a>, <a title="Microsoft Corporation">Frystyk, H.</a>, <a title="Adobe Systems, Incorporated">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, <a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="World Wide Web Consortium">Lafon, Y., Ed.</a>, and <a title="greenbytes GmbH">J. F. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p4-conditional-latest">HTTP/1.1, part 4: Conditional Requests</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p4-conditional-latest (work in progress), November&nbsp;2008.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="Part5">[Part5]</b></td>
            <td class="top"><a title="Day Software">Fielding, R., Ed.</a>, <a title="One Laptop per Child">Gettys, J.</a>, <a title="Hewlett-Packard Company">Mogul, J.</a>, <a title="Microsoft Corporation">Frystyk, H.</a>, <a title="Adobe Systems, Incorporated">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, <a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="World Wide Web Consortium">Lafon, Y., Ed.</a>, and <a title="greenbytes GmbH">J. F. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p5-range-latest">HTTP/1.1, part 5: Range Requests and Partial Responses</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p5-range-latest (work in progress), November&nbsp;2008.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="Part7">[Part7]</b></td>
            <td class="top"><a title="Day Software">Fielding, R., Ed.</a>, <a title="One Laptop per Child">Gettys, J.</a>, <a title="Hewlett-Packard Company">Mogul, J.</a>, <a title="Microsoft Corporation">Frystyk, H.</a>, <a title="Adobe Systems, Incorporated">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, <a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="World Wide Web Consortium">Lafon, Y., Ed.</a>, and <a title="greenbytes GmbH">J. F. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p7-auth-latest">HTTP/1.1, part 7: Authentication</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p7-auth-latest (work in progress), November&nbsp;2008.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="RFC2047">[RFC2047]</b></td>
            <td class="top"><a title="University of Tennessee">Moore, K.</a>, “<a href="http://tools.ietf.org/html/rfc2047">MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text</a>”, RFC&nbsp;2047, November&nbsp;1996.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="RFC2119">[RFC2119]</b></td>
            <td class="top"><a title="Harvard University">Bradner, S.</a>, “<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>”, BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.
            </td>
         </tr>
      </table>
      <h2 id="rfc.references.2"><a href="#rfc.section.20.2" id="rfc.section.20.2">20.2</a> Informative References
      </h2>
      <table summary="Informative References">      
         <tr>
            <td class="reference"><b id="RFC1305">[RFC1305]</b></td>
            <td class="top"><a title="University of Delaware, Electrical Engineering Department">Mills, D.</a>, “<a href="http://tools.ietf.org/html/rfc1305">Network Time Protocol (Version 3) Specification, Implementation</a>”, RFC&nbsp;1305, March&nbsp;1992.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="RFC2616">[RFC2616]</b></td>
            <td class="top"><a title="University of California, Irvine">Fielding, R.</a>, <a title="W3C">Gettys, J.</a>, <a title="Compaq Computer Corporation">Mogul, J.</a>, <a title="MIT Laboratory for Computer Science">Frystyk, H.</a>, <a title="Xerox Corporation">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, and <a title="W3C">T. Berners-Lee</a>, “<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>”, RFC&nbsp;2616, June&nbsp;1999.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="RFC3864">[RFC3864]</b></td>
            <td class="top"><a title="Nine by Nine">Klyne, G.</a>, <a title="BEA Systems">Nottingham, M.</a>, and <a title="HP Labs">J. Mogul</a>, “<a href="http://tools.ietf.org/html/rfc3864">Registration Procedures for Message Header Fields</a>”, BCP&nbsp;90, RFC&nbsp;3864, September&nbsp;2004.
            </td>
         </tr>
      </table>
      <h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
      <address class="vcard"><span class="vcardline"><span class="fn">Roy T. Fielding</span>
            (editor)
            <span class="n hidden"><span class="family-name">Fielding</span><span class="given-name">Roy T.</span></span></span><span class="org vcardline">Day Software</span><span class="adr"><span class="street-address vcardline">23 Corporate Plaza DR, Suite 280</span><span class="vcardline"><span class="locality">Newport Beach</span>, <span class="region">CA</span>&nbsp;<span class="postal-code">92660</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline tel">Phone: <a href="tel:+1-949-706-5300"><span class="value">+1-949-706-5300</span></a></span><span class="vcardline tel"><span class="type">Fax</span>: <a href="fax:+1-949-706-5305"><span class="value">+1-949-706-5305</span></a></span><span class="vcardline">EMail: <a><span class="email">fielding@gbiv.com</span></a></span><span class="vcardline">URI: <a href="http://roy.gbiv.com/" class="url">http://roy.gbiv.com/</a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Jim Gettys</span><span class="n hidden"><span class="family-name">Gettys</span><span class="given-name">Jim</span></span></span><span class="org vcardline">One Laptop per Child</span><span class="adr"><span class="street-address vcardline">21 Oak Knoll Road</span><span class="vcardline"><span class="locality">Carlisle</span>, <span class="region">MA</span>&nbsp;<span class="postal-code">01741</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline">EMail: <a><span class="email">jg@laptop.org</span></a></span><span class="vcardline">URI: <a href="http://www.laptop.org/" class="url">http://www.laptop.org/</a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Jeffrey C. Mogul</span><span class="n hidden"><span class="family-name">Mogul</span><span class="given-name">Jeffrey C.</span></span></span><span class="org vcardline">Hewlett-Packard Company</span><span class="adr"><span class="street-address vcardline">HP Labs, Large Scale Systems Group</span><span class="street-address vcardline">1501 Page Mill Road, MS 1177</span><span class="vcardline"><span class="locality">Palo Alto</span>, <span class="region">CA</span>&nbsp;<span class="postal-code">94304</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline">EMail: <a><span class="email">JeffMogul@acm.org</span></a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Henrik Frystyk Nielsen</span><span class="n hidden"><span class="family-name">Frystyk</span></span></span><span class="org vcardline">Microsoft Corporation</span><span class="adr"><span class="street-address vcardline">1 Microsoft Way</span><span class="vcardline"><span class="locality">Redmond</span>, <span class="region">WA</span>&nbsp;<span class="postal-code">98052</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline">EMail: <a><span class="email">henrikn@microsoft.com</span></a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Larry Masinter</span><span class="n hidden"><span class="family-name">Masinter</span><span class="given-name">Larry</span></span></span><span class="org vcardline">Adobe Systems, Incorporated</span><span class="adr"><span class="street-address vcardline">345 Park Ave</span><span class="vcardline"><span class="locality">San Jose</span>, <span class="region">CA</span>&nbsp;<span class="postal-code">95110</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline">EMail: <a><span class="email">LMM@acm.org</span></a></span><span class="vcardline">URI: <a href="http://larry.masinter.net/" class="url">http://larry.masinter.net/</a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Paul J. Leach</span><span class="n hidden"><span class="family-name">Leach</span><span class="given-name">Paul J.</span></span></span><span class="org vcardline">Microsoft Corporation</span><span class="adr"><span class="street-address vcardline">1 Microsoft Way</span><span class="vcardline"><span class="locality">Redmond</span>, <span class="region">WA</span>&nbsp;<span class="postal-code">98052</span></span></span><span class="vcardline">EMail: <a><span class="email">paulle@microsoft.com</span></a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Tim Berners-Lee</span><span class="n hidden"><span class="family-name">Berners-Lee</span><span class="given-name">Tim</span></span></span><span class="org vcardline">World Wide Web Consortium</span><span class="adr"><span class="street-address vcardline">MIT Computer Science and Artificial Intelligence Laboratory</span><span class="street-address vcardline">The Stata Center, Building 32</span><span class="street-address vcardline">32 Vassar Street</span><span class="vcardline"><span class="locality">Cambridge</span>, <span class="region">MA</span>&nbsp;<span class="postal-code">02139</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline">EMail: <a><span class="email">timbl@w3.org</span></a></span><span class="vcardline">URI: <a href="http://www.w3.org/People/Berners-Lee/" class="url">http://www.w3.org/People/Berners-Lee/</a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Yves Lafon</span>
            (editor)
            <span class="n hidden"><span class="family-name">Lafon</span><span class="given-name">Yves</span></span></span><span class="org vcardline">World Wide Web Consortium</span><span class="adr"><span class="street-address vcardline">W3C / ERCIM</span><span class="street-address vcardline">2004, rte des Lucioles</span><span class="vcardline"><span class="locality">Sophia-Antipolis</span>, <span class="region">AM</span>&nbsp;<span class="postal-code">06902</span></span><span class="country-name vcardline">France</span></span><span class="vcardline">EMail: <a><span class="email">ylafon@w3.org</span></a></span><span class="vcardline">URI: <a href="http://www.raubacapeu.net/people/yves/" class="url">http://www.raubacapeu.net/people/yves/</a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Julian F. Reschke</span>
            (editor)
            <span class="n hidden"><span class="family-name">Reschke</span><span class="given-name">Julian F.</span></span></span><span class="org vcardline">greenbytes GmbH</span><span class="adr"><span class="street-address vcardline">Hafenweg 16</span><span class="vcardline"><span class="locality">Muenster</span>, <span class="region">NW</span>&nbsp;<span class="postal-code">48155</span></span><span class="country-name vcardline">Germany</span></span><span class="vcardline tel">Phone: <a href="tel:+492512807760"><span class="value">+49 251 2807760</span></a></span><span class="vcardline tel"><span class="type">Fax</span>: <a href="fax:+492512807761"><span class="value">+49 251 2807761</span></a></span><span class="vcardline">EMail: <a><span class="email">julian.reschke@greenbytes.de</span></a></span><span class="vcardline">URI: <a href="http://greenbytes.de/tech/webdav/" class="url">http://greenbytes.de/tech/webdav/</a></span></address>
      <h1 id="rfc.section.A"><a href="#rfc.section.A">A.</a>&nbsp;<a id="compatibility" href="#compatibility">Compatibility with Previous Versions</a></h1>
      <h2 id="rfc.section.A.1"><a href="#rfc.section.A.1">A.1</a>&nbsp;<a id="changes.from.rfc.2068" href="#changes.from.rfc.2068">Changes from RFC 2068</a></h2>
      <p id="rfc.section.A.1.p.1">A case was missed in the Cache-Control model of HTTP/1.1; s-maxage was introduced to add this missing case. (Sections <a href="#response.cacheability" title="Response Cacheability">6</a>, <a href="#header.cache-control" id="rfc.xref.header.cache-control.12" title="Cache-Control">16.2</a>, <a href="#modifications.of.the.basic.expiration.mechanism" title="Modifications of the Basic Expiration Mechanism">16.2.3</a>)
      </p>
      <p id="rfc.section.A.1.p.2">Transfer-coding and message lengths all interact in ways that required fixing exactly when chunked encoding is used (to allow
         for transfer encoding that may not be self delimiting); it was important to straighten out exactly how message lengths are
         computed. (<a href="#non-modifiable.headers" title="Non-modifiable Headers">Section&nbsp;7.2</a>, see also <a href="#Part1" id="rfc.xref.Part1.20"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="#Part3" id="rfc.xref.Part3.3"><cite title="HTTP/1.1, part 3: Message Payload and Content Negotiation">[Part3]</cite></a> and <a href="#Part5" id="rfc.xref.Part5.3"><cite title="HTTP/1.1, part 5: Range Requests and Partial Responses">[Part5]</cite></a>)
      </p>
      <p id="rfc.section.A.1.p.3">Proxies should be able to add Content-Length when appropriate. (<a href="#non-modifiable.headers" title="Non-modifiable Headers">Section&nbsp;7.2</a>)
      </p>
      <p id="rfc.section.A.1.p.4">Range request responses would become very verbose if all meta-data were always returned; by allowing the server to only send
         needed headers in a 206 response, this problem can be avoided. (<a href="#combining.headers" title="Combining Headers">Section&nbsp;7.3</a>)
      </p>
      <p id="rfc.section.A.1.p.5">The Cache-Control: max-age directive was not properly defined for responses. (<a href="#modifications.of.the.basic.expiration.mechanism" title="Modifications of the Basic Expiration Mechanism">Section&nbsp;16.2.3</a>)
      </p>
      <p id="rfc.section.A.1.p.6">Warnings could be cached incorrectly, or not updated appropriately. (Section <a href="#warnings" title="Warnings">3.2</a>, <a href="#expiration.calculations" title="Expiration Calculations">4.4</a>, <a href="#non-modifiable.headers" title="Non-modifiable Headers">7.2</a>, <a href="#combining.headers" title="Combining Headers">7.3</a>, <a href="#modifications.of.the.basic.expiration.mechanism" title="Modifications of the Basic Expiration Mechanism">16.2.3</a>, and <a href="#header.warning" id="rfc.xref.header.warning.7" title="Warning">16.6</a>) Warning also needed to be a general header, as PUT or other methods may have need for it in requests.
      </p>
      <h2 id="rfc.section.A.2"><a href="#rfc.section.A.2">A.2</a>&nbsp;<a id="changes.from.rfc.2616" href="#changes.from.rfc.2616">Changes from RFC 2616</a></h2>
      <p id="rfc.section.A.2.p.1">Clarify denial of service attack avoidance requirement. (<a href="#invalidation.after.updates.or.deletions" title="Invalidation After Updates or Deletions">Section&nbsp;12</a>)
      </p>
      <h1 id="rfc.section.B"><a href="#rfc.section.B">B.</a>&nbsp;<a id="change.log" href="#change.log">Change Log (to be removed by RFC Editor before publication)</a></h1>
      <h2 id="rfc.section.B.1"><a href="#rfc.section.B.1">B.1</a>&nbsp;Since RFC2616
      </h2>
      <p id="rfc.section.B.1.p.1">Extracted relevant partitions from <a href="#RFC2616" id="rfc.xref.RFC2616.1"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>.
      </p>
      <h2 id="rfc.section.B.2"><a href="#rfc.section.B.2">B.2</a>&nbsp;Since draft-ietf-httpbis-p6-cache-00
      </h2>
      <p id="rfc.section.B.2.p.1">Closed issues: </p>
      <ul>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/9">http://tools.ietf.org/wg/httpbis/trac/ticket/9</a>&gt;: "Trailer" (&lt;<a href="http://purl.org/NET/http-errata#trailer-hop">http://purl.org/NET/http-errata#trailer-hop</a>&gt;)
         </li>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/12">http://tools.ietf.org/wg/httpbis/trac/ticket/12</a>&gt;: "Invalidation after Update or Delete" (&lt;<a href="http://purl.org/NET/http-errata#invalidupd">http://purl.org/NET/http-errata#invalidupd</a>&gt;)
         </li>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/35">http://tools.ietf.org/wg/httpbis/trac/ticket/35</a>&gt;: "Normative and Informative references"
         </li>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/48">http://tools.ietf.org/wg/httpbis/trac/ticket/48</a>&gt;: "Date reference typo"
         </li>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/49">http://tools.ietf.org/wg/httpbis/trac/ticket/49</a>&gt;: "Connection header text"
         </li>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/65">http://tools.ietf.org/wg/httpbis/trac/ticket/65</a>&gt;: "Informative references"
         </li>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/66">http://tools.ietf.org/wg/httpbis/trac/ticket/66</a>&gt;: "ISO-8859-1 Reference"
         </li>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/86">http://tools.ietf.org/wg/httpbis/trac/ticket/86</a>&gt;: "Normative up-to-date references"
         </li>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/87">http://tools.ietf.org/wg/httpbis/trac/ticket/87</a>&gt;: "typo in 13.2.2"
         </li>
      </ul>
      <p id="rfc.section.B.2.p.2">Other changes: </p>
      <ul>
         <li>Use names of RFC4234 core rules DQUOTE and HTAB (work in progress on &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/36">http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>&gt;)
         </li>
      </ul>
      <h2 id="rfc.section.B.3"><a href="#rfc.section.B.3">B.3</a>&nbsp;Since draft-ietf-httpbis-p6-cache-01
      </h2>
      <p id="rfc.section.B.3.p.1">Closed issues: </p>
      <ul>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/82">http://tools.ietf.org/wg/httpbis/trac/ticket/82</a>&gt;: "rel_path not used"
         </li>
      </ul>
      <p id="rfc.section.B.3.p.2">Other changes: </p>
      <ul>
         <li>Get rid of duplicate BNF rule names ("host" -&gt; "uri-host") (work in progress on &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/36">http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>&gt;)
         </li>
         <li>Add explicit references to BNF syntax and rules imported from other parts of the specification.</li>
      </ul>
      <h2 id="rfc.section.B.4"><a href="#rfc.section.B.4">B.4</a>&nbsp;<a id="changes.since.02" href="#changes.since.02">Since draft-ietf-httpbis-p6-cache-02</a></h2>
      <p id="rfc.section.B.4.p.1">Ongoing work on IANA Message Header Registration (&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/40">http://tools.ietf.org/wg/httpbis/trac/ticket/40</a>&gt;): 
      </p>
      <ul>
         <li>Reference RFC 3984, and update header registrations for headers defined in this document.</li>
      </ul>
      <h2 id="rfc.section.B.5"><a href="#rfc.section.B.5">B.5</a>&nbsp;<a id="changes.since.03" href="#changes.since.03">Since draft-ietf-httpbis-p6-cache-03</a></h2>
      <p id="rfc.section.B.5.p.1">Closed issues: </p>
      <ul>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/106">http://tools.ietf.org/wg/httpbis/trac/ticket/106</a>&gt;: "Vary header classification"
         </li>
      </ul>
      <h2 id="rfc.section.B.6"><a href="#rfc.section.B.6">B.6</a>&nbsp;<a id="changes.since.04" href="#changes.since.04">Since draft-ietf-httpbis-p6-cache-04</a></h2>
      <p id="rfc.section.B.6.p.1">Ongoing work on ABNF conversion (&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/36">http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>&gt;): 
      </p>
      <ul>
         <li>Use "/" instead of "|" for alternatives.</li>
         <li>Introduce new ABNF rules for "bad" whitespace ("BWS"), optional whitespace ("OWS") and required whitespace ("RWS").</li>
         <li>Rewrite ABNFs to spell out whitespace rules, factor out header value format definitions.</li>
      </ul>
      <h2 id="rfc.section.B.7"><a href="#rfc.section.B.7">B.7</a>&nbsp;<a id="changes.since.05" href="#changes.since.05">Since draft-ietf-httpbis-p6-cache-05</a></h2>
      <h1><a id="rfc.copyright" href="#rfc.copyright">Full Copyright Statement</a></h1>
      <p>This document is subject to the rights, licenses and restrictions contained in BCP 78, and except as set forth therein, the
         authors retain all their rights.
      </p>
      <p>This document and the information contained herein are provided on an “AS IS” basis and THE CONTRIBUTOR, THE ORGANIZATION
         HE/SHE REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND THE INTERNET ENGINEERING TASK FORCE
         DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN
         WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
      </p>
      <h1><a id="rfc.ipr" href="#rfc.ipr">Intellectual Property</a></h1>
      <p>The IETF takes no position regarding the validity or scope of any Intellectual Property Rights or other rights that might
         be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any
         license under such rights might or might not be available; nor does it represent that it has made any independent effort to
         identify any such rights. Information on the procedures with respect to rights in RFC documents can be found in BCP 78 and
         BCP 79.
      </p>
      <p>Copies of IPR disclosures made to the IETF Secretariat and any assurances of licenses to be made available, or the result
         of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users
         of this specification can be obtained from the IETF on-line IPR repository at &lt;<a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>&gt;.
      </p>
      <p>The IETF invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary
         rights that may cover technology that may be required to implement this standard. Please address the information to the IETF
         at <a href="mailto:ietf-ipr@ietf.org">ietf-ipr@ietf.org</a>.
      </p>
      <h1 id="rfc.index"><a href="#rfc.index">Index</a></h1>
      <p class="noprint"><a href="#rfc.index.A">A</a> <a href="#rfc.index.C">C</a> <a href="#rfc.index.E">E</a> <a href="#rfc.index.F">F</a> <a href="#rfc.index.G">G</a> <a href="#rfc.index.H">H</a> <a href="#rfc.index.I">I</a> <a href="#rfc.index.M">M</a> <a href="#rfc.index.N">N</a> <a href="#rfc.index.O">O</a> <a href="#rfc.index.P">P</a> <a href="#rfc.index.R">R</a> <a href="#rfc.index.S">S</a> <a href="#rfc.index.V">V</a> <a href="#rfc.index.W">W</a> 
      </p>
      <div class="print2col">
         <ul class="ind">
            <li class="indline0"><a id="rfc.index.A" href="#rfc.index.A"><b>A</b></a><ul class="ind">
                  <li class="indline1">age&nbsp;&nbsp;<a class="iref" href="#rfc.iref.a.1">1.2</a></li>
                  <li class="indline1">Age header&nbsp;&nbsp;<a class="iref" href="#rfc.iref.a.2"><b>16.1</b></a>, <a class="iref" href="#rfc.xref.header.age.1">17.1</a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.C" href="#rfc.index.C"><b>C</b></a><ul class="ind">
                  <li class="indline1">cache&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.1">1.1</a></li>
                  <li class="indline1">Cache Directives&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">max-age&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.9"><b>16.2.3</b></a>, <a class="iref" href="#rfc.iref.c.12"><b>16.2.4</b></a></li>
                        <li class="indline1">max-stale&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.11"><b>16.2.3</b></a></li>
                        <li class="indline1">min-fresh&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.10"><b>16.2.3</b></a></li>
                        <li class="indline1">must-revalidate&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.14"><b>16.2.4</b></a></li>
                        <li class="indline1">no-cache&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.6"><b>16.2.1</b></a></li>
                        <li class="indline1">no-store&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.7"><b>16.2.2</b></a></li>
                        <li class="indline1">no-transform&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.16"><b>16.2.5</b></a></li>
                        <li class="indline1">only-if-cached&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.13"><b>16.2.4</b></a></li>
                        <li class="indline1">private&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.5"><b>16.2.1</b></a></li>
                        <li class="indline1">proxy-revalidate&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.15"><b>16.2.4</b></a></li>
                        <li class="indline1">public&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.4"><b>16.2.1</b></a></li>
                        <li class="indline1">s-maxage&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.8"><b>16.2.3</b></a></li>
                     </ul>
                  </li>
                  <li class="indline1">Cache-Control header&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.cache-control.1">3.1</a>, <a class="iref" href="#rfc.xref.header.cache-control.2">3.1</a>, <a class="iref" href="#rfc.xref.header.cache-control.3">3.3</a>, <a class="iref" href="#rfc.xref.header.cache-control.4">4.1</a>, <a class="iref" href="#rfc.xref.header.cache-control.5">4.5</a>, <a class="iref" href="#rfc.xref.header.cache-control.6">6</a>, <a class="iref" href="#rfc.xref.header.cache-control.7">6</a>, <a class="iref" href="#rfc.xref.header.cache-control.8">10</a>, <a class="iref" href="#rfc.iref.c.3"><b>16.2</b></a>, <a class="iref" href="#rfc.xref.header.cache-control.9">16.3</a>, <a class="iref" href="#rfc.xref.header.cache-control.10">16.4</a>, <a class="iref" href="#rfc.xref.header.cache-control.11">17.1</a>, <a class="iref" href="#rfc.xref.header.cache-control.12">A.1</a></li>
                  <li class="indline1">cacheable&nbsp;&nbsp;<a class="iref" href="#rfc.iref.c.2">1.2</a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.E" href="#rfc.index.E"><b>E</b></a><ul class="ind">
                  <li class="indline1">Expires header&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.expires.1">6</a>, <a class="iref" href="#rfc.xref.header.expires.2">16.2.3</a>, <a class="iref" href="#rfc.iref.e.2"><b>16.3</b></a>, <a class="iref" href="#rfc.xref.header.expires.3">17.1</a></li>
                  <li class="indline1">explicit expiration time&nbsp;&nbsp;<a class="iref" href="#rfc.iref.e.1">1.2</a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.F" href="#rfc.index.F"><b>F</b></a><ul class="ind">
                  <li class="indline1">first-hand&nbsp;&nbsp;<a class="iref" href="#rfc.iref.f.1">1.2</a></li>
                  <li class="indline1">fresh&nbsp;&nbsp;<a class="iref" href="#rfc.iref.f.3">1.2</a></li>
                  <li class="indline1">freshness lifetime&nbsp;&nbsp;<a class="iref" href="#rfc.iref.f.2">1.2</a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.G" href="#rfc.index.G"><b>G</b></a><ul class="ind">
                  <li class="indline1"><tt>Grammar</tt>&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1"><tt>Age</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.1"><b>16.1</b></a></li>
                        <li class="indline1"><tt>Age-v</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.2"><b>16.1</b></a></li>
                        <li class="indline1"><tt>Cache-Control</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.4"><b>16.2</b></a></li>
                        <li class="indline1"><tt>Cache-Control-v</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.5"><b>16.2</b></a></li>
                        <li class="indline1"><tt>cache-directive</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.6"><b>16.2</b></a></li>
                        <li class="indline1"><tt>cache-extension</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.9"><b>16.2</b></a></li>
                        <li class="indline1"><tt>cache-request-directive</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.7"><b>16.2</b></a></li>
                        <li class="indline1"><tt>cache-response-directive</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.8"><b>16.2</b></a></li>
                        <li class="indline1"><tt>delta-seconds</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.3"><b>16.1</b></a></li>
                        <li class="indline1"><tt>Expires</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.10"><b>16.3</b></a></li>
                        <li class="indline1"><tt>Expires-v</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.11"><b>16.3</b></a></li>
                        <li class="indline1"><tt>extension-pragma</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.15"><b>16.4</b></a></li>
                        <li class="indline1"><tt>Pragma</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.12"><b>16.4</b></a></li>
                        <li class="indline1"><tt>pragma-directive</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.14"><b>16.4</b></a></li>
                        <li class="indline1"><tt>Pragma-v</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.13"><b>16.4</b></a></li>
                        <li class="indline1"><tt>Vary</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.16"><b>16.5</b></a></li>
                        <li class="indline1"><tt>Vary-v</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.17"><b>16.5</b></a></li>
                        <li class="indline1"><tt>warn-agent</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.22"><b>16.6</b></a></li>
                        <li class="indline1"><tt>warn-code</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.21"><b>16.6</b></a></li>
                        <li class="indline1"><tt>warn-date</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.24"><b>16.6</b></a></li>
                        <li class="indline1"><tt>warn-text</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.23"><b>16.6</b></a></li>
                        <li class="indline1"><tt>Warning</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.18"><b>16.6</b></a></li>
                        <li class="indline1"><tt>Warning-v</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.19"><b>16.6</b></a></li>
                        <li class="indline1"><tt>warning-value</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.20"><b>16.6</b></a></li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.H" href="#rfc.index.H"><b>H</b></a><ul class="ind">
                  <li class="indline1">Headers&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Age&nbsp;&nbsp;<a class="iref" href="#rfc.iref.h.2"><b>16.1</b></a>, <a class="iref" href="#rfc.xref.header.age.1">17.1</a></li>
                        <li class="indline1">Cache-Control&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.cache-control.1">3.1</a>, <a class="iref" href="#rfc.xref.header.cache-control.2">3.1</a>, <a class="iref" href="#rfc.xref.header.cache-control.3">3.3</a>, <a class="iref" href="#rfc.xref.header.cache-control.4">4.1</a>, <a class="iref" href="#rfc.xref.header.cache-control.5">4.5</a>, <a class="iref" href="#rfc.xref.header.cache-control.6">6</a>, <a class="iref" href="#rfc.xref.header.cache-control.7">6</a>, <a class="iref" href="#rfc.xref.header.cache-control.8">10</a>, <a class="iref" href="#rfc.iref.h.3"><b>16.2</b></a>, <a class="iref" href="#rfc.xref.header.cache-control.9">16.3</a>, <a class="iref" href="#rfc.xref.header.cache-control.10">16.4</a>, <a class="iref" href="#rfc.xref.header.cache-control.11">17.1</a>, <a class="iref" href="#rfc.xref.header.cache-control.12">A.1</a></li>
                        <li class="indline1">Expires&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.expires.1">6</a>, <a class="iref" href="#rfc.xref.header.expires.2">16.2.3</a>, <a class="iref" href="#rfc.iref.h.4"><b>16.3</b></a>, <a class="iref" href="#rfc.xref.header.expires.3">17.1</a></li>
                        <li class="indline1">Pragma&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.pragma.1">16.2</a>, <a class="iref" href="#rfc.iref.h.5"><b>16.4</b></a>, <a class="iref" href="#rfc.xref.header.pragma.2">17.1</a></li>
                        <li class="indline1">Vary&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.vary.1">8</a>, <a class="iref" href="#rfc.iref.h.6"><b>16.5</b></a>, <a class="iref" href="#rfc.xref.header.vary.2">17.1</a></li>
                        <li class="indline1">Warning&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.warning.1">3.1</a>, <a class="iref" href="#rfc.xref.header.warning.2">3.2</a>, <a class="iref" href="#rfc.xref.header.warning.3">3.2</a>, <a class="iref" href="#rfc.xref.header.warning.4">7.2</a>, <a class="iref" href="#rfc.xref.header.warning.5">7.3</a>, <a class="iref" href="#rfc.iref.h.7"><b>16.6</b></a>, <a class="iref" href="#rfc.xref.header.warning.6">17.1</a>, <a class="iref" href="#rfc.xref.header.warning.7">A.1</a></li>
                     </ul>
                  </li>
                  <li class="indline1">heuristic expiration time&nbsp;&nbsp;<a class="iref" href="#rfc.iref.h.1">1.2</a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.I" href="#rfc.index.I"><b>I</b></a><ul class="ind">
                  <li class="indline1"><em>ISO-8859-1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.ISO-8859-1.1">16.6</a>, <a class="iref" href="#ISO-8859-1"><b>20.1</b></a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.M" href="#rfc.index.M"><b>M</b></a><ul class="ind">
                  <li class="indline1">max-age&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Cache Directive&nbsp;&nbsp;<a class="iref" href="#rfc.iref.m.1"><b>16.2.3</b></a>, <a class="iref" href="#rfc.iref.m.4"><b>16.2.4</b></a></li>
                     </ul>
                  </li>
                  <li class="indline1">max-stale&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Cache Directive&nbsp;&nbsp;<a class="iref" href="#rfc.iref.m.3"><b>16.2.3</b></a></li>
                     </ul>
                  </li>
                  <li class="indline1">min-fresh&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Cache Directive&nbsp;&nbsp;<a class="iref" href="#rfc.iref.m.2"><b>16.2.3</b></a></li>
                     </ul>
                  </li>
                  <li class="indline1">must-revalidate&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Cache Directive&nbsp;&nbsp;<a class="iref" href="#rfc.iref.m.5"><b>16.2.4</b></a></li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.N" href="#rfc.index.N"><b>N</b></a><ul class="ind">
                  <li class="indline1">no-cache&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Cache Directive&nbsp;&nbsp;<a class="iref" href="#rfc.iref.n.1"><b>16.2.1</b></a></li>
                     </ul>
                  </li>
                  <li class="indline1">no-store&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Cache Directive&nbsp;&nbsp;<a class="iref" href="#rfc.iref.n.2"><b>16.2.2</b></a></li>
                     </ul>
                  </li>
                  <li class="indline1">no-transform&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Cache Directive&nbsp;&nbsp;<a class="iref" href="#rfc.iref.n.3"><b>16.2.5</b></a></li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.O" href="#rfc.index.O"><b>O</b></a><ul class="ind">
                  <li class="indline1">only-if-cached&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Cache Directive&nbsp;&nbsp;<a class="iref" href="#rfc.iref.o.1"><b>16.2.4</b></a></li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.P" href="#rfc.index.P"><b>P</b></a><ul class="ind">
                  <li class="indline1"><em>Part1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.1">2</a>, <a class="iref" href="#rfc.xref.Part1.2">2</a>, <a class="iref" href="#rfc.xref.Part1.3">2</a>, <a class="iref" href="#rfc.xref.Part1.4">2</a>, <a class="iref" href="#rfc.xref.Part1.5">2</a>, <a class="iref" href="#rfc.xref.Part1.6">2</a>, <a class="iref" href="#rfc.xref.Part1.7">2</a>, <a class="iref" href="#rfc.xref.Part1.8">2</a>, <a class="iref" href="#rfc.xref.Part1.9">2</a>, <a class="iref" href="#rfc.xref.Part1.10">2</a>, <a class="iref" href="#rfc.xref.Part1.11">2</a>, <a class="iref" href="#rfc.xref.Part1.12">2</a>, <a class="iref" href="#rfc.xref.Part1.13">2</a>, <a class="iref" href="#rfc.xref.Part1.14">4.3</a>, <a class="iref" href="#rfc.xref.Part1.15">7.1</a>, <a class="iref" href="#rfc.xref.Part1.16">7.2</a>, <a class="iref" href="#rfc.xref.Part1.17">7.2</a>, <a class="iref" href="#rfc.xref.Part1.18">8</a>, <a class="iref" href="#rfc.xref.Part1.19">16.3</a>, <a class="iref" href="#Part1"><b>20.1</b></a>, <a class="iref" href="#rfc.xref.Part1.20">A.1</a><ul class="ind">
                        <li class="indline1"><em>Section 1.2.1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.1">2</a></li>
                        <li class="indline1"><em>Section 1.2.2</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.2">2</a>, <a class="iref" href="#rfc.xref.Part1.3">2</a>, <a class="iref" href="#rfc.xref.Part1.4">2</a>, <a class="iref" href="#rfc.xref.Part1.5">2</a>, <a class="iref" href="#rfc.xref.Part1.6">2</a>, <a class="iref" href="#rfc.xref.Part1.7">2</a>, <a class="iref" href="#rfc.xref.Part1.8">2</a></li>
                        <li class="indline1"><em>Section 2.1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.11">2</a>, <a class="iref" href="#rfc.xref.Part1.13">2</a></li>
                        <li class="indline1"><em>Section 3.2.1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.10">2</a>, <a class="iref" href="#rfc.xref.Part1.19">16.3</a></li>
                        <li class="indline1"><em>Section 4.2</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.9">2</a>, <a class="iref" href="#rfc.xref.Part1.18">8</a></li>
                        <li class="indline1"><em>Section 4.4</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.16">7.2</a>, <a class="iref" href="#rfc.xref.Part1.17">7.2</a></li>
                        <li class="indline1"><em>Section 8.1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.15">7.1</a></li>
                        <li class="indline1"><em>Section 8.3</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.14">4.3</a></li>
                        <li class="indline1"><em>Section 8.9</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.12">2</a></li>
                     </ul>
                  </li>
                  <li class="indline1"><em>Part2</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part2.1">11</a>, <a class="iref" href="#Part2"><b>20.1</b></a><ul class="ind">
                        <li class="indline1"><em>Section 8.1.1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part2.1">11</a></li>
                     </ul>
                  </li>
                  <li class="indline1"><em>Part3</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part3.1">7.2</a>, <a class="iref" href="#rfc.xref.Part3.2">8</a>, <a class="iref" href="#Part3"><b>20.1</b></a>, <a class="iref" href="#rfc.xref.Part3.3">A.1</a><ul class="ind">
                        <li class="indline1"><em>Section 4.2.2</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part3.1">7.2</a></li>
                        <li class="indline1"><em>Section 5.1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part3.2">8</a></li>
                     </ul>
                  </li>
                  <li class="indline1"><em>Part4</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part4.1">5</a>, <a class="iref" href="#Part4"><b>20.1</b></a></li>
                  <li class="indline1"><em>Part5</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part5.1">7.3</a>, <a class="iref" href="#rfc.xref.Part5.2">10</a>, <a class="iref" href="#Part5"><b>20.1</b></a>, <a class="iref" href="#rfc.xref.Part5.3">A.1</a><ul class="ind">
                        <li class="indline1"><em>Section 5</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part5.1">7.3</a>, <a class="iref" href="#rfc.xref.Part5.2">10</a></li>
                     </ul>
                  </li>
                  <li class="indline1"><em>Part7</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part7.1">6</a>, <a class="iref" href="#rfc.xref.Part7.2">16.2.1</a>, <a class="iref" href="#Part7"><b>20.1</b></a><ul class="ind">
                        <li class="indline1"><em>Section 4.1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part7.1">6</a>, <a class="iref" href="#rfc.xref.Part7.2">16.2.1</a></li>
                     </ul>
                  </li>
                  <li class="indline1">Pragma header&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.pragma.1">16.2</a>, <a class="iref" href="#rfc.iref.p.4"><b>16.4</b></a>, <a class="iref" href="#rfc.xref.header.pragma.2">17.1</a></li>
                  <li class="indline1">private&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Cache Directive&nbsp;&nbsp;<a class="iref" href="#rfc.iref.p.2"><b>16.2.1</b></a></li>
                     </ul>
                  </li>
                  <li class="indline1">proxy-revalidate&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Cache Directive&nbsp;&nbsp;<a class="iref" href="#rfc.iref.p.3"><b>16.2.4</b></a></li>
                     </ul>
                  </li>
                  <li class="indline1">public&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Cache Directive&nbsp;&nbsp;<a class="iref" href="#rfc.iref.p.1"><b>16.2.1</b></a></li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.R" href="#rfc.index.R"><b>R</b></a><ul class="ind">
                  <li class="indline1"><em>RFC1305</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.RFC1305.1">4.3</a>, <a class="iref" href="#RFC1305"><b>20.2</b></a></li>
                  <li class="indline1"><em>RFC2047</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.RFC2047.1">16.6</a>, <a class="iref" href="#RFC2047"><b>20.1</b></a></li>
                  <li class="indline1"><em>RFC2119</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.RFC2119.1">1.3</a>, <a class="iref" href="#RFC2119"><b>20.1</b></a></li>
                  <li class="indline1"><em>RFC2616</em>&nbsp;&nbsp;<a class="iref" href="#RFC2616"><b>20.2</b></a>, <a class="iref" href="#rfc.xref.RFC2616.1">B.1</a></li>
                  <li class="indline1"><em>RFC3864</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.RFC3864.1">17.1</a>, <a class="iref" href="#RFC3864"><b>20.2</b></a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.S" href="#rfc.index.S"><b>S</b></a><ul class="ind">
                  <li class="indline1">s-maxage&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">Cache Directive&nbsp;&nbsp;<a class="iref" href="#rfc.iref.s.3"><b>16.2.3</b></a></li>
                     </ul>
                  </li>
                  <li class="indline1">semantically transparent&nbsp;&nbsp;<a class="iref" href="#rfc.iref.s.1">1.1</a></li>
                  <li class="indline1">stale&nbsp;&nbsp;<a class="iref" href="#rfc.iref.s.2">1.2</a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.V" href="#rfc.index.V"><b>V</b></a><ul class="ind">
                  <li class="indline1">validator&nbsp;&nbsp;<a class="iref" href="#rfc.iref.v.1">1.2</a></li>
                  <li class="indline1">Vary header&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.vary.1">8</a>, <a class="iref" href="#rfc.iref.v.2"><b>16.5</b></a>, <a class="iref" href="#rfc.xref.header.vary.2">17.1</a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.W" href="#rfc.index.W"><b>W</b></a><ul class="ind">
                  <li class="indline1">Warning header&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.warning.1">3.1</a>, <a class="iref" href="#rfc.xref.header.warning.2">3.2</a>, <a class="iref" href="#rfc.xref.header.warning.3">3.2</a>, <a class="iref" href="#rfc.xref.header.warning.4">7.2</a>, <a class="iref" href="#rfc.xref.header.warning.5">7.3</a>, <a class="iref" href="#rfc.iref.w.1"><b>16.6</b></a>, <a class="iref" href="#rfc.xref.header.warning.6">17.1</a>, <a class="iref" href="#rfc.xref.header.warning.7">A.1</a></li>
               </ul>
            </li>
         </ul>
      </div>
   </body>
</html>