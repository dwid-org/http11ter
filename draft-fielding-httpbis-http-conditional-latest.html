<!DOCTYPE html>
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>Hypertext Transfer Protocol (HTTP): Conditional Requests</title><script type="application/javascript">
var buttonsAdded = false;

function initFeedback() {
  var fb = document.createElement("div");
  fb.className = "feedback noprint";
  fb.setAttribute("onclick", "feedback();");
  fb.appendChild(document.createTextNode("feedback"));

  document.body.appendChild(fb);
}

function feedback() {
  toggleButtonsToElementsByName("h2");
  toggleButtonsToElementsByName("h3");
  toggleButtonsToElementsByName("h4");
  toggleButtonsToElementsByName("h5");

  buttonsAdded = !buttonsAdded;
}

function toggleButtonsToElementsByName(name) {
  var list = document.getElementsByTagName(name);
  for (var i = 0; i < list.length; i++) {
    toggleButton(list.item(i));
  }
}

function toggleButton(node) {
  if (! buttonsAdded) {

    // docname
    var template = "mailto:ietf-http-wg@w3.org?subject={docname},%20%22{section}%22&body=<{ref}>:";

    var id = node.getAttribute("id");
    // try also parent
    if (id == null || id == "") {
      var id = node.parentNode.getAttribute("id");
    }
    // better id available?
    var titlelinks = node.getElementsByTagName("a");
    for (var i = 0; i < titlelinks.length; i++) {
      var tl = titlelinks.item(i);
      if (tl.getAttribute("id")) {
        id = tl.getAttribute("id");
      }
    }
    
    // ref
    var ref = window.location.toString();
    var hash = ref.indexOf("#");
    if (hash != -1) {
      ref = ref.substring(0, hash);
    }
    if (id != null && id != "") {
      ref += "#" + id;
    }

    // docname
    var docname = "draft-fielding-httpbis-http-conditional-latest";

    // section
    var section = node.textContent;
    section = section.replace("\u00a0", " ").trim();

    // build URI from template
    var uri = template.replace("{docname}", encodeURIComponent(docname));
    uri = uri.replace("{section}", encodeURIComponent(section));
    uri = uri.replace("{ref}", encodeURIComponent(ref));

    var button = document.createElement("a");
    button.className = "fbbutton noprint";
    button.setAttribute("href", uri);
    button.appendChild(document.createTextNode("send feedback"));
    node.appendChild(button);
  }
  else {
    var buttons = node.getElementsByTagName("a");
    for (var i = 0; i < buttons.length; i++) {
      var b = buttons.item(i);
      if (b.className == "fbbutton noprint") {
        node.removeChild(b);
      }
    }
  }
}</script><script type="application/javascript">
function anchorRewrite() {
  map = { "Last-Modified": "header.last-modified", "ETag": "header.etag", "entity-tag": "header.etag", "opaque-tag": "header.etag", "weak": "header.etag", "etagc": "header.etag", "validator.comparison": "entity.tag.comparison", "strong comparison": "entity.tag.comparison", "weak comparison": "entity.tag.comparison", "If-Match": "header.if-match", "If-None-Match": "header.if-none-match", "If-Modified-Since": "header.if-modified-since", "If-Unmodified-Since": "header.if-unmodified-since", "304": "status.304", "304 (Not Modified)": "status.304", "412 (Precondition Failed)": "status.412", "ALPHA": "imported.abnf", "CR": "imported.abnf", "DIGIT": "imported.abnf", "DQUOTE": "imported.abnf", "LF": "imported.abnf", "OCTET": "imported.abnf", "VCHAR": "imported.abnf", "core.rules": "imported.abnf", "obs-text": "imported.abnf", "OWS": "imported.abnf", "HTTP-date": "imported.abnf"};
  if (window.location.hash.length >= 1) {
    var fragid = window.location.hash.substr(1);
    if (fragid) {
      if (! document.getElementById(fragid)) {
        var prefix = "rfc.";
        var mapped = map[fragid];
        if (mapped) {
          window.location.hash = mapped;
        } else if (fragid.indexOf("section-") == 0) {
          window.location.hash = prefix + "section." + fragid.substring(8);
        } else if (fragid.indexOf("appendix-") == 0) {
          window.location.hash = prefix + "section." + fragid.substring(9);
        } else if (fragid.indexOf("s-") == 0) {
          var postfix = fragid.substring(2);
          if (postfix.startsWith("abstract")) {
            window.location.hash = prefix + postfix;
          } else if (postfix.startsWith("note-")) {
            window.location.hash = prefix + "note." + postfix.substring(5);
          } else {
            window.location.hash = prefix + "section." + postfix;
          }
        } else if (fragid.indexOf("p-") == 0) {
          var r = fragid.substring(2);
          var p = r.indexOf("-");
          if (p >= 0) {
            window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
          }
        }
      }
    }  
  }
}
window.addEventListener('hashchange', anchorRewrite);
window.addEventListener('DOMContentLoaded', anchorRewrite);
</script><style type="text/css" title="rfc2629.xslt">
a {
  text-decoration: none;
}
a.smpl {
  color: black;
}
a:hover {
  text-decoration: underline;
}
a:active {
  text-decoration: underline;
}
address {
  margin-top: 1em;
  margin-left: 2em;
  font-style: normal;
}
body {
  color: black;
  font-family: cambria, georgia, serif;
  font-size: 12pt;
  margin: 10px 0px 10px 10px;
}
@media screen and (min-width: 1040px) {
  body {
    margin: 10px auto;
    max-width: 1000px;
  }
}
samp, span.tt, code, pre {
  font-family: consolas, monaco, monospace;
}
cite {
  font-style: normal;
}
aside {
  margin-left: 2em;
}
dl {
  margin-left: 2em;
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl.nohang > dt {
  float: none;
}
dl > dd {
  margin-bottom: .5em;
}
dl.compact > dd {
  margin-bottom: .0em;
}
dl > dd > dl {
  margin-top: 0.5em;
}
ul.empty {
  list-style-type: none;
}
ul.empty li {
  margin-top: .5em;
}
dl p {
  margin-left: 0em;
}
dl.reference > dt {
  font-weight: bold;
}
dl.reference > dd {
  margin-left: 6em;
}
h1 {
  color: green;
  font-size: 150%;
  line-height: 18pt;
  font-weight: bold;
  text-align: center;
  margin-top: 36pt;
  margin-bottom: 0pt;
}
h2 {
  font-size: 130%;
  line-height: 21pt;
  page-break-after: avoid;
}
h2.np {
  page-break-before: always;
}
h3 {
  font-size: 120%;
  line-height: 15pt;
  page-break-after: avoid;
}
h4 {
  font-size: 110%;
  page-break-after: avoid;
}
h5, h6 {
  page-break-after: avoid;
}
h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {
  color: black;
}
img {
  margin-left: 3em;
}
li {
  margin-left: 2em;
}
ol {
  margin-left: 2em;
}
ol.la {
  list-style-type: lower-alpha;
}
ol.ua {
  list-style-type: upper-alpha;
}
ol p {
  margin-left: 0em;
}
p {
  margin-left: 2em;
}
pre {
  font-size: 11pt;
  margin-left: 3em;
  background-color: lightyellow;
  padding: .25em;
  page-break-inside: avoid;
}
pre.text2 {
  border-style: dotted;
  border-width: 1px;
  background-color: #f0f0f0;
}
pre.inline {
  background-color: white;
  padding: 0em;
  page-break-inside: auto;
}
pre.text {
  border-style: dotted;
  border-width: 1px;
  background-color: #f8f8f8;
}
pre.drawing {
  border-style: solid;
  border-width: 1px;
  background-color: #f8f8f8;
  padding: 2em;
}
table {
  margin-left: 2em;
}
div.tt {
  margin-left: 2em;
} 
table.tt {
  border-collapse: collapse;
  border-color: gray;
  border-spacing: 0; 
  vertical-align: top;
 }
table.tt th {
  border-color: gray;
  padding: 3px;
}
table.tt td {
  border-color: gray;
  padding: 3px;
}
table.all {
  border-style: solid;
  border-width: 2px;
}
table.full {
  border-style: solid;
  border-width: 2px;
}
table.tt td {
  vertical-align: top;
}
table.all td {
  border-style: solid;
  border-width: 1px;
}
table.full td {
  border-style: none solid;
  border-width: 1px;
}
table.tt th {
  vertical-align: top;
}
table.all th {
  border-style: solid;
  border-width: 1px;
}
table.full th {
  border-style: solid;
  border-width: 1px 1px 2px 1px;
}
table.headers th {
  border-style: none none solid none;
  border-width: 2px;
}
table.tleft {
  margin-right: auto;
}
table.tright {
  margin-left: auto;
}
table.tcenter {
  margin-left: auto;
  margin-right: auto;
}
caption {
  caption-side: bottom;
  font-weight: bold;
  font-size: 10pt;
  margin-top: .5em;
}

table.header {
  border-spacing: 1px;
  width: 95%;
  font-size: 11pt;
  color: white;
}
td.top {
  vertical-align: top;
}
td.topnowrap {
  vertical-align: top;
  white-space: nowrap;
}
table.header td {
  background-color: gray;
  width: 50%;
}
table.header a {
  color: white;
}
ul.toc, ul.toc ul {
  list-style: none;
  margin-left: 1.5em;
  padding-left: 0em;
}
ul.toc li {
  line-height: 150%;
  font-weight: bold;
  margin-left: 0em;
}
ul.toc li li {
  line-height: normal;
  font-weight: normal;
  font-size: 11pt;
  margin-left: 0em;
}
li.excluded {
  font-size: 0pt;
}
ul p {
  margin-left: 0em;
}
.filename, h1, h2, h3, h4 {
  font-family: candara, calibri, segoe, optima, arial, sans-serif;
}
ul.ind, ul.ind ul {
  list-style: none;
  margin-left: 1.5em;
  padding-left: 0em;
  page-break-before: avoid;
}
ul.ind li {
  font-weight: bold;
  line-height: 200%;
  margin-left: 0em;
}
ul.ind li li {
  font-weight: normal;
  line-height: 150%;
  margin-left: 0em;
}
.avoidbreakinside {
  page-break-inside: avoid;
}
.avoidbreakafter {
  page-break-after: avoid;
}
section.rfcEditorRemove > div:first-of-type {
  font-style: italic;
}.bcp14 {
  font-style: normal;
  text-transform: lowercase;
  font-variant: small-caps;
}
.comment {
  background-color: yellow;
}
.center {
  text-align: center;
}
.error {
  color: red;
  font-style: italic;
  font-weight: bold;
}
.figure {
  font-weight: bold;
  text-align: center;
  font-size: 10pt;
}
.filename {
  color: #333333;
  font-size: 112%;
  font-weight: bold;
  line-height: 21pt;
  text-align: center;
  margin-top: 0pt;
}
.fn {
  font-weight: bold;
}
.left {
  text-align: left;
}
.right {
  text-align: right;
}
.warning {
  font-size: 130%;
  background-color: yellow;
}.feedback {
  position: fixed;
  bottom: 1%;
  right: 1%;
  padding: 3px 5px;
  color: white;
  border-radius: 5px;
  background: #006400;
  border: 1px solid silver;
  -webkit-user-select: none; 
  -moz-user-select: none;
  -ms-user-select: none;
}
.fbbutton {
  margin-left: 1em;
  color: #303030;
  font-size: small;
  font-weight: normal;
  background: #d0d000;
  padding: 1px 4px;
  border: 1px solid silver;
  border-radius: 5px;
  -webkit-user-select: none; 
  -moz-user-select: none;
  -ms-user-select: none;
}

@media screen {
  pre.text, pre.text2 {
    width: 69em;
  }
}

@media print {
  .noprint {
    display: none;
  }

  a {
    color: black;
    text-decoration: none;
  }

  table.header {
    width: 90%;
  }

  td.header {
    width: 50%;
    color: black;
    background-color: white;
    vertical-align: top;
    font-size: 110%;
  }

  ul.toc a:last-child::after {
    content: leader('.') target-counter(attr(href), page);
  }

  ul.ind li li a {
    content: target-counter(attr(href), page);
  }

  pre {
    font-size: 10pt;
  }

  .print2col {
    column-count: 2;
    -moz-column-count: 2;
    column-fill: auto;
  }
}
@page {
  font-family: cambria, georgia, serif;
  @top-left {
       content: "Internet-Draft";
  }
  @top-right {
       content: "March 2018";
  }
  @top-center {
       content: "HTTP Conditional Requests";
  }
  @bottom-left {
       content: "Fielding & Reschke";
  }
  @bottom-center {
       content: "Expires September 5, 2018";
  }
  @bottom-right {
       content: "[Page " counter(page) "]";
  }
}
@page:first {
    @top-left {
      content: normal;
    }
    @top-right {
      content: normal;
    }
    @top-center {
      content: normal;
    }
}
</style><link rel="Contents" href="#rfc.toc">
      <link rel="Author" href="#rfc.authors">
      <link rel="Copyright" href="#rfc.copyrightnotice">
      <link rel="Index" href="#rfc.index">
      <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
      <link rel="Chapter" title="2 Validators" href="#rfc.section.2">
      <link rel="Chapter" title="3 Precondition Header Fields" href="#rfc.section.3">
      <link rel="Chapter" title="4 Status Code Definitions" href="#rfc.section.4">
      <link rel="Chapter" title="5 Evaluation" href="#rfc.section.5">
      <link rel="Chapter" title="6 Precedence" href="#rfc.section.6">
      <link rel="Chapter" title="7 IANA Considerations" href="#rfc.section.7">
      <link rel="Chapter" title="8 Security Considerations" href="#rfc.section.8">
      <link rel="Chapter" href="#rfc.section.9" title="9 References">
      <link rel="Appendix" title="A Changes from RFC 7232" href="#rfc.section.A">
      <link rel="Appendix" title="B Imported ABNF" href="#rfc.section.B">
      <link rel="Appendix" title="C Collected ABNF" href="#rfc.section.C">
      <link rel="Appendix" title="D Change Log" href="#rfc.section.D">
      <link rel="Appendix" title="Acknowledgments" href="#rfc.section.unnumbered-1">
      <meta name="generator" content="http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.998, 2018/03/04 19:44:23, XSLT vendor: Saxonica http://www.saxonica.com/">
      <meta name="keywords" content="Hypertext Transfer Protocol, HTTP, HTTP conditional requests">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.creator" content="Fielding, R.">
      <meta name="dcterms.creator" content="Reschke, J. F.">
      <meta name="dcterms.identifier" content="urn:ietf:id:draft-fielding-httpbis-http-conditional-latest">
      <meta name="dcterms.issued" content="2018-03-04">
      <meta name="dct.replaces" content="urn:ietf:rfc:7232">
      <meta name="dcterms.abstract" content="The Hypertext Transfer Protocol (HTTP) is a stateless application-level protocol for distributed, collaborative, hypertext information systems. This document defines HTTP/1.1 conditional requests, including metadata header fields for indicating state changes, request header fields for making preconditions on such state, and rules for constructing the responses to a conditional request when one or more preconditions evaluate to false. This document obsoletes RFC 7232.">
      <meta name="description" content="The Hypertext Transfer Protocol (HTTP) is a stateless application-level protocol for distributed, collaborative, hypertext information systems. This document defines HTTP/1.1 conditional requests, including metadata header fields for indicating state changes, request header fields for making preconditions on such state, and rules for constructing the responses to a conditional request when one or more preconditions evaluate to false. This document obsoletes RFC 7232.">
   </head>
   <body onload="initFeedback();">
      <header>
         <table class="header" id="rfc.headerblock">
            <tbody>
               <tr>
                  <td class="left">Network Working Group</td>
                  <td class="right">R. Fielding, Editor</td>
               </tr>
               <tr>
                  <td class="left">Internet-Draft</td>
                  <td class="right">Adobe</td>
               </tr>
               <tr>
                  <td class="left">Obsoletes: <a href="https://tools.ietf.org/html/rfc7232">7232</a> (if approved)
                  </td>
                  <td class="right">J. Reschke, Editor</td>
               </tr>
               <tr>
                  <td class="left">Intended status: Standards Track</td>
                  <td class="right">greenbytes</td>
               </tr>
               <tr>
                  <td class="left">Expires: September 5, 2018</td>
                  <td class="right">March 4, 2018</td>
               </tr>
            </tbody>
         </table>
         <div id="rfc.title">
            <h1>Hypertext Transfer Protocol (HTTP): Conditional Requests</h1>
            <div class="filename">draft-fielding-httpbis-http-conditional-latest</div>
         </div>
      </header>
      <section id="rfc.abstract">
         <h2><a href="#rfc.abstract">Abstract</a></h2>
         <div id="rfc.abstract.p.1">
            <p>The Hypertext Transfer Protocol (HTTP) is a stateless application-level protocol for
               distributed, collaborative, hypertext information systems. This document defines HTTP/1.1
               conditional requests, including metadata header fields for indicating state changes,
               request header fields for making preconditions on such state, and rules for constructing
               the responses to a conditional request when one or more preconditions evaluate to
               false.
            </p>
         </div>
         <div id="rfc.abstract.p.2">
            <p>This document obsoletes RFC 7232.</p>
         </div>
      </section>
      <section id="rfc.note.1" class="note rfcEditorRemove">
         <h2><a href="#rfc.note.1">Editorial Note</a></h2>
         <div id="rfc.note.1.p.1">
            <p>This note is to be removed before publishing as an RFC.</p>
         </div>
         <div id="rfc.note.1.p.2">
            <p><em>This is a temporary document for the purpose of planning the revisions of RFCs 7230
                  to 7235. This is not yet an official work item of the HTTP Working Group.</em> 
            </p>
         </div>
         <div id="rfc.note.1.p.3">
            <p>Discussion of this draft takes place on the HTTP working group mailing list (ietf-http-wg@w3.org),
               which is archived at &lt;<a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">http://lists.w3.org/Archives/Public/ietf-http-wg/</a>&gt;.
            </p>
         </div>
         <div id="rfc.note.1.p.4">
            <p>Errata for RFC 7232 have been collected at &lt;<a href="https://www.rfc-editor.org/errata_search.php?rfc=7232">https://www.rfc-editor.org/errata_search.php?rfc=7232</a>&gt;, and an additional issues list lives at &lt;<a href="https://github.com/httpwg/http11bis/issues">https://github.com/httpwg/http11bis/issues</a>&gt;.
            </p>
         </div>
         <div id="rfc.note.1.p.5">
            <p>The changes in this draft are summarized in <a href="#changes.since.publication.as.rfc" title="Since RFC 7232">Appendix&nbsp;D.1</a>.
            </p>
         </div>
      </section>
      <section id="rfc.status">
         <h2><a href="#rfc.status">Status of This Memo</a></h2>
         <div id="rfc.boilerplate.1.p.1">
            <p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78
               and BCP 79.
            </p>
         </div>
         <div id="rfc.boilerplate.1.p.2">
            <p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).
               Note that other groups may also distribute working documents as Internet-Drafts. The
               list of current Internet-Drafts is at <a href="http://datatracker.ietf.org/drafts/current/">http://datatracker.ietf.org/drafts/current/</a>.
            </p>
         </div>
         <div id="rfc.boilerplate.1.p.3">
            <p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated,
               replaced, or obsoleted by other documents at any time. It is inappropriate to use
               Internet-Drafts as reference material or to cite them other than as “work in progress”.
            </p>
         </div>
         <div id="rfc.boilerplate.1.p.4">
            <p>This Internet-Draft will expire on September 5, 2018.</p>
         </div>
      </section>
      <section id="rfc.copyrightnotice">
         <h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2>
         <div id="rfc.boilerplate.2.p.1">
            <p>Copyright © 2018 IETF Trust and the persons identified as the document authors. All
               rights reserved.
            </p>
         </div>
         <div id="rfc.boilerplate.2.p.2">
            <p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating
               to IETF Documents (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of publication of this document. Please review these documents
               carefully, as they describe your rights and restrictions with respect to this document.
               Code Components extracted from this document must include Simplified BSD License text
               as described in Section 4.e of the Trust Legal Provisions and are provided without
               warranty as described in the Simplified BSD License.
            </p>
         </div>
         <div id="rfc.boilerplate.2.p.3">
            <p>This document may contain material from IETF Documents or IETF Contributions published
               or made publicly available before November 10, 2008. The person(s) controlling the
               copyright in some of this material may not have granted the IETF Trust the right to
               allow modifications of such material outside the IETF Standards Process. Without obtaining
               an adequate license from the person(s) controlling the copyright in such materials,
               this document may not be modified outside the IETF Standards Process, and derivative
               works of it may not be created outside the IETF Standards Process, except to format
               it for publication as an RFC or to translate it into languages other than English.
            </p>
         </div>
      </section>
      <hr class="noprint">
      <nav id="rfc.toc">
         <h2 class="np"><a href="#rfc.toc">Table of Contents</a></h2>
         <ul class="toc">
            <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#introduction">Introduction</a><ul>
                  <li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a href="#conformance">Conformance and Error Handling</a></li>
                  <li><a href="#rfc.section.1.2">1.2.</a>&nbsp;&nbsp;&nbsp;<a href="#notation">Syntax Notation</a></li>
               </ul>
            </li>
            <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#validators">Validators</a><ul>
                  <li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a href="#weak.and.strong.validators">Weak versus Strong</a></li>
                  <li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a href="#header.last-modified">Last-Modified</a><ul>
                        <li><a href="#rfc.section.2.2.1">2.2.1.</a>&nbsp;&nbsp;&nbsp;<a href="#lastmod.generation">Generation</a></li>
                        <li><a href="#rfc.section.2.2.2">2.2.2.</a>&nbsp;&nbsp;&nbsp;<a href="#lastmod.comparison">Comparison</a></li>
                     </ul>
                  </li>
                  <li><a href="#rfc.section.2.3">2.3.</a>&nbsp;&nbsp;&nbsp;<a href="#header.etag">ETag</a><ul>
                        <li><a href="#rfc.section.2.3.1">2.3.1.</a>&nbsp;&nbsp;&nbsp;<a href="#entity.tag.generation">Generation</a></li>
                        <li><a href="#rfc.section.2.3.2">2.3.2.</a>&nbsp;&nbsp;&nbsp;<a href="#entity.tag.comparison">Comparison</a></li>
                        <li><a href="#rfc.section.2.3.3">2.3.3.</a>&nbsp;&nbsp;&nbsp;<a href="#example.entity.tag.vs.conneg">Example: Entity-Tags Varying on Content-Negotiated Resources</a></li>
                     </ul>
                  </li>
                  <li><a href="#rfc.section.2.4">2.4.</a>&nbsp;&nbsp;&nbsp;<a href="#when.to.use.entity.tags.and.last-modified.dates">When to Use Entity-Tags and Last-Modified Dates</a></li>
               </ul>
            </li>
            <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#preconditions">Precondition Header Fields</a><ul>
                  <li><a href="#rfc.section.3.1">3.1.</a>&nbsp;&nbsp;&nbsp;<a href="#header.if-match">If-Match</a></li>
                  <li><a href="#rfc.section.3.2">3.2.</a>&nbsp;&nbsp;&nbsp;<a href="#header.if-none-match">If-None-Match</a></li>
                  <li><a href="#rfc.section.3.3">3.3.</a>&nbsp;&nbsp;&nbsp;<a href="#header.if-modified-since">If-Modified-Since</a></li>
                  <li><a href="#rfc.section.3.4">3.4.</a>&nbsp;&nbsp;&nbsp;<a href="#header.if-unmodified-since">If-Unmodified-Since</a></li>
                  <li><a href="#rfc.section.3.5">3.5.</a>&nbsp;&nbsp;&nbsp;<a href="#header.if-range">If-Range</a></li>
               </ul>
            </li>
            <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#status.code.definitions">Status Code Definitions</a><ul>
                  <li><a href="#rfc.section.4.1">4.1.</a>&nbsp;&nbsp;&nbsp;<a href="#status.304">304 Not Modified</a></li>
                  <li><a href="#rfc.section.4.2">4.2.</a>&nbsp;&nbsp;&nbsp;<a href="#status.412">412 Precondition Failed</a></li>
               </ul>
            </li>
            <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#evaluation">Evaluation</a></li>
            <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#precedence">Precedence</a></li>
            <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a href="#IANA.considerations">IANA Considerations</a><ul>
                  <li><a href="#rfc.section.7.1">7.1.</a>&nbsp;&nbsp;&nbsp;<a href="#status.code.registration">Status Code Registration</a></li>
                  <li><a href="#rfc.section.7.2">7.2.</a>&nbsp;&nbsp;&nbsp;<a href="#header.field.registration">Header Field Registration</a></li>
               </ul>
            </li>
            <li><a href="#rfc.section.8">8.</a>&nbsp;&nbsp;&nbsp;<a href="#security.considerations">Security Considerations</a></li>
            <li><a href="#rfc.section.9">9.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">References</a><ul>
                  <li><a href="#rfc.section.9.1">9.1.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references.1">Normative References</a></li>
                  <li><a href="#rfc.section.9.2">9.2.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references.2">Informative References</a></li>
               </ul>
            </li>
            <li><a href="#rfc.section.A">A.</a>&nbsp;&nbsp;&nbsp;<a href="#changes.from.rfc.7232">Changes from RFC 7232</a></li>
            <li><a href="#rfc.section.B">B.</a>&nbsp;&nbsp;&nbsp;<a href="#imported.abnf">Imported ABNF</a></li>
            <li><a href="#rfc.section.C">C.</a>&nbsp;&nbsp;&nbsp;<a href="#collected.abnf">Collected ABNF</a></li>
            <li><a href="#rfc.section.D">D.</a>&nbsp;&nbsp;&nbsp;<a href="#change.log">Change Log</a><ul>
                  <li><a href="#rfc.section.D.1">D.1.</a>&nbsp;&nbsp;&nbsp;<a href="#changes.since.publication.as.rfc">Since <span>RFC 7232</span></a></li>
               </ul>
            </li>
            <li><a href="#acks">Acknowledgments</a></li>
            <li><a href="#rfc.index">Index</a></li>
            <li><a href="#rfc.authors">Authors' Addresses</a></li>
         </ul>
      </nav>
      <section id="introduction">
         <h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a href="#introduction">Introduction</a></h2>
         <div id="rfc.section.1.p.1">
            <p>Conditional requests are HTTP requests <a href="#SEMNTCS" id="rfc.xref.SEMNTCS.1"><cite title="Hypertext Transfer Protocol (HTTP): Semantics and Content">[SEMNTCS]</cite></a> that include one or more header fields indicating a precondition to be tested before
               applying the method semantics to the target resource. This document defines the HTTP/1.1
               conditional request mechanisms in terms of the architecture, syntax notation, and
               conformance criteria defined in <a href="#MESSGNG" id="rfc.xref.MESSGNG.1"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[MESSGNG]</cite></a>.
            </p>
         </div>
         <div id="rfc.section.1.p.2">
            <p>Conditional GET requests are the most efficient mechanism for HTTP cache updates <a href="#CACHING" id="rfc.xref.CACHING.1"><cite title="Hypertext Transfer Protocol (HTTP): Caching">[CACHING]</cite></a>. Conditionals can also be applied to state-changing methods, such as PUT and DELETE,
               to prevent the "lost update" problem: one client accidentally overwriting the work
               of another client that has been acting in parallel.
            </p>
         </div>
         <div id="rfc.section.1.p.3">
            <p><span id="rfc.iref.s.1"></span> Conditional request preconditions are based on the state of the target resource as
               a whole (its current value set) or the state as observed in a previously obtained
               representation (one value in that set). A resource might have multiple current representations,
               each with its own observable state. The conditional request mechanisms assume that
               the mapping of requests to a "selected representation" (<a href="draft-fielding-httpbis-http-semantics-latest.html#representations" title="Representations">Section 3</a> of <a href="#SEMNTCS" id="rfc.xref.SEMNTCS.2"><cite title="Hypertext Transfer Protocol (HTTP): Semantics and Content">[SEMNTCS]</cite></a>) will be consistent over time if the server intends to take advantage of conditionals.
               Regardless, if the mapping is inconsistent and the server is unable to select the
               appropriate representation, then no harm will result when the precondition evaluates
               to false.
            </p>
         </div>
         <div id="rfc.section.1.p.4">
            <p>The conditional request preconditions defined by this specification (<a href="#preconditions" title="Precondition Header Fields">Section&nbsp;3</a>) are evaluated when applicable to the recipient (<a href="#evaluation" title="Evaluation">Section&nbsp;5</a>) according to their order of precedence (<a href="#precedence" title="Precedence">Section&nbsp;6</a>).
            </p>
         </div>
         <div id="rfc.section.1.p.5">
            <p>This specification obsoletes <cite title="Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests" id="rfc.xref.RFC7232.1">RFC 7232</cite>, with the changes being summarized in <a href="#changes.from.rfc.7232" title="Changes from RFC 7232">Appendix&nbsp;A</a>.
            </p>
         </div>
         <section id="conformance">
            <h3 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a>&nbsp;<a href="#conformance">Conformance and Error Handling</a></h3>
            <div id="rfc.section.1.1.p.1">
               <p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD
                  NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted
                  as described in <a href="#RFC2119" id="rfc.xref.RFC2119.1"><cite title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>.
               </p>
            </div>
            <div id="rfc.section.1.1.p.2">
               <p>Conformance criteria and considerations regarding error handling are defined in <a href="draft-fielding-httpbis-http-messaging-latest.html#conformance" title="Conformance and Error Handling">Section 2.5</a> of <a href="#MESSGNG" id="rfc.xref.MESSGNG.2"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[MESSGNG]</cite></a>.
               </p>
            </div>
         </section>
         <section id="notation">
            <h3 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2.</a>&nbsp;<a href="#notation">Syntax Notation</a></h3>
            <div id="rfc.section.1.2.p.1">
               <p>This specification uses the Augmented Backus-Naur Form (ABNF) notation of <a href="#RFC5234" id="rfc.xref.RFC5234.1"><cite title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a> with a list extension, defined in <a href="draft-fielding-httpbis-http-messaging-latest.html#abnf.extension" title="ABNF List Extension: #rule">Section 7</a> of <a href="#MESSGNG" id="rfc.xref.MESSGNG.3"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[MESSGNG]</cite></a>, that allows for compact definition of comma-separated lists using a '#' operator
                  (similar to how the '*' operator indicates repetition). <a href="#imported.abnf" title="Imported ABNF">Appendix&nbsp;B</a> describes rules imported from other documents. <a href="#collected.abnf" title="Collected ABNF">Appendix&nbsp;C</a> shows the collected grammar with all list operators expanded to standard ABNF notation.
               </p>
            </div>
         </section>
      </section>
      <section id="validators">
         <h2 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;<a href="#validators">Validators</a></h2>
         <div id="rfc.section.2.p.1">
            <p>This specification defines two forms of metadata that are commonly used to observe
               resource state and test for preconditions: modification dates (<a href="#header.last-modified" id="rfc.xref.header.last-modified.1" title="Last-Modified">Section&nbsp;2.2</a>) and opaque entity tags (<a href="#header.etag" id="rfc.xref.header.etag.1" title="ETag">Section&nbsp;2.3</a>). Additional metadata that reflects resource state has been defined by various extensions
               of HTTP, such as Web Distributed Authoring and Versioning (WebDAV, <a href="#RFC4918" id="rfc.xref.RFC4918.1"><cite title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite></a>), that are beyond the scope of this specification. A resource metadata value is referred
               to as a "<dfn>validator</dfn>" when it is used within a precondition.
            </p>
         </div>
         <section id="weak.and.strong.validators">
            <h3 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a>&nbsp;<a href="#weak.and.strong.validators">Weak versus Strong</a></h3>
            <div id="rfc.section.2.1.p.1">
               <p>Validators come in two flavors: strong or weak. Weak validators are easy to generate
                  but are far less useful for comparisons. Strong validators are ideal for comparisons
                  but can be very difficult (and occasionally impossible) to generate efficiently. Rather
                  than impose that all forms of resource adhere to the same strength of validator, HTTP
                  exposes the type of validator in use and imposes restrictions on when weak validators
                  can be used as preconditions.
               </p>
            </div>
            <div id="rfc.section.2.1.p.2">
               <p>A "strong validator" is representation metadata that changes value whenever a change
                  occurs to the representation data that would be observable in the payload body of
                  a <a href="draft-fielding-httpbis-http-semantics-latest.html#status.200" class="smpl">200 (OK)</a> response to GET.
               </p>
            </div>
            <div id="rfc.section.2.1.p.3">
               <p>A strong validator might change for reasons other than a change to the representation
                  data, such as when a semantically significant part of the representation metadata
                  is changed (e.g., <a href="draft-fielding-httpbis-http-semantics-latest.html#header.content-type" class="smpl">Content-Type</a>), but it is in the best interests of the origin server to only change the value when
                  it is necessary to invalidate the stored responses held by remote caches and authoring
                  tools.
               </p>
            </div>
            <div id="rfc.section.2.1.p.4">
               <p>Cache entries might persist for arbitrarily long periods, regardless of expiration
                  times. Thus, a cache might attempt to validate an entry using a validator that it
                  obtained in the distant past. A strong validator is unique across all versions of
                  all representations associated with a particular resource over time. However, there
                  is no implication of uniqueness across representations of different resources (i.e.,
                  the same strong validator might be in use for representations of multiple resources
                  at the same time and does not imply that those representations are equivalent).
               </p>
            </div>
            <div id="rfc.section.2.1.p.5">
               <p>There are a variety of strong validators used in practice. The best are based on strict
                  revision control, wherein each change to a representation always results in a unique
                  node name and revision identifier being assigned before the representation is made
                  accessible to GET. A collision-resistant hash function applied to the representation
                  data is also sufficient if the data is available prior to the response header fields
                  being sent and the digest does not need to be recalculated every time a validation
                  request is received. However, if a resource has distinct representations that differ
                  only in their metadata, such as might occur with content negotiation over media types
                  that happen to share the same data format, then the origin server needs to incorporate
                  additional information in the validator to distinguish those representations.
               </p>
            </div>
            <div id="rfc.section.2.1.p.6">
               <p>In contrast, a "weak validator" is representation metadata that might not change for
                  every change to the representation data. This weakness might be due to limitations
                  in how the value is calculated, such as clock resolution, an inability to ensure uniqueness
                  for all possible representations of the resource, or a desire of the resource owner
                  to group representations by some self-determined set of equivalency rather than unique
                  sequences of data. An origin server <em class="bcp14">SHOULD</em> change a weak entity-tag whenever it considers prior representations to be unacceptable
                  as a substitute for the current representation. In other words, a weak entity-tag
                  ought to change whenever the origin server wants caches to invalidate old responses.
               </p>
            </div>
            <div id="rfc.section.2.1.p.7">
               <p>For example, the representation of a weather report that changes in content every
                  second, based on dynamic measurements, might be grouped into sets of equivalent representations
                  (from the origin server's perspective) with the same weak validator in order to allow
                  cached representations to be valid for a reasonable period of time (perhaps adjusted
                  dynamically based on server load or weather quality). Likewise, a representation's
                  modification time, if defined with only one-second resolution, might be a weak validator
                  if it is possible for the representation to be modified twice during a single second
                  and retrieved between those modifications.
               </p>
            </div>
            <div id="rfc.section.2.1.p.8">
               <p>Likewise, a validator is weak if it is shared by two or more representations of a
                  given resource at the same time, unless those representations have identical representation
                  data. For example, if the origin server sends the same validator for a representation
                  with a gzip content coding applied as it does for a representation with no content
                  coding, then that validator is weak. However, two simultaneous representations might
                  share the same strong validator if they differ only in the representation metadata,
                  such as when two different media types are available for the same representation data.
               </p>
            </div>
            <div id="rfc.section.2.1.p.9">
               <p>Strong validators are usable for all conditional requests, including cache validation,
                  partial content ranges, and "lost update" avoidance. Weak validators are only usable
                  when the client does not require exact equality with previously obtained representation
                  data, such as when validating a cache entry or limiting a web traversal to recent
                  changes.
               </p>
            </div>
         </section>
         <section id="header.last-modified">
            <h3 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a>&nbsp;<a href="#header.last-modified">Last-Modified</a></h3>
            <div id="rfc.section.2.2.p.1">
               <p>The "Last-Modified" header field in a response provides a timestamp indicating the
                  date and time at which the origin server believes the selected representation was
                  last modified, as determined at the conclusion of handling the request.
               </p>
            </div>
            <div id="rfc.figure.u.1"><pre class="inline"><span id="rfc.iref.g.1"></span>  <a href="#header.last-modified" class="smpl">Last-Modified</a> = <a href="#imported.abnf" class="smpl">HTTP-date</a>
</pre></div>
            <div id="rfc.section.2.2.p.2">
               <p>An example of its use is</p>
            </div>
            <div id="rfc.figure.u.2"><pre class="text">  Last-Modified: Tue, 15 Nov 1994 12:45:26 GMT
</pre></div>
            <section id="lastmod.generation">
               <h4 id="rfc.section.2.2.1"><a href="#rfc.section.2.2.1">2.2.1.</a>&nbsp;<a href="#lastmod.generation">Generation</a></h4>
               <div id="rfc.section.2.2.1.p.1">
                  <p>An origin server <em class="bcp14">SHOULD</em> send Last-Modified for any selected representation for which a last modification date
                     can be reasonably and consistently determined, since its use in conditional requests
                     and evaluating cache freshness (<a href="#CACHING" id="rfc.xref.CACHING.2"><cite title="Hypertext Transfer Protocol (HTTP): Caching">[CACHING]</cite></a>) results in a substantial reduction of HTTP traffic on the Internet and can be a
                     significant factor in improving service scalability and reliability.
                  </p>
               </div>
               <div id="rfc.section.2.2.1.p.2">
                  <p>A representation is typically the sum of many parts behind the resource interface.
                     The last-modified time would usually be the most recent time that any of those parts
                     were changed. How that value is determined for any given resource is an implementation
                     detail beyond the scope of this specification. What matters to HTTP is how recipients
                     of the Last-Modified header field can use its value to make conditional requests and
                     test the validity of locally cached responses.
                  </p>
               </div>
               <div id="rfc.section.2.2.1.p.3">
                  <p>An origin server <em class="bcp14">SHOULD</em> obtain the Last-Modified value of the representation as close as possible to the time
                     that it generates the <a href="draft-fielding-httpbis-http-semantics-latest.html#header.date" class="smpl">Date</a> field value for its response. This allows a recipient to make an accurate assessment
                     of the representation's modification time, especially if the representation changes
                     near the time that the response is generated.
                  </p>
               </div>
               <div id="rfc.section.2.2.1.p.4">
                  <p>An origin server with a clock <em class="bcp14">MUST NOT</em> send a Last-Modified date that is later than the server's time of message origination
                     (<a href="draft-fielding-httpbis-http-semantics-latest.html#header.date" class="smpl">Date</a>). If the last modification time is derived from implementation-specific metadata
                     that evaluates to some time in the future, according to the origin server's clock,
                     then the origin server <em class="bcp14">MUST</em> replace that value with the message origination date. This prevents a future modification
                     date from having an adverse impact on cache validation.
                  </p>
               </div>
               <div id="rfc.section.2.2.1.p.5">
                  <p>An origin server without a clock <em class="bcp14">MUST NOT</em> assign Last-Modified values to a response unless these values were associated with
                     the resource by some other system or user with a reliable clock.
                  </p>
               </div>
            </section>
            <section id="lastmod.comparison">
               <h4 id="rfc.section.2.2.2"><a href="#rfc.section.2.2.2">2.2.2.</a>&nbsp;<a href="#lastmod.comparison">Comparison</a></h4>
               <div id="rfc.section.2.2.2.p.1">
                  <p>A Last-Modified time, when used as a validator in a request, is implicitly weak unless
                     it is possible to deduce that it is strong, using the following rules: 
                  </p>
                  <ul>
                     <li>The validator is being compared by an origin server to the actual current validator
                        for the representation and,
                     </li>
                     <li>That origin server reliably knows that the associated representation did not change
                        twice during the second covered by the presented validator.
                     </li>
                  </ul>
               </div>
               <div id="rfc.section.2.2.2.p.2">
                  <p>or </p>
                  <ul>
                     <li>The validator is about to be used by a client in an <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a>, <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a>, or <a href="draft-fielding-httpbis-http-range-latest.html#header.if-range" class="smpl">If-Range</a> header field, because the client has a cache entry for the associated representation,
                        and
                     </li>
                     <li>That cache entry includes a <a href="draft-fielding-httpbis-http-semantics-latest.html#header.date" class="smpl">Date</a> value, which gives the time when the origin server sent the original response, and
                     </li>
                     <li>The presented Last-Modified time is at least 60 seconds before the Date value.</li>
                  </ul>
               </div>
               <div id="rfc.section.2.2.2.p.3">
                  <p>or </p>
                  <ul>
                     <li>The validator is being compared by an intermediate cache to the validator stored in
                        its cache entry for the representation, and
                     </li>
                     <li>That cache entry includes a <a href="draft-fielding-httpbis-http-semantics-latest.html#header.date" class="smpl">Date</a> value, which gives the time when the origin server sent the original response, and
                     </li>
                     <li>The presented Last-Modified time is at least 60 seconds before the Date value.</li>
                  </ul>
               </div>
               <div id="rfc.section.2.2.2.p.4">
                  <p>This method relies on the fact that if two different responses were sent by the origin
                     server during the same second, but both had the same Last-Modified time, then at least
                     one of those responses would have a <a href="draft-fielding-httpbis-http-semantics-latest.html#header.date" class="smpl">Date</a> value equal to its Last-Modified time. The arbitrary 60-second limit guards against
                     the possibility that the Date and Last-Modified values are generated from different
                     clocks or at somewhat different times during the preparation of the response. An implementation <em class="bcp14">MAY</em> use a value larger than 60 seconds, if it is believed that 60 seconds is too short.
                  </p>
               </div>
            </section>
         </section>
         <section id="header.etag">
            <h3 id="rfc.section.2.3"><a href="#rfc.section.2.3">2.3.</a>&nbsp;<a href="#header.etag">ETag</a></h3>
            <div id="rfc.section.2.3.p.1">
               <p>The "ETag" header field in a response provides the current entity-tag for the selected
                  representation, as determined at the conclusion of handling the request. An entity-tag
                  is an opaque validator for differentiating between multiple representations of the
                  same resource, regardless of whether those multiple representations are due to resource
                  state changes over time, content negotiation resulting in multiple representations
                  being valid at the same time, or both. An entity-tag consists of an opaque quoted
                  string, possibly prefixed by a weakness indicator.
               </p>
            </div>
            <div id="rfc.figure.u.3"><pre class="inline"><span id="rfc.iref.g.2"></span><span id="rfc.iref.g.3"></span><span id="rfc.iref.g.4"></span><span id="rfc.iref.g.5"></span><span id="rfc.iref.g.6"></span>  <a href="#header.etag" class="smpl">ETag</a>       = <a href="#header.etag" class="smpl">entity-tag</a>

  <a href="#header.etag" class="smpl">entity-tag</a> = [ <a href="#header.etag" class="smpl">weak</a> ] <a href="#header.etag" class="smpl">opaque-tag</a>
  <a href="#header.etag" class="smpl">weak</a>       = %x57.2F ; "W/", case-sensitive
  <a href="#header.etag" class="smpl">opaque-tag</a> = <a href="#imported.abnf" class="smpl">DQUOTE</a> *<a href="#header.etag" class="smpl">etagc</a> <a href="#imported.abnf" class="smpl">DQUOTE</a>
  <a href="#header.etag" class="smpl">etagc</a>      = %x21 / %x23-7E / <a href="#imported.abnf" class="smpl">obs-text</a>
             ; <a href="#imported.abnf" class="smpl">VCHAR</a> except double quotes, plus obs-text
</pre></div>
            <div id="rfc.section.2.3.p.2">
               <aside>
                  <div id="rfc.section.2.3.p.2.1">
                     <p><b>Note:</b> Previously, opaque-tag was defined to be a quoted-string (<a href="#RFC2616" id="rfc.xref.RFC2616.1"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>, <a href="https://tools.ietf.org/html/rfc2616#section-3.11">Section 3.11</a>); thus, some recipients might perform backslash unescaping. Servers therefore ought
                        to avoid backslash characters in entity tags.
                     </p>
                  </div>
               </aside>
            </div>
            <div id="rfc.section.2.3.p.3">
               <p>An entity-tag can be more reliable for validation than a modification date in situations
                  where it is inconvenient to store modification dates, where the one-second resolution
                  of HTTP date values is not sufficient, or where modification dates are not consistently
                  maintained.
               </p>
            </div>
            <div id="rfc.figure.u.4">
               <p>Examples:</p><pre class="text">  ETag: "xyzzy"
  ETag: W/"xyzzy"
  ETag: ""
</pre></div>
            <div id="rfc.section.2.3.p.4">
               <p>An entity-tag can be either a weak or strong validator, with strong being the default.
                  If an origin server provides an entity-tag for a representation and the generation
                  of that entity-tag does not satisfy all of the characteristics of a strong validator
                  (<a href="#weak.and.strong.validators" title="Weak versus Strong">Section&nbsp;2.1</a>), then the origin server <em class="bcp14">MUST</em> mark the entity-tag as weak by prefixing its opaque value with "W/" (case-sensitive).
               </p>
            </div>
            <section id="entity.tag.generation">
               <h4 id="rfc.section.2.3.1"><a href="#rfc.section.2.3.1">2.3.1.</a>&nbsp;<a href="#entity.tag.generation">Generation</a></h4>
               <div id="rfc.section.2.3.1.p.1">
                  <p>The principle behind entity-tags is that only the service author knows the implementation
                     of a resource well enough to select the most accurate and efficient validation mechanism
                     for that resource, and that any such mechanism can be mapped to a simple sequence
                     of octets for easy comparison. Since the value is opaque, there is no need for the
                     client to be aware of how each entity-tag is constructed.
                  </p>
               </div>
               <div id="rfc.section.2.3.1.p.2">
                  <p>For example, a resource that has implementation-specific versioning applied to all
                     changes might use an internal revision number, perhaps combined with a variance identifier
                     for content negotiation, to accurately differentiate between representations. Other
                     implementations might use a collision-resistant hash of representation content, a
                     combination of various file attributes, or a modification timestamp that has sub-second
                     resolution.
                  </p>
               </div>
               <div id="rfc.section.2.3.1.p.3">
                  <p>An origin server <em class="bcp14">SHOULD</em> send an ETag for any selected representation for which detection of changes can be
                     reasonably and consistently determined, since the entity-tag's use in conditional
                     requests and evaluating cache freshness (<a href="#CACHING" id="rfc.xref.CACHING.3"><cite title="Hypertext Transfer Protocol (HTTP): Caching">[CACHING]</cite></a>) can result in a substantial reduction of HTTP network traffic and can be a significant
                     factor in improving service scalability and reliability.
                  </p>
               </div>
            </section>
            <section id="entity.tag.comparison">
               <h4 id="rfc.section.2.3.2"><a href="#rfc.section.2.3.2">2.3.2.</a>&nbsp;<a href="#entity.tag.comparison">Comparison</a></h4>
               <div id="rfc.section.2.3.2.p.1">
                  <p>There are two entity-tag comparison functions, depending on whether or not the comparison
                     context allows the use of weak validators: 
                  </p>
                  <ul>
                     <li><dfn>Strong comparison</dfn>: two entity-tags are equivalent if both are not weak and their opaque-tags match
                        character-by-character.
                     </li>
                     <li><dfn>Weak comparison</dfn>: two entity-tags are equivalent if their opaque-tags match character-by-character,
                        regardless of either or both being tagged as "weak".
                     </li>
                  </ul>
               </div>
               <div id="rfc.section.2.3.2.p.2" class="avoidbreakafter">
                  <p>The example below shows the results for a set of entity-tag pairs and both the weak
                     and strong comparison function results:
                  </p>
               </div>
               <div id="rfc.table.u.1" class="tt">
                  <table class="tt full tleft">
                     <thead>
                        <tr>
                           <th>ETag 1</th>
                           <th>ETag 2</th>
                           <th>Strong Comparison</th>
                           <th>Weak Comparison</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr>
                           <td class="left">W/"1"</td>
                           <td class="left">W/"1"</td>
                           <td class="left">no match</td>
                           <td class="left">match</td>
                        </tr>
                        <tr>
                           <td class="left">W/"1"</td>
                           <td class="left">W/"2"</td>
                           <td class="left">no match</td>
                           <td class="left">no match</td>
                        </tr>
                        <tr>
                           <td class="left">W/"1"</td>
                           <td class="left">"1"</td>
                           <td class="left">no match</td>
                           <td class="left">match</td>
                        </tr>
                        <tr>
                           <td class="left">"1"</td>
                           <td class="left">"1"</td>
                           <td class="left">match</td>
                           <td class="left">match</td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </section>
            <section id="example.entity.tag.vs.conneg">
               <h4 id="rfc.section.2.3.3"><a href="#rfc.section.2.3.3">2.3.3.</a>&nbsp;<a href="#example.entity.tag.vs.conneg">Example: Entity-Tags Varying on Content-Negotiated Resources</a></h4>
               <div id="rfc.section.2.3.3.p.1" class="avoidbreakafter">
                  <p>Consider a resource that is subject to content negotiation (<a href="draft-fielding-httpbis-http-semantics-latest.html#content.negotiation" title="Content Negotiation">Section 3.4</a> of <a href="#SEMNTCS" id="rfc.xref.SEMNTCS.3"><cite title="Hypertext Transfer Protocol (HTTP): Semantics and Content">[SEMNTCS]</cite></a>), and where the representations sent in response to a GET request vary based on the <a href="draft-fielding-httpbis-http-semantics-latest.html#header.accept-encoding" class="smpl">Accept-Encoding</a> request header field (<a href="draft-fielding-httpbis-http-semantics-latest.html#header.accept-encoding" title="Accept-Encoding">Section 5.3.4</a> of <a href="#SEMNTCS" id="rfc.xref.SEMNTCS.4"><cite title="Hypertext Transfer Protocol (HTTP): Semantics and Content">[SEMNTCS]</cite></a>):
                  </p>
               </div>
               <div id="rfc.figure.u.5">
                  <p>&gt;&gt; Request:</p><pre class="text2">GET /index HTTP/1.1
Host: www.example.com
Accept-Encoding: gzip

</pre></div>
               <div id="rfc.section.2.3.3.p.2" class="avoidbreakafter">
                  <p>In this case, the response might or might not use the gzip content coding. If it does
                     not, the response might look like:
                  </p>
               </div>
               <div id="rfc.figure.u.6">
                  <p>&gt;&gt; Response:</p><pre class="text">HTTP/1.1 200 OK
Date: Fri, 26 Mar 2010 00:05:00 GMT
ETag: "123-a"
Content-Length: 70
Vary: Accept-Encoding
Content-Type: text/plain

<span id="exbody">Hello World!
Hello World!
Hello World!
Hello World!
Hello World!
</span></pre></div>
               <div id="rfc.section.2.3.3.p.3" class="avoidbreakafter">
                  <p>An alternative representation that does use gzip content coding would be:</p>
               </div>
               <div id="rfc.figure.u.7">
                  <p>&gt;&gt; Response:</p><pre class="text">HTTP/1.1 200 OK
Date: Fri, 26 Mar 2010 00:05:00 GMT
ETag: "123-b"
Content-Length: 43
Vary: Accept-Encoding
Content-Type: text/plain
Content-Encoding: gzip

<em>...binary data...</em></pre></div>
               <div id="rfc.section.2.3.3.p.4">
                  <aside>
                     <div id="rfc.section.2.3.3.p.4.1">
                        <p><b>Note:</b> Content codings are a property of the representation data, so a strong entity-tag
                           for a content-encoded representation has to be distinct from the entity tag of an
                           unencoded representation to prevent potential conflicts during cache updates and range
                           requests. In contrast, transfer codings (<a href="draft-fielding-httpbis-http-messaging-latest.html#transfer.codings" title="Transfer Codings">Section 4</a> of <a href="#MESSGNG" id="rfc.xref.MESSGNG.4"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[MESSGNG]</cite></a>) apply only during message transfer and do not result in distinct entity-tags.
                        </p>
                     </div>
                  </aside>
               </div>
            </section>
         </section>
         <section id="when.to.use.entity.tags.and.last-modified.dates">
            <h3 id="rfc.section.2.4"><a href="#rfc.section.2.4">2.4.</a>&nbsp;<a href="#when.to.use.entity.tags.and.last-modified.dates">When to Use Entity-Tags and Last-Modified Dates</a></h3>
            <div id="rfc.section.2.4.p.1">
               <p>In <a href="draft-fielding-httpbis-http-semantics-latest.html#status.200" class="smpl">200 (OK)</a> responses to GET or HEAD, an origin server: 
               </p>
               <ul>
                  <li><em class="bcp14">SHOULD</em> send an entity-tag validator unless it is not feasible to generate one.
                  </li>
                  <li><em class="bcp14">MAY</em> send a weak entity-tag instead of a strong entity-tag, if performance considerations
                     support the use of weak entity-tags, or if it is unfeasible to send a strong entity-tag.
                  </li>
                  <li><em class="bcp14">SHOULD</em> send a <a href="#header.last-modified" class="smpl">Last-Modified</a> value if it is feasible to send one.
                  </li>
               </ul>
            </div>
            <div id="rfc.section.2.4.p.2">
               <p>In other words, the preferred behavior for an origin server is to send both a strong
                  entity-tag and a <a href="#header.last-modified" class="smpl">Last-Modified</a> value in successful responses to a retrieval request.
               </p>
            </div>
            <div id="rfc.section.2.4.p.3">
               <p>A client: </p>
               <ul>
                  <li><em class="bcp14">MUST</em> send that entity-tag in any cache validation request (using <a href="#header.if-match" class="smpl">If-Match</a> or <a href="#header.if-none-match" class="smpl">If-None-Match</a>) if an entity-tag has been provided by the origin server.
                  </li>
                  <li><em class="bcp14">SHOULD</em> send the <a href="#header.last-modified" class="smpl">Last-Modified</a> value in non-subrange cache validation requests (using <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a>) if only a Last-Modified value has been provided by the origin server.
                  </li>
                  <li><em class="bcp14">MAY</em> send the <a href="#header.last-modified" class="smpl">Last-Modified</a> value in subrange cache validation requests (using <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a>) if only a Last-Modified value has been provided by an HTTP/1.0 origin server. The
                     user agent <em class="bcp14">SHOULD</em> provide a way to disable this, in case of difficulty.
                  </li>
                  <li><em class="bcp14">SHOULD</em> send both validators in cache validation requests if both an entity-tag and a <a href="#header.last-modified" class="smpl">Last-Modified</a> value have been provided by the origin server. This allows both HTTP/1.0 and HTTP/1.1
                     caches to respond appropriately.
                  </li>
               </ul>
            </div>
         </section>
      </section>
      <section id="preconditions">
         <h2 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a href="#preconditions">Precondition Header Fields</a></h2>
         <div id="rfc.section.3.p.1">
            <p>This section defines the syntax and semantics of HTTP/1.1 header fields for applying
               preconditions on requests. <a href="#evaluation" title="Evaluation">Section&nbsp;5</a> defines when the preconditions are applied. <a href="#precedence" title="Precedence">Section&nbsp;6</a> defines the order of evaluation when more than one precondition is present.
            </p>
         </div>
         <section id="header.if-match">
            <h3 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a>&nbsp;<a href="#header.if-match">If-Match</a></h3>
            <div id="rfc.section.3.1.p.1">
               <p>The "If-Match" header field makes the request method conditional on the recipient
                  origin server either having at least one current representation of the target resource,
                  when the field-value is "*", or having a current representation of the target resource
                  that has an entity-tag matching a member of the list of entity-tags provided in the
                  field-value.
               </p>
            </div>
            <div id="rfc.section.3.1.p.2">
               <p>An origin server <em class="bcp14">MUST</em> use the strong comparison function when comparing entity-tags for If-Match (<a href="#entity.tag.comparison" title="Comparison">Section&nbsp;2.3.2</a>), since the client intends this precondition to prevent the method from being applied
                  if there have been any changes to the representation data.
               </p>
            </div>
            <div id="rfc.figure.u.8"><pre class="inline"><span id="rfc.iref.g.7"></span>  <a href="#header.if-match" class="smpl">If-Match</a> = "*" / 1#<a href="#header.etag" class="smpl">entity-tag</a>
</pre></div>
            <div id="rfc.section.3.1.p.3" class="avoidbreakafter">
               <p>Examples:</p>
            </div>
            <div id="rfc.figure.u.9"><pre class="text">  If-Match: "xyzzy"
  If-Match: "xyzzy", "r2d2xxxx", "c3piozzzz"
  If-Match: *
</pre></div>
            <div id="rfc.section.3.1.p.4">
               <p>If-Match is most often used with state-changing methods (e.g., POST, PUT, DELETE)
                  to prevent accidental overwrites when multiple user agents might be acting in parallel
                  on the same resource (i.e., to prevent the "lost update" problem). It can also be
                  used with safe methods to abort a request if the <a href="draft-fielding-httpbis-http-semantics-latest.html#representations" class="smpl">selected representation</a> does not match one already stored (or partially stored) from a prior request.
               </p>
            </div>
            <div id="rfc.section.3.1.p.5">
               <p>An origin server that receives an If-Match header field <em class="bcp14">MUST</em> evaluate the condition prior to performing the method (<a href="#evaluation" title="Evaluation">Section&nbsp;5</a>). If the field-value is "*", the condition is false if the origin server does not
                  have a current representation for the target resource. If the field-value is a list
                  of entity-tags, the condition is false if none of the listed tags match the entity-tag
                  of the selected representation.
               </p>
            </div>
            <div id="rfc.section.3.1.p.6">
               <p>An origin server <em class="bcp14">MUST NOT</em> perform the requested method if a received If-Match condition evaluates to false;
                  instead, the origin server <em class="bcp14">MUST</em> respond with either a) the <a href="#status.412" class="smpl">412 (Precondition Failed)</a> status code or b) one of the <a href="draft-fielding-httpbis-http-semantics-latest.html#status.2xx" class="smpl">2xx (Successful)</a> status codes if the origin server has verified that a state change is being requested
                  and the final state is already reflected in the current state of the target resource
                  (i.e., the change requested by the user agent has already succeeded, but the user
                  agent might not be aware of it, perhaps because the prior response was lost or a compatible
                  change was made by some other user agent). In the latter case, the origin server <em class="bcp14">MUST NOT</em> send a validator header field in the response unless it can verify that the request
                  is a duplicate of an immediately prior change made by the same user agent.
               </p>
            </div>
            <div id="rfc.section.3.1.p.7">
               <p>The If-Match header field can be ignored by caches and intermediaries because it is
                  not applicable to a stored response.
               </p>
            </div>
         </section>
         <section id="header.if-none-match">
            <h3 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2.</a>&nbsp;<a href="#header.if-none-match">If-None-Match</a></h3>
            <div id="rfc.section.3.2.p.1">
               <p>The "If-None-Match" header field makes the request method conditional on a recipient
                  cache or origin server either not having any current representation of the target
                  resource, when the field-value is "*", or having a selected representation with an
                  entity-tag that does not match any of those listed in the field-value.
               </p>
            </div>
            <div id="rfc.section.3.2.p.2">
               <p>A recipient <em class="bcp14">MUST</em> use the weak comparison function when comparing entity-tags for If-None-Match (<a href="#entity.tag.comparison" title="Comparison">Section&nbsp;2.3.2</a>), since weak entity-tags can be used for cache validation even if there have been
                  changes to the representation data.
               </p>
            </div>
            <div id="rfc.figure.u.10"><pre class="inline"><span id="rfc.iref.g.8"></span>  <a href="#header.if-none-match" class="smpl">If-None-Match</a> = "*" / 1#<a href="#header.etag" class="smpl">entity-tag</a>
</pre></div>
            <div id="rfc.section.3.2.p.3" class="avoidbreakafter">
               <p>Examples:</p>
            </div>
            <div id="rfc.figure.u.11"><pre class="text">  If-None-Match: "xyzzy"
  If-None-Match: W/"xyzzy"
  If-None-Match: "xyzzy", "r2d2xxxx", "c3piozzzz"
  If-None-Match: W/"xyzzy", W/"r2d2xxxx", W/"c3piozzzz"
  If-None-Match: *
</pre></div>
            <div id="rfc.section.3.2.p.4">
               <p>If-None-Match is primarily used in conditional GET requests to enable efficient updates
                  of cached information with a minimum amount of transaction overhead. When a client
                  desires to update one or more stored responses that have entity-tags, the client <em class="bcp14">SHOULD</em> generate an If-None-Match header field containing a list of those entity-tags when
                  making a GET request; this allows recipient servers to send a <a href="#status.304" class="smpl">304 (Not Modified)</a> response to indicate when one of those stored responses matches the selected representation.
               </p>
            </div>
            <div id="rfc.section.3.2.p.5">
               <p>If-None-Match can also be used with a value of "*" to prevent an unsafe request method
                  (e.g., PUT) from inadvertently modifying an existing representation of the target
                  resource when the client believes that the resource does not have a current representation
                  (<a href="draft-fielding-httpbis-http-semantics-latest.html#safe.methods" title="Safe Methods">Section 4.2.1</a> of <a href="#SEMNTCS" id="rfc.xref.SEMNTCS.5"><cite title="Hypertext Transfer Protocol (HTTP): Semantics and Content">[SEMNTCS]</cite></a>). This is a variation on the "lost update" problem that might arise if more than
                  one client attempts to create an initial representation for the target resource.
               </p>
            </div>
            <div id="rfc.section.3.2.p.6">
               <p>An origin server that receives an If-None-Match header field <em class="bcp14">MUST</em> evaluate the condition prior to performing the method (<a href="#evaluation" title="Evaluation">Section&nbsp;5</a>). If the field-value is "*", the condition is false if the origin server has a current
                  representation for the target resource. If the field-value is a list of entity-tags,
                  the condition is false if one of the listed tags match the entity-tag of the selected
                  representation.
               </p>
            </div>
            <div id="rfc.section.3.2.p.7">
               <p>An origin server <em class="bcp14">MUST NOT</em> perform the requested method if the condition evaluates to false; instead, the origin
                  server <em class="bcp14">MUST</em> respond with either a) the <a href="#status.304" class="smpl">304 (Not Modified)</a> status code if the request method is GET or HEAD or b) the <a href="#status.412" class="smpl">412 (Precondition Failed)</a> status code for all other request methods.
               </p>
            </div>
            <div id="rfc.section.3.2.p.8">
               <p>Requirements on cache handling of a received If-None-Match header field are defined
                  in <a href="draft-fielding-httpbis-http-cache-latest.html#validation.received" title="Handling a Received Validation Request">Section 4.3.2</a> of <a href="#CACHING" id="rfc.xref.CACHING.4"><cite title="Hypertext Transfer Protocol (HTTP): Caching">[CACHING]</cite></a>.
               </p>
            </div>
         </section>
         <section id="header.if-modified-since">
            <h3 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3.</a>&nbsp;<a href="#header.if-modified-since">If-Modified-Since</a></h3>
            <div id="rfc.section.3.3.p.1">
               <p>The "If-Modified-Since" header field makes a GET or HEAD request method conditional
                  on the selected representation's modification date being more recent than the date
                  provided in the field-value. Transfer of the selected representation's data is avoided
                  if that data has not changed.
               </p>
            </div>
            <div id="rfc.figure.u.12"><pre class="inline"><span id="rfc.iref.g.9"></span>  <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a> = <a href="#imported.abnf" class="smpl">HTTP-date</a>
</pre></div>
            <div id="rfc.section.3.3.p.2" class="avoidbreakafter">
               <p>An example of the field is:</p>
            </div>
            <div id="rfc.figure.u.13"><pre class="text">  If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT
</pre></div>
            <div id="rfc.section.3.3.p.3">
               <p>A recipient <em class="bcp14">MUST</em> ignore If-Modified-Since if the request contains an <a href="#header.if-none-match" class="smpl">If-None-Match</a> header field; the condition in <a href="#header.if-none-match" class="smpl">If-None-Match</a> is considered to be a more accurate replacement for the condition in If-Modified-Since,
                  and the two are only combined for the sake of interoperating with older intermediaries
                  that might not implement <a href="#header.if-none-match" class="smpl">If-None-Match</a>.
               </p>
            </div>
            <div id="rfc.section.3.3.p.4">
               <p>A recipient <em class="bcp14">MUST</em> ignore the If-Modified-Since header field if the received field-value is not a valid
                  HTTP-date, or if the request method is neither GET nor HEAD.
               </p>
            </div>
            <div id="rfc.section.3.3.p.5">
               <p>A recipient <em class="bcp14">MUST</em> interpret an If-Modified-Since field-value's timestamp in terms of the origin server's
                  clock.
               </p>
            </div>
            <div id="rfc.section.3.3.p.6">
               <p>If-Modified-Since is typically used for two distinct purposes: 1) to allow efficient
                  updates of a cached representation that does not have an entity-tag and 2) to limit
                  the scope of a web traversal to resources that have recently changed.
               </p>
            </div>
            <div id="rfc.section.3.3.p.7">
               <p>When used for cache updates, a cache will typically use the value of the cached message's <a href="#header.last-modified" class="smpl">Last-Modified</a> field to generate the field value of If-Modified-Since. This behavior is most interoperable
                  for cases where clocks are poorly synchronized or when the server has chosen to only
                  honor exact timestamp matches (due to a problem with Last-Modified dates that appear
                  to go "back in time" when the origin server's clock is corrected or a representation
                  is restored from an archived backup). However, caches occasionally generate the field
                  value based on other data, such as the <a href="draft-fielding-httpbis-http-semantics-latest.html#header.date" class="smpl">Date</a> header field of the cached message or the local clock time that the message was received,
                  particularly when the cached message does not contain a <a href="#header.last-modified" class="smpl">Last-Modified</a> field.
               </p>
            </div>
            <div id="rfc.section.3.3.p.8">
               <p>When used for limiting the scope of retrieval to a recent time window, a user agent
                  will generate an If-Modified-Since field value based on either its own local clock
                  or a <a href="draft-fielding-httpbis-http-semantics-latest.html#header.date" class="smpl">Date</a> header field received from the server in a prior response. Origin servers that choose
                  an exact timestamp match based on the selected representation's <a href="#header.last-modified" class="smpl">Last-Modified</a> field will not be able to help the user agent limit its data transfers to only those
                  changed during the specified window.
               </p>
            </div>
            <div id="rfc.section.3.3.p.9">
               <p>An origin server that receives an If-Modified-Since header field <em class="bcp14">SHOULD</em> evaluate the condition prior to performing the method (<a href="#evaluation" title="Evaluation">Section&nbsp;5</a>). The origin server <em class="bcp14">SHOULD NOT</em> perform the requested method if the selected representation's last modification date
                  is earlier than or equal to the date provided in the field-value; instead, the origin
                  server <em class="bcp14">SHOULD</em> generate a <a href="#status.304" class="smpl">304 (Not Modified)</a> response, including only those metadata that are useful for identifying or updating
                  a previously cached response.
               </p>
            </div>
            <div id="rfc.section.3.3.p.10">
               <p>Requirements on cache handling of a received If-Modified-Since header field are defined
                  in <a href="draft-fielding-httpbis-http-cache-latest.html#validation.received" title="Handling a Received Validation Request">Section 4.3.2</a> of <a href="#CACHING" id="rfc.xref.CACHING.5"><cite title="Hypertext Transfer Protocol (HTTP): Caching">[CACHING]</cite></a>.
               </p>
            </div>
         </section>
         <section id="header.if-unmodified-since">
            <h3 id="rfc.section.3.4"><a href="#rfc.section.3.4">3.4.</a>&nbsp;<a href="#header.if-unmodified-since">If-Unmodified-Since</a></h3>
            <div id="rfc.section.3.4.p.1">
               <p>The "If-Unmodified-Since" header field makes the request method conditional on the
                  selected representation's last modification date being earlier than or equal to the
                  date provided in the field-value. This field accomplishes the same purpose as <a href="#header.if-match" class="smpl">If-Match</a> for cases where the user agent does not have an entity-tag for the representation.
               </p>
            </div>
            <div id="rfc.figure.u.14"><pre class="inline"><span id="rfc.iref.g.10"></span>  <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a> = <a href="#imported.abnf" class="smpl">HTTP-date</a>
</pre></div>
            <div id="rfc.section.3.4.p.2" class="avoidbreakafter">
               <p>An example of the field is:</p>
            </div>
            <div id="rfc.figure.u.15"><pre class="text">  If-Unmodified-Since: Sat, 29 Oct 1994 19:43:31 GMT
</pre></div>
            <div id="rfc.section.3.4.p.3">
               <p>A recipient <em class="bcp14">MUST</em> ignore If-Unmodified-Since if the request contains an <a href="#header.if-match" class="smpl">If-Match</a> header field; the condition in <a href="#header.if-match" class="smpl">If-Match</a> is considered to be a more accurate replacement for the condition in If-Unmodified-Since,
                  and the two are only combined for the sake of interoperating with older intermediaries
                  that might not implement <a href="#header.if-match" class="smpl">If-Match</a>.
               </p>
            </div>
            <div id="rfc.section.3.4.p.4">
               <p>A recipient <em class="bcp14">MUST</em> ignore the If-Unmodified-Since header field if the received field-value is not a valid
                  HTTP-date.
               </p>
            </div>
            <div id="rfc.section.3.4.p.5">
               <p>A recipient <em class="bcp14">MUST</em> interpret an If-Unmodified-Since field-value's timestamp in terms of the origin server's
                  clock.
               </p>
            </div>
            <div id="rfc.section.3.4.p.6">
               <p>If-Unmodified-Since is most often used with state-changing methods (e.g., POST, PUT,
                  DELETE) to prevent accidental overwrites when multiple user agents might be acting
                  in parallel on a resource that does not supply entity-tags with its representations
                  (i.e., to prevent the "lost update" problem). It can also be used with safe methods
                  to abort a request if the <a href="draft-fielding-httpbis-http-semantics-latest.html#representations" class="smpl">selected representation</a> does not match one already stored (or partially stored) from a prior request.
               </p>
            </div>
            <div id="rfc.section.3.4.p.7">
               <p>An origin server that receives an If-Unmodified-Since header field <em class="bcp14">MUST</em> evaluate the condition prior to performing the method (<a href="#evaluation" title="Evaluation">Section&nbsp;5</a>). The origin server <em class="bcp14">MUST NOT</em> perform the requested method if the selected representation's last modification date
                  is more recent than the date provided in the field-value; instead the origin server <em class="bcp14">MUST</em> respond with either a) the <a href="#status.412" class="smpl">412 (Precondition Failed)</a> status code or b) one of the <a href="draft-fielding-httpbis-http-semantics-latest.html#status.2xx" class="smpl">2xx (Successful)</a> status codes if the origin server has verified that a state change is being requested
                  and the final state is already reflected in the current state of the target resource
                  (i.e., the change requested by the user agent has already succeeded, but the user
                  agent might not be aware of that because the prior response message was lost or a
                  compatible change was made by some other user agent). In the latter case, the origin
                  server <em class="bcp14">MUST NOT</em> send a validator header field in the response unless it can verify that the request
                  is a duplicate of an immediately prior change made by the same user agent.
               </p>
            </div>
            <div id="rfc.section.3.4.p.8">
               <p>The If-Unmodified-Since header field can be ignored by caches and intermediaries because
                  it is not applicable to a stored response.
               </p>
            </div>
         </section>
         <section id="header.if-range">
            <h3 id="rfc.section.3.5"><a href="#rfc.section.3.5">3.5.</a>&nbsp;<a href="#header.if-range">If-Range</a></h3>
            <div id="rfc.section.3.5.p.1">
               <p>The "If-Range" header field provides a special conditional request mechanism that
                  is similar to the <a href="#header.if-match" class="smpl">If-Match</a> and <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a> header fields but that instructs the recipient to ignore the <a href="draft-fielding-httpbis-http-range-latest.html#header.range" class="smpl">Range</a> header field if the validator doesn't match, resulting in transfer of the new selected
                  representation instead of a <a href="#status.412" class="smpl">412 (Precondition Failed)</a> response. If-Range is defined in <a href="draft-fielding-httpbis-http-range-latest.html#header.if-range" title="If-Range">Section 3.2</a> of <a href="#RANGERQ" id="rfc.xref.RANGERQ.1"><cite title="Hypertext Transfer Protocol (HTTP): Range Requests">[RANGERQ]</cite></a>.
               </p>
            </div>
         </section>
      </section>
      <section id="status.code.definitions">
         <h2 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a href="#status.code.definitions">Status Code Definitions</a></h2>
         <section id="status.304">
            <h3 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1.</a>&nbsp;<a href="#status.304">304 Not Modified</a></h3>
            <div id="rfc.section.4.1.p.1">
               <p>The <dfn>304 (Not Modified)</dfn> status code indicates that a conditional GET or HEAD request has been received and
                  would have resulted in a <a href="draft-fielding-httpbis-http-semantics-latest.html#status.200" class="smpl">200 (OK)</a> response if it were not for the fact that the condition evaluated to false. In other
                  words, there is no need for the server to transfer a representation of the target
                  resource because the request indicates that the client, which made the request conditional,
                  already has a valid representation; the server is therefore redirecting the client
                  to make use of that stored representation as if it were the payload of a <a href="draft-fielding-httpbis-http-semantics-latest.html#status.200" class="smpl">200 (OK)</a> response.
               </p>
            </div>
            <div id="rfc.section.4.1.p.2">
               <p>The server generating a 304 response <em class="bcp14">MUST</em> generate any of the following header fields that would have been sent in a <a href="draft-fielding-httpbis-http-semantics-latest.html#status.200" class="smpl">200 (OK)</a> response to the same request: <a href="draft-fielding-httpbis-http-cache-latest.html#header.cache-control" class="smpl">Cache-Control</a>, <a href="draft-fielding-httpbis-http-semantics-latest.html#header.content-location" class="smpl">Content-Location</a>, <a href="draft-fielding-httpbis-http-semantics-latest.html#header.date" class="smpl">Date</a>, <a href="#header.etag" class="smpl">ETag</a>, <a href="draft-fielding-httpbis-http-cache-latest.html#header.expires" class="smpl">Expires</a>, and <a href="draft-fielding-httpbis-http-semantics-latest.html#header.vary" class="smpl">Vary</a>.
               </p>
            </div>
            <div id="rfc.section.4.1.p.3">
               <p>Since the goal of a 304 response is to minimize information transfer when the recipient
                  already has one or more cached representations, a sender <em class="bcp14">SHOULD NOT</em> generate representation metadata other than the above listed fields unless said metadata
                  exists for the purpose of guiding cache updates (e.g., <a href="#header.last-modified" class="smpl">Last-Modified</a> might be useful if the response does not have an <a href="#header.etag" class="smpl">ETag</a> field).
               </p>
            </div>
            <div id="rfc.section.4.1.p.4">
               <p>Requirements on a cache that receives a 304 response are defined in <a href="draft-fielding-httpbis-http-cache-latest.html#freshening.responses" title="Freshening Stored Responses upon Validation">Section 4.3.4</a> of <a href="#CACHING" id="rfc.xref.CACHING.6"><cite title="Hypertext Transfer Protocol (HTTP): Caching">[CACHING]</cite></a>. If the conditional request originated with an outbound client, such as a user agent
                  with its own cache sending a conditional GET to a shared proxy, then the proxy <em class="bcp14">SHOULD</em> forward the 304 response to that client.
               </p>
            </div>
            <div id="rfc.section.4.1.p.5">
               <p>A 304 response cannot contain a message-body; it is always terminated by the first
                  empty line after the header fields.
               </p>
            </div>
         </section>
         <section id="status.412">
            <h3 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2.</a>&nbsp;<a href="#status.412">412 Precondition Failed</a></h3>
            <div id="rfc.section.4.2.p.1">
               <p>The <dfn>412 (Precondition Failed)</dfn> status code indicates that one or more conditions given in the request header fields
                  evaluated to false when tested on the server. This response code allows the client
                  to place preconditions on the current resource state (its current representations
                  and metadata) and, thus, prevent the request method from being applied if the target
                  resource is in an unexpected state.
               </p>
            </div>
         </section>
      </section>
      <section id="evaluation">
         <h2 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a href="#evaluation">Evaluation</a></h2>
         <div id="rfc.section.5.p.1">
            <p>Except when excluded below, a recipient cache or origin server <em class="bcp14">MUST</em> evaluate received request preconditions after it has successfully performed its normal
               request checks and just before it would perform the action associated with the request
               method. A server <em class="bcp14">MUST</em> ignore all received preconditions if its response to the same request without those
               conditions would have been a status code other than a <a href="draft-fielding-httpbis-http-semantics-latest.html#status.2xx" class="smpl">2xx (Successful)</a> or <a href="#status.412" class="smpl">412 (Precondition Failed)</a>. In other words, redirects and failures take precedence over the evaluation of preconditions
               in conditional requests.
            </p>
         </div>
         <div id="rfc.section.5.p.2">
            <p>A server that is not the origin server for the target resource and cannot act as a
               cache for requests on the target resource <em class="bcp14">MUST NOT</em> evaluate the conditional request header fields defined by this specification, and
               it <em class="bcp14">MUST</em> forward them if the request is forwarded, since the generating client intends that
               they be evaluated by a server that can provide a current representation. Likewise,
               a server <em class="bcp14">MUST</em> ignore the conditional request header fields defined by this specification when received
               with a request method that does not involve the selection or modification of a <a href="draft-fielding-httpbis-http-semantics-latest.html#representations" class="smpl">selected representation</a>, such as CONNECT, OPTIONS, or TRACE.
            </p>
         </div>
         <div id="rfc.section.5.p.3">
            <p>Conditional request header fields that are defined by extensions to HTTP might place
               conditions on all recipients, on the state of the target resource in general, or on
               a group of resources. For instance, the "If" header field in WebDAV can make a request
               conditional on various aspects of multiple resources, such as locks, if the recipient
               understands and implements that field (<a href="#RFC4918" id="rfc.xref.RFC4918.2"><cite title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite></a>, <a href="https://tools.ietf.org/html/rfc4918#section-10.4">Section 10.4</a>).
            </p>
         </div>
         <div id="rfc.section.5.p.4">
            <p>Although conditional request header fields are defined as being usable with the HEAD
               method (to keep HEAD's semantics consistent with those of GET), there is no point
               in sending a conditional HEAD because a successful response is around the same size
               as a <a href="#status.304" class="smpl">304 (Not Modified)</a> response and more useful than a <a href="#status.412" class="smpl">412 (Precondition Failed)</a> response.
            </p>
         </div>
      </section>
      <section id="precedence">
         <h2 id="rfc.section.6"><a href="#rfc.section.6">6.</a>&nbsp;<a href="#precedence">Precedence</a></h2>
         <div id="rfc.section.6.p.1">
            <p>When more than one conditional request header field is present in a request, the order
               in which the fields are evaluated becomes important. In practice, the fields defined
               in this document are consistently implemented in a single, logical order, since "lost
               update" preconditions have more strict requirements than cache validation, a validated
               cache is more efficient than a partial response, and entity tags are presumed to be
               more accurate than date validators.
            </p>
         </div>
         <div id="rfc.section.6.p.2">
            <p>A recipient cache or origin server <em class="bcp14">MUST</em> evaluate the request preconditions defined by this specification in the following
               order: 
            </p>
            <ol>
               <li id="precedence1">When recipient is the origin server and <a href="#header.if-match" class="smpl">If-Match</a> is present, evaluate the <a href="#header.if-match" class="smpl">If-Match</a> precondition: 
                  <ul>
                     <li>if true, continue to step <a href="#precedence3">3</a></li>
                     <li>if false, respond <a href="#status.412" class="smpl">412 (Precondition Failed)</a> unless it can be determined that the state-changing request has already succeeded
                        (see <a href="#header.if-match" id="rfc.xref.header.if-match.1" title="If-Match">Section&nbsp;3.1</a>)
                     </li>
                  </ul> 
               </li>
               <li id="precedence2">When recipient is the origin server, <a href="#header.if-match" class="smpl">If-Match</a> is not present, and <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a> is present, evaluate the <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a> precondition: 
                  <ul>
                     <li>if true, continue to step <a href="#precedence3">3</a></li>
                     <li>if false, respond <a href="#status.412" class="smpl">412 (Precondition Failed)</a> unless it can be determined that the state-changing request has already succeeded
                        (see <a href="#header.if-unmodified-since" id="rfc.xref.header.if-unmodified-since.1" title="If-Unmodified-Since">Section&nbsp;3.4</a>)
                     </li>
                  </ul> 
               </li>
               <li id="precedence3">When <a href="#header.if-none-match" class="smpl">If-None-Match</a> is present, evaluate the <a href="#header.if-none-match" class="smpl">If-None-Match</a> precondition: 
                  <ul>
                     <li>if true, continue to step <a href="#precedence5">5</a></li>
                     <li>if false for GET/HEAD, respond <a href="#status.304" class="smpl">304 (Not Modified)</a></li>
                     <li>if false for other methods, respond <a href="#status.412" class="smpl">412 (Precondition Failed)</a></li>
                  </ul> 
               </li>
               <li id="precedence4">When the method is GET or HEAD, <a href="#header.if-none-match" class="smpl">If-None-Match</a> is not present, and <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a> is present, evaluate the <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a> precondition: 
                  <ul>
                     <li>if true, continue to step <a href="#precedence5">5</a></li>
                     <li>if false, respond <a href="#status.304" class="smpl">304 (Not Modified)</a></li>
                  </ul> 
               </li>
               <li id="precedence5">When the method is GET and both <a href="draft-fielding-httpbis-http-range-latest.html#header.range" class="smpl">Range</a> and <a href="draft-fielding-httpbis-http-range-latest.html#header.if-range" class="smpl">If-Range</a> are present, evaluate the <a href="draft-fielding-httpbis-http-range-latest.html#header.if-range" class="smpl">If-Range</a> precondition: 
                  <ul>
                     <li>if the validator matches and the Range specification is applicable to the selected
                        representation, respond <a href="draft-fielding-httpbis-http-range-latest.html#status.206" class="smpl">206 (Partial Content)</a> <a href="#RANGERQ" id="rfc.xref.RANGERQ.2"><cite title="Hypertext Transfer Protocol (HTTP): Range Requests">[RANGERQ]</cite></a></li>
                  </ul> 
               </li>
               <li id="precedencelast">Otherwise, 
                  <ul>
                     <li>all conditions are met, so perform the requested action and respond according to its
                        success or failure.
                     </li>
                  </ul> 
               </li>
            </ol>
         </div>
         <div id="rfc.section.6.p.3">
            <p>Any extension to HTTP/1.1 that defines additional conditional request header fields
               ought to define its own expectations regarding the order for evaluating such fields
               in relation to those defined in this document and other conditionals that might be
               found in practice.
            </p>
         </div>
      </section>
      <section id="IANA.considerations">
         <h2 id="rfc.section.7"><a href="#rfc.section.7">7.</a>&nbsp;<a href="#IANA.considerations">IANA Considerations</a></h2>
         <section id="status.code.registration">
            <h3 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1.</a>&nbsp;<a href="#status.code.registration">Status Code Registration</a></h3>
            <div id="rfc.section.7.1.p.1" class="avoidbreakafter">
               <p>The "Hypertext Transfer Protocol (HTTP) Status Code Registry" located at &lt;<a href="http://www.iana.org/assignments/http-status-codes">http://www.iana.org/assignments/http-status-codes</a>&gt; has been updated with the registrations below:
               </p>
            </div>
            <div id="rfc.table.1" class="tt">
               <div id="iana.status.code.registration.table"></div>
               <table class="tt full tleft">
                  <thead>
                     <tr>
                        <th>Value</th>
                        <th>Description</th>
                        <th>Reference</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td class="left">304</td>
                        <td class="left">Not Modified</td>
                        <td class="left"><a href="#status.304" id="rfc.xref.status.304.1" title="304 Not Modified">Section&nbsp;4.1</a> 
                        </td>
                     </tr>
                     <tr>
                        <td class="left">412</td>
                        <td class="left">Precondition Failed</td>
                        <td class="left"><a href="#status.412" id="rfc.xref.status.412.1" title="412 Precondition Failed">Section&nbsp;4.2</a> 
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
         </section>
         <section id="header.field.registration">
            <h3 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2.</a>&nbsp;<a href="#header.field.registration">Header Field Registration</a></h3>
            <div id="rfc.section.7.2.p.1">
               <p>HTTP header fields are registered within the "Message Headers" registry maintained
                  at &lt;<a href="http://www.iana.org/assignments/message-headers/">http://www.iana.org/assignments/message-headers/</a>&gt;.
               </p>
            </div>
            <div id="rfc.section.7.2.p.2" class="avoidbreakafter">
               <p>This document defines the following HTTP header fields, so their associated registry
                  entries have been updated according to the permanent registrations below (see <a href="#BCP90" id="rfc.xref.BCP90.1"><cite title="Registration Procedures for Message Header Fields">[BCP90]</cite></a>):
               </p>
            </div>
            <div id="rfc.table.2" class="tt">
               <div id="iana.header.registration.table"></div>
               <table class="tt full tleft">
                  <thead>
                     <tr>
                        <th>Header Field Name</th>
                        <th>Protocol</th>
                        <th>Status</th>
                        <th>Reference</th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr>
                        <td class="left">ETag</td>
                        <td class="left">http</td>
                        <td class="left">standard</td>
                        <td class="left"><a href="#header.etag" id="rfc.xref.header.etag.2" title="ETag">Section&nbsp;2.3</a> 
                        </td>
                     </tr>
                     <tr>
                        <td class="left">If-Match</td>
                        <td class="left">http</td>
                        <td class="left">standard</td>
                        <td class="left"><a href="#header.if-match" id="rfc.xref.header.if-match.2" title="If-Match">Section&nbsp;3.1</a> 
                        </td>
                     </tr>
                     <tr>
                        <td class="left">If-Modified-Since</td>
                        <td class="left">http</td>
                        <td class="left">standard</td>
                        <td class="left"><a href="#header.if-modified-since" id="rfc.xref.header.if-modified-since.1" title="If-Modified-Since">Section&nbsp;3.3</a> 
                        </td>
                     </tr>
                     <tr>
                        <td class="left">If-None-Match</td>
                        <td class="left">http</td>
                        <td class="left">standard</td>
                        <td class="left"><a href="#header.if-none-match" id="rfc.xref.header.if-none-match.1" title="If-None-Match">Section&nbsp;3.2</a> 
                        </td>
                     </tr>
                     <tr>
                        <td class="left">If-Unmodified-Since</td>
                        <td class="left">http</td>
                        <td class="left">standard</td>
                        <td class="left"><a href="#header.if-unmodified-since" id="rfc.xref.header.if-unmodified-since.2" title="If-Unmodified-Since">Section&nbsp;3.4</a> 
                        </td>
                     </tr>
                     <tr>
                        <td class="left">Last-Modified</td>
                        <td class="left">http</td>
                        <td class="left">standard</td>
                        <td class="left"><a href="#header.last-modified" id="rfc.xref.header.last-modified.2" title="Last-Modified">Section&nbsp;2.2</a> 
                        </td>
                     </tr>
                  </tbody>
               </table>
            </div>
            <div id="rfc.section.7.2.p.3">
               <p>The change controller is: "IETF (iesg@ietf.org) - Internet Engineering Task Force".</p>
            </div>
         </section>
      </section>
      <section id="security.considerations">
         <h2 id="rfc.section.8"><a href="#rfc.section.8">8.</a>&nbsp;<a href="#security.considerations">Security Considerations</a></h2>
         <div id="rfc.section.8.p.1">
            <p>This section is meant to inform developers, information providers, and users of known
               security concerns specific to the HTTP conditional request mechanisms. More general
               security considerations are addressed in HTTP "Message Syntax and Routing" <a href="#MESSGNG" id="rfc.xref.MESSGNG.5"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[MESSGNG]</cite></a> and "Semantics and Content" <a href="#SEMNTCS" id="rfc.xref.SEMNTCS.6"><cite title="Hypertext Transfer Protocol (HTTP): Semantics and Content">[SEMNTCS]</cite></a>.
            </p>
         </div>
         <div id="rfc.section.8.p.2">
            <p>The validators defined by this specification are not intended to ensure the validity
               of a representation, guard against malicious changes, or detect man-in-the-middle
               attacks. At best, they enable more efficient cache updates and optimistic concurrent
               writes when all participants are behaving nicely. At worst, the conditions will fail
               and the client will receive a response that is no more harmful than an HTTP exchange
               without conditional requests.
            </p>
         </div>
         <div id="rfc.section.8.p.3">
            <p>An entity-tag can be abused in ways that create privacy risks. For example, a site
               might deliberately construct a semantically invalid entity-tag that is unique to the
               user or user agent, send it in a cacheable response with a long freshness time, and
               then read that entity-tag in later conditional requests as a means of re-identifying
               that user or user agent. Such an identifying tag would become a persistent identifier
               for as long as the user agent retained the original cache entry. User agents that
               cache representations ought to ensure that the cache is cleared or replaced whenever
               the user performs privacy-maintaining actions, such as clearing stored cookies or
               changing to a private browsing mode.
            </p>
         </div>
      </section>
      <section id="rfc.references">
         <h2 id="rfc.section.9"><a href="#rfc.section.9">9.</a> References
         </h2>
         <section>
            <div id="rfc.references.1">
               <h3 id="rfc.section.9.1"><a href="#rfc.section.9.1">9.1.</a> Normative References
               </h3>
               <dl class="reference">
                  <dt id="CACHING">[CACHING]</dt>
                  <dd>Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke, Ed., “<a href="draft-fielding-httpbis-http-cache-latest.html">Hypertext Transfer Protocol (HTTP): Caching</a>”, Internet-Draft&nbsp;draft-fielding-httpbis-http-cache-latest (work in progress), March&nbsp;2018.
                  </dd>
                  <dt id="MESSGNG">[MESSGNG]</dt>
                  <dd>Fielding, R., Ed. and J. Reschke, Ed., “<a href="draft-fielding-httpbis-http-messaging-latest.html">Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</a>”, Internet-Draft&nbsp;draft-fielding-httpbis-http-messaging-latest (work in progress), March&nbsp;2018.
                  </dd>
                  <dt id="RANGERQ">[RANGERQ]</dt>
                  <dd>Fielding, R., Ed., Lafon, Y., Ed., and J. Reschke, Ed., “<a href="draft-fielding-httpbis-http-range-latest.html">Hypertext Transfer Protocol (HTTP): Range Requests</a>”, Internet-Draft&nbsp;draft-fielding-httpbis-http-range-latest (work in progress), March&nbsp;2018.
                  </dd>
                  <dt id="RFC2119">[RFC2119]</dt>
                  <dd>Bradner, S., “<a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>”, BCP&nbsp;14, RFC&nbsp;2119, <a href="http://dx.doi.org/10.17487/RFC2119">DOI&nbsp;10.17487/RFC2119</a>, March&nbsp;1997, &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.
                  </dd>
                  <dt id="RFC5234">[RFC5234]</dt>
                  <dd>Crocker, D., Ed. and P. Overell, “<a href="https://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>”, STD&nbsp;68, RFC&nbsp;5234, <a href="http://dx.doi.org/10.17487/RFC5234">DOI&nbsp;10.17487/RFC5234</a>, January&nbsp;2008, &lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;.
                  </dd>
                  <dt id="SEMNTCS">[SEMNTCS]</dt>
                  <dd>Fielding, R., Ed. and J. Reschke, Ed., “<a href="draft-fielding-httpbis-http-semantics-latest.html">Hypertext Transfer Protocol (HTTP): Semantics and Content</a>”, Internet-Draft&nbsp;draft-fielding-httpbis-http-semantics-latest (work in progress), March&nbsp;2018.
                  </dd>
               </dl>
            </div>
         </section>
         <section>
            <div id="rfc.references.2">
               <h3 id="rfc.section.9.2"><a href="#rfc.section.9.2">9.2.</a> Informative References
               </h3>
               <dl class="reference">
                  <dt id="BCP90">[BCP90]</dt>
                  <dd>Klyne, G., Nottingham, M., and J. Mogul, “<a href="https://tools.ietf.org/html/rfc3864">Registration Procedures for Message Header Fields</a>”, BCP&nbsp;90, RFC&nbsp;3864, September&nbsp;2004, &lt;<a href="https://www.rfc-editor.org/info/bcp90">https://www.rfc-editor.org/info/bcp90</a>&gt;.
                  </dd>
                  <dt id="RFC2616">[RFC2616]</dt>
                  <dd>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, “<a href="https://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>”, RFC&nbsp;2616, <a href="http://dx.doi.org/10.17487/RFC2616">DOI&nbsp;10.17487/RFC2616</a>, June&nbsp;1999, &lt;<a href="https://www.rfc-editor.org/info/rfc2616">https://www.rfc-editor.org/info/rfc2616</a>&gt;.
                  </dd>
                  <dt id="RFC4918">[RFC4918]</dt>
                  <dd>Dusseault, L., Ed., “<a href="https://tools.ietf.org/html/rfc4918">HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)</a>”, RFC&nbsp;4918, <a href="http://dx.doi.org/10.17487/RFC4918">DOI&nbsp;10.17487/RFC4918</a>, June&nbsp;2007, &lt;<a href="https://www.rfc-editor.org/info/rfc4918">https://www.rfc-editor.org/info/rfc4918</a>&gt;.
                  </dd>
                  <dt id="RFC7232">[RFC7232]</dt>
                  <dd>Fielding, R., Ed. and J. Reschke, Ed., “<a href="https://tools.ietf.org/html/rfc7232">Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests</a>”, RFC&nbsp;7232, <a href="http://dx.doi.org/10.17487/RFC7232">DOI&nbsp;10.17487/RFC7232</a>, June&nbsp;2014, &lt;<a href="https://www.rfc-editor.org/info/rfc7232">https://www.rfc-editor.org/info/rfc7232</a>&gt;.
                  </dd>
               </dl>
            </div>
         </section>
      </section>
      <section id="changes.from.rfc.7232">
         <h2 id="rfc.section.A" class="np"><a href="#rfc.section.A">A.</a>&nbsp;<a href="#changes.from.rfc.7232">Changes from RFC 7232</a></h2>
         <div id="rfc.section.A.p.1">
            <p>None yet.</p>
         </div>
      </section>
      <section id="imported.abnf">
         <h2 id="rfc.section.B"><a href="#rfc.section.B">B.</a>&nbsp;<a href="#imported.abnf">Imported ABNF</a></h2>
         <div id="rfc.section.B.p.1">
            <p>The following core rules are included by reference, as defined in <a href="https://tools.ietf.org/html/rfc5234#appendix-B.1">Appendix B.1</a> of <a href="#RFC5234" id="rfc.xref.RFC5234.2"><cite title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a>: ALPHA (letters), CR (carriage return), CRLF (CR LF), CTL (controls), DIGIT (decimal
               0-9), DQUOTE (double quote), HEXDIG (hexadecimal 0-9/A-F/a-f), LF (line feed), OCTET
               (any 8-bit sequence of data), SP (space), and VCHAR (any visible US-ASCII character).
            </p>
         </div>
         <div id="rfc.section.B.p.2" class="avoidbreakafter">
            <p>The rules below are defined in <a href="#MESSGNG" id="rfc.xref.MESSGNG.6"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[MESSGNG]</cite></a>:
            </p>
         </div>
         <div id="rfc.figure.u.16"><pre class="inline">  <a href="#imported.abnf" class="smpl">OWS</a>           = &lt;OWS, see <a href="#MESSGNG" id="rfc.xref.MESSGNG.7"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[MESSGNG]</cite></a>, <a href="draft-fielding-httpbis-http-messaging-latest.html#whitespace" title="Whitespace">Section 3.2.3</a>&gt;
  <a href="#imported.abnf" class="smpl">obs-text</a>      = &lt;obs-text, see <a href="#MESSGNG" id="rfc.xref.MESSGNG.8"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[MESSGNG]</cite></a>, <a href="draft-fielding-httpbis-http-messaging-latest.html#field.components" title="Field Value Components">Section 3.2.6</a>&gt;
</pre></div>
         <div id="rfc.section.B.p.3" class="avoidbreakafter">
            <p>The rules below are defined in other parts:</p>
         </div>
         <div id="rfc.figure.u.17"><pre class="inline">  <a href="#imported.abnf" class="smpl">HTTP-date</a>     = &lt;HTTP-date, see <a href="#SEMNTCS" id="rfc.xref.SEMNTCS.7"><cite title="Hypertext Transfer Protocol (HTTP): Semantics and Content">[SEMNTCS]</cite></a>, <a href="draft-fielding-httpbis-http-semantics-latest.html#http.date" title="Date/Time Formats">Section 7.1.1.1</a>&gt;
</pre></div>
      </section>
      <section id="collected.abnf">
         <h2 id="rfc.section.C"><a href="#rfc.section.C">C.</a>&nbsp;<a href="#collected.abnf">Collected ABNF</a></h2>
         <div id="rfc.section.C.p.1">
            <p>In the collected ABNF below, list rules are expanded as per <a href="draft-fielding-httpbis-http-messaging-latest.html#notation" title="Syntax Notation">Section 1.2</a> of <a href="#MESSGNG" id="rfc.xref.MESSGNG.9"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[MESSGNG]</cite></a>.
            </p>
         </div>
         <div id="rfc.figure.u.18"><pre class="inline"><a href="#header.etag" class="smpl">ETag</a> = entity-tag

<a href="#imported.abnf" class="smpl">HTTP-date</a> = &lt;HTTP-date, see [SEMNTCS], Section 7.1.1.1&gt;

<a href="#header.if-match" class="smpl">If-Match</a> = "*" / ( *( "," OWS ) entity-tag *( OWS "," [ OWS
 entity-tag ] ) )
<a href="#header.if-modified-since" class="smpl">If-Modified-Since</a> = HTTP-date
<a href="#header.if-none-match" class="smpl">If-None-Match</a> = "*" / ( *( "," OWS ) entity-tag *( OWS "," [ OWS
 entity-tag ] ) )
<a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a> = HTTP-date

<a href="#header.last-modified" class="smpl">Last-Modified</a> = HTTP-date

<a href="#imported.abnf" class="smpl">OWS</a> = &lt;OWS, see [MESSGNG], Section 3.2.3&gt;

<a href="#header.etag" class="smpl">entity-tag</a> = [ weak ] opaque-tag
<a href="#header.etag" class="smpl">etagc</a> = "!" / %x23-7E ; '#'-'~'
 / obs-text

<a href="#imported.abnf" class="smpl">obs-text</a> = &lt;obs-text, see [MESSGNG], Section 3.2.6&gt;
<a href="#header.etag" class="smpl">opaque-tag</a> = DQUOTE *etagc DQUOTE

<a href="#header.etag" class="smpl">weak</a> = %x57.2F ; W/
</pre></div>
      </section>
      <section id="change.log" class="rfcEditorRemove">
         <h2 id="rfc.section.D"><a href="#rfc.section.D">D.</a>&nbsp;<a href="#change.log">Change Log</a></h2>
         <div id="rfc.section.D.p.1">
            <p>This section is to be removed before publishing as an RFC.</p>
         </div>
         <section id="changes.since.publication.as.rfc">
            <h3 id="rfc.section.D.1"><a href="#rfc.section.D.1">D.1.</a>&nbsp;<a href="#changes.since.publication.as.rfc">Since <span id="rfc.xref.RFC7232.2">RFC 7232</span></a></h3>
            <div id="rfc.section.D.1.p.1" class="avoidbreakafter">
               <p>The changes in this draft are purely editorial:</p>
            </div>
            <div id="rfc.section.D.1.p.2">
               <ul>
                  <li>Change boilerplate and abstract to indicate the "draft" status, and update references
                     to ancestor specifications.
                  </li> 
                  <li>Remove version "1.1" from document title, indicating that this specification applies
                     to all HTTP versions.
                  </li> 
                  <li>Adjust historical notes.</li> 
                  <li>Update links to sibling specifications.</li> 
                  <li>Replace sections listing changes from RFC 2616 by new empty sections referring to
                     RFC 723x.
                  </li> 
                  <li>Remove acknowledgements specific to RFC 723x.</li> 
                  <li>Move "Acknowledgements" to the very end and make them unnumbered.</li> 
               </ul>
            </div>
         </section>
      </section>
      <section id="acks">
         <h2 id="rfc.section.unnumbered-1"><a href="#acks">Acknowledgments</a></h2>
         <div id="rfc.section.unnumbered-1.p.1">
            <p>See <a href="draft-fielding-httpbis-http-messaging-latest.html#acks" title="Acknowledgments">Appendix "Acknowledgments"</a> of <a href="#MESSGNG" id="rfc.xref.MESSGNG.10"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[MESSGNG]</cite></a>.
            </p>
         </div>
      </section>
      <section id="rfc.index">
         <h2><a href="#rfc.index">Index</a></h2>
         <p class="noprint"><a href="#rfc.index.3">3</a> <a href="#rfc.index.4">4</a> <a href="#rfc.index.B">B</a> <a href="#rfc.index.C">C</a> <a href="#rfc.index.E">E</a> <a href="#rfc.index.G">G</a> <a href="#rfc.index.I">I</a> <a href="#rfc.index.L">L</a> <a href="#rfc.index.M">M</a> <a href="#rfc.index.R">R</a> <a href="#rfc.index.S">S</a> <a href="#rfc.index.V">V</a> 
         </p>
         <div class="print2col">
            <ul class="ind">
               <li><a id="rfc.index.3" href="#rfc.index.3"><b>3</b></a><ul>
                     <li>304 Not Modified (status code)&nbsp;&nbsp;<a href="#rfc.section.4.1"><b>4.1</b></a>, <a href="#rfc.xref.status.304.1">7.1</a></li>
                  </ul>
               </li>
               <li><a id="rfc.index.4" href="#rfc.index.4"><b>4</b></a><ul>
                     <li>412 Precondition Failed (status code)&nbsp;&nbsp;<a href="#rfc.section.4.2"><b>4.2</b></a>, <a href="#rfc.xref.status.412.1">7.1</a></li>
                  </ul>
               </li>
               <li><a id="rfc.index.B" href="#rfc.index.B"><b>B</b></a><ul>
                     <li><em>BCP90</em>&nbsp;&nbsp;<a href="#rfc.xref.BCP90.1">7.2</a>, <a href="#BCP90"><b>9.2</b></a></li>
                  </ul>
               </li>
               <li><a id="rfc.index.C" href="#rfc.index.C"><b>C</b></a><ul>
                     <li><em>CACHING</em>&nbsp;&nbsp;<a href="#rfc.xref.CACHING.1">1</a>, <a href="#rfc.xref.CACHING.2">2.2.1</a>, <a href="#rfc.xref.CACHING.3">2.3.1</a>, <a href="#rfc.xref.CACHING.4">3.2</a>, <a href="#rfc.xref.CACHING.5">3.3</a>, <a href="#rfc.xref.CACHING.6">4.1</a>, <a href="#CACHING"><b>9.1</b></a><ul>
                           <li><em>Section 4.3.2</em>&nbsp;&nbsp;<a href="#rfc.xref.CACHING.4">3.2</a>, <a href="#rfc.xref.CACHING.5">3.3</a></li>
                           <li><em>Section 4.3.4</em>&nbsp;&nbsp;<a href="#rfc.xref.CACHING.6">4.1</a></li>
                        </ul>
                     </li>
                  </ul>
               </li>
               <li><a id="rfc.index.E" href="#rfc.index.E"><b>E</b></a><ul>
                     <li>ETag header field&nbsp;&nbsp;<a href="#rfc.xref.header.etag.1">2</a>, <a href="#rfc.section.2.3"><b>2.3</b></a>, <a href="#rfc.xref.header.etag.2">7.2</a></li>
                  </ul>
               </li>
               <li><a id="rfc.index.G" href="#rfc.index.G"><b>G</b></a><ul>
                     <li><span class="tt">Grammar</span>&nbsp;&nbsp;
                        <ul>
                           <li><span class="tt">entity-tag</span>&nbsp;&nbsp;<a href="#rfc.iref.g.3"><b>2.3</b></a></li>
                           <li><span class="tt">ETag</span>&nbsp;&nbsp;<a href="#rfc.iref.g.2"><b>2.3</b></a></li>
                           <li><span class="tt">etagc</span>&nbsp;&nbsp;<a href="#rfc.iref.g.6"><b>2.3</b></a></li>
                           <li><span class="tt">If-Match</span>&nbsp;&nbsp;<a href="#rfc.iref.g.7"><b>3.1</b></a></li>
                           <li><span class="tt">If-Modified-Since</span>&nbsp;&nbsp;<a href="#rfc.iref.g.9"><b>3.3</b></a></li>
                           <li><span class="tt">If-None-Match</span>&nbsp;&nbsp;<a href="#rfc.iref.g.8"><b>3.2</b></a></li>
                           <li><span class="tt">If-Unmodified-Since</span>&nbsp;&nbsp;<a href="#rfc.iref.g.10"><b>3.4</b></a></li>
                           <li><span class="tt">Last-Modified</span>&nbsp;&nbsp;<a href="#rfc.iref.g.1"><b>2.2</b></a></li>
                           <li><span class="tt">opaque-tag</span>&nbsp;&nbsp;<a href="#rfc.iref.g.5"><b>2.3</b></a></li>
                           <li><span class="tt">weak</span>&nbsp;&nbsp;<a href="#rfc.iref.g.4"><b>2.3</b></a></li>
                        </ul>
                     </li>
                  </ul>
               </li>
               <li><a id="rfc.index.I" href="#rfc.index.I"><b>I</b></a><ul>
                     <li>If-Match header field&nbsp;&nbsp;<a href="#rfc.section.3.1"><b>3.1</b></a>, <a href="#rfc.xref.header.if-match.1">6</a>, <a href="#rfc.xref.header.if-match.2">7.2</a></li>
                     <li>If-Modified-Since header field&nbsp;&nbsp;<a href="#rfc.section.3.3"><b>3.3</b></a>, <a href="#rfc.xref.header.if-modified-since.1">7.2</a></li>
                     <li>If-None-Match header field&nbsp;&nbsp;<a href="#rfc.section.3.2"><b>3.2</b></a>, <a href="#rfc.xref.header.if-none-match.1">7.2</a></li>
                     <li>If-Unmodified-Since header field&nbsp;&nbsp;<a href="#rfc.section.3.4"><b>3.4</b></a>, <a href="#rfc.xref.header.if-unmodified-since.1">6</a>, <a href="#rfc.xref.header.if-unmodified-since.2">7.2</a></li>
                  </ul>
               </li>
               <li><a id="rfc.index.L" href="#rfc.index.L"><b>L</b></a><ul>
                     <li>Last-Modified header field&nbsp;&nbsp;<a href="#rfc.xref.header.last-modified.1">2</a>, <a href="#rfc.section.2.2"><b>2.2</b></a>, <a href="#rfc.xref.header.last-modified.2">7.2</a></li>
                  </ul>
               </li>
               <li><a id="rfc.index.M" href="#rfc.index.M"><b>M</b></a><ul>
                     <li><em>MESSGNG</em>&nbsp;&nbsp;<a href="#rfc.xref.MESSGNG.1">1</a>, <a href="#rfc.xref.MESSGNG.2">1.1</a>, <a href="#rfc.xref.MESSGNG.3">1.2</a>, <a href="#rfc.xref.MESSGNG.4">2.3.3</a>, <a href="#rfc.xref.MESSGNG.5">8</a>, <a href="#MESSGNG"><b>9.1</b></a>, <a href="#rfc.xref.MESSGNG.6">B</a>, <a href="#rfc.xref.MESSGNG.7">B</a>, <a href="#rfc.xref.MESSGNG.8">B</a>, <a href="#rfc.xref.MESSGNG.9">C</a>, <a href="#rfc.xref.MESSGNG.10">E</a><ul>
                           <li><em>Section 1.2</em>&nbsp;&nbsp;<a href="#rfc.xref.MESSGNG.9">C</a></li>
                           <li><em>Section 2.5</em>&nbsp;&nbsp;<a href="#rfc.xref.MESSGNG.2">1.1</a></li>
                           <li><em>Section 3.2.3</em>&nbsp;&nbsp;<a href="#rfc.xref.MESSGNG.7">B</a></li>
                           <li><em>Section 3.2.6</em>&nbsp;&nbsp;<a href="#rfc.xref.MESSGNG.8">B</a></li>
                           <li><em>Section 4</em>&nbsp;&nbsp;<a href="#rfc.xref.MESSGNG.4">2.3.3</a></li>
                           <li><em>Section 7</em>&nbsp;&nbsp;<a href="#rfc.xref.MESSGNG.3">1.2</a></li>
                           <li><em>Acknowledgments</em>&nbsp;&nbsp;<a href="#rfc.xref.MESSGNG.10">E</a></li>
                        </ul>
                     </li>
                     <li>metadata&nbsp;&nbsp;<a href="#rfc.section.2"><b>2</b></a></li>
                  </ul>
               </li>
               <li><a id="rfc.index.R" href="#rfc.index.R"><b>R</b></a><ul>
                     <li><em>RANGERQ</em>&nbsp;&nbsp;<a href="#rfc.xref.RANGERQ.1">3.5</a>, <a href="#rfc.xref.RANGERQ.2">6</a>, <a href="#RANGERQ"><b>9.1</b></a><ul>
                           <li><em>Section 3.2</em>&nbsp;&nbsp;<a href="#rfc.xref.RANGERQ.1">3.5</a></li>
                        </ul>
                     </li>
                     <li><em>RFC2119</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2119.1">1.1</a>, <a href="#RFC2119"><b>9.1</b></a></li>
                     <li><em>RFC2616</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2616.1">2.3</a>, <a href="#RFC2616"><b>9.2</b></a><ul>
                           <li><em>Section 3.11</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2616.1">2.3</a></li>
                        </ul>
                     </li>
                     <li><em>RFC4918</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC4918.1">2</a>, <a href="#rfc.xref.RFC4918.2">5</a>, <a href="#RFC4918"><b>9.2</b></a><ul>
                           <li><em>Section 10.4</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC4918.2">5</a></li>
                        </ul>
                     </li>
                     <li><em>RFC5234</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC5234.1">1.2</a>, <a href="#RFC5234"><b>9.1</b></a>, <a href="#rfc.xref.RFC5234.2">B</a><ul>
                           <li><em>Appendix B.1</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC5234.2">B</a></li>
                        </ul>
                     </li>
                     <li><em>RFC7232</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC7232.1">1</a>, <a href="#RFC7232"><b>9.2</b></a>, <a href="#rfc.xref.RFC7232.2">D.1</a></li>
                  </ul>
               </li>
               <li><a id="rfc.index.S" href="#rfc.index.S"><b>S</b></a><ul>
                     <li>selected representation&nbsp;&nbsp;<a href="#rfc.iref.s.1"><b>1</b></a></li>
                     <li><em>SEMNTCS</em>&nbsp;&nbsp;<a href="#rfc.xref.SEMNTCS.1">1</a>, <a href="#rfc.xref.SEMNTCS.2">1</a>, <a href="#rfc.xref.SEMNTCS.3">2.3.3</a>, <a href="#rfc.xref.SEMNTCS.4">2.3.3</a>, <a href="#rfc.xref.SEMNTCS.5">3.2</a>, <a href="#rfc.xref.SEMNTCS.6">8</a>, <a href="#SEMNTCS"><b>9.1</b></a>, <a href="#rfc.xref.SEMNTCS.7">B</a><ul>
                           <li><em>Section 3</em>&nbsp;&nbsp;<a href="#rfc.xref.SEMNTCS.2">1</a></li>
                           <li><em>Section 3.4</em>&nbsp;&nbsp;<a href="#rfc.xref.SEMNTCS.3">2.3.3</a></li>
                           <li><em>Section 4.2.1</em>&nbsp;&nbsp;<a href="#rfc.xref.SEMNTCS.5">3.2</a></li>
                           <li><em>Section 5.3.4</em>&nbsp;&nbsp;<a href="#rfc.xref.SEMNTCS.4">2.3.3</a></li>
                           <li><em>Section 7.1.1.1</em>&nbsp;&nbsp;<a href="#rfc.xref.SEMNTCS.7">B</a></li>
                        </ul>
                     </li>
                  </ul>
               </li>
               <li><a id="rfc.index.V" href="#rfc.index.V"><b>V</b></a><ul>
                     <li>validator&nbsp;&nbsp;<a href="#rfc.section.2"><b>2</b></a><ul>
                           <li>strong&nbsp;&nbsp;<a href="#rfc.section.2.1"><b>2.1</b></a></li>
                           <li>weak&nbsp;&nbsp;<a href="#rfc.section.2.1"><b>2.1</b></a></li>
                        </ul>
                     </li>
                  </ul>
               </li>
            </ul>
         </div>
      </section>
      <section id="rfc.authors" class="avoidbreakinside">
         <h2><a href="#rfc.authors">Authors' Addresses</a></h2>
         <address><b>Roy T. Fielding</b> (editor)<br>Adobe Systems Incorporated<br>345 Park Ave<br>San Jose, CA&nbsp;95110<br>USA<br>Email: fielding@gbiv.com<br>URI: <a href="http://roy.gbiv.com/">http://roy.gbiv.com/</a></address>
         <address><b>Julian F. Reschke</b> (editor)<br>greenbytes GmbH<br>Hafenweg 16<br>Muenster, NW&nbsp;48155<br>Germany<br>Email: julian.reschke@greenbytes.de<br>URI: <a href="http://greenbytes.de/tech/webdav/">http://greenbytes.de/tech/webdav/</a></address>
      </section>
   </body>
</html>
