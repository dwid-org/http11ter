<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
   <head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests</title><script>
var buttonsAdded = false;

function init() {
  var fb = document.createElement("div");
  fb.className = "feedback noprint";
  fb.setAttribute("onclick", "feedback();");
  fb.appendChild(document.createTextNode("feedback"));

  var bodyl = document.getElementsByTagName("body");
  bodyl.item(0).appendChild(fb);
}

function feedback() {
  toggleButtonsToElementsByName("h1");
  toggleButtonsToElementsByName("h2");
  toggleButtonsToElementsByName("h3");
  toggleButtonsToElementsByName("h4");

  buttonsAdded = !buttonsAdded;
}

function toggleButtonsToElementsByName(name) {
  var list = document.getElementsByTagName(name);
  for (var i = 0; i < list.length; i++) {
    toggleButton(list.item(i));
  }
}

function toggleButton(node) {
  if (! buttonsAdded) {

    // docname
    var template = "mailto:ietf-http-wg@w3.org?subject={docname},%20%22{section}%22&body=<{ref}>:";

    var id = node.getAttribute("id");
    // better id available?
    var titlelinks = node.getElementsByTagName("a");
    for (var i = 0; i < titlelinks.length; i++) {
      var tl = titlelinks.item(i);
      if (tl.getAttribute("id")) {
        id = tl.getAttribute("id");
      }
    }

    // ref
    var ref = window.location.toString();
    var hash = ref.indexOf("#");
    if (hash != -1) {
      ref = ref.substring(0, hash);
    }
    if (id != "") {
      ref += "#" + id;
    }

    // docname
    var docname = "draft-ietf-httpbis-p4-conditional-latest";

    // section
    var section = node.textContent;
    section = section.replace("\u00a0", " ");

    // build URI from template
    var uri = template.replace("{docname}", encodeURIComponent(docname));
    uri = uri.replace("{section}", encodeURIComponent(section));
    uri = uri.replace("{ref}", encodeURIComponent(ref));

    var button = document.createElement("a");
    button.className = "fbbutton noprint";
    button.setAttribute("href", uri);
    button.appendChild(document.createTextNode("send feedback"));
    node.appendChild(button);
  }
  else {
    var buttons = node.getElementsByTagName("a");
    for (var i = 0; i < buttons.length; i++) {
      var b = buttons.item(i);
      if (b.className == "fbbutton noprint") {
        node.removeChild(b);
      }
    }
  }
}</script><style type="text/css" title="Xml2Rfc (sans serif)">
a {
  text-decoration: none;
}
a.smpl {
  color: black;
}
a:hover {
  text-decoration: underline;
}
a:active {
  text-decoration: underline;
}
address {
  margin-top: 1em;
  margin-left: 2em;
  font-style: normal;
}
body {
  color: black;
  font-family: verdana, helvetica, arial, sans-serif;
  font-size: 10pt;
  margin-right: 2em;
}
cite {
  font-style: normal;
}
div.note {
  margin-left: 2em;
}
dl {
  margin-left: 2em;
}
ul.empty {
  list-style-type: none;
}
ul.empty li {
  margin-top: .5em;
}
dl p {
  margin-left: 0em;
}
dt {
  margin-top: .5em;
}
h1 {
  font-size: 14pt;
  line-height: 21pt;
  page-break-after: avoid;
}
h1.np {
  page-break-before: always;
}
h1 a {
  color: #333333;
}
h2 {
  font-size: 12pt;
  line-height: 15pt;
  page-break-after: avoid;
}
h3, h4, h5, h6 {
  font-size: 10pt;
  page-break-after: avoid;
}
h2 a, h3 a, h4 a, h5 a, h6 a {
  color: black;
}
img {
  margin-left: 3em;
}
li {
  margin-left: 2em;
}
ol {
  margin-left: 2em;
}
ol.la {
  list-style-type: lower-alpha;
}
ol.ua {
  list-style-type: upper-alpha;
}
ol p {
  margin-left: 0em;
}
p {
  margin-left: 2em;
}
pre {
  margin-left: 3em;
  background-color: lightyellow;
  padding: .25em;
  page-break-inside: avoid;
}
pre.text2 {
  border-style: dotted;
  border-width: 1px;
  background-color: #f0f0f0;
  width: 69em;
}
pre.inline {
  background-color: white;
  padding: 0em;
}
pre.text {
  border-style: dotted;
  border-width: 1px;
  background-color: #f8f8f8;
  width: 69em;
}
pre.drawing {
  border-style: solid;
  border-width: 1px;
  background-color: #f8f8f8;
  padding: 2em;
}
table {
  margin-left: 2em;
}
table.tt {
  vertical-align: top;
}
table.full {
  border-style: outset;
  border-width: 1px;
}
table.headers {
  border-style: outset;
  border-width: 1px;
}
table.tt td {
  vertical-align: top;
}
table.full td {
  border-style: inset;
  border-width: 1px;
}
table.tt th {
  vertical-align: top;
}
table.full th {
  border-style: inset;
  border-width: 1px;
}
table.headers th {
  border-style: none none inset none;
  border-width: 1px;
}
table.left {
  margin-right: auto;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
caption {
  caption-side: bottom;
  font-weight: bold;
  font-size: 9pt;
  margin-top: .5em;
}

table.header {
  border-spacing: 1px;
  width: 95%;
  font-size: 10pt;
  color: white;
}
td.top {
  vertical-align: top;
}
td.topnowrap {
  vertical-align: top;
  white-space: nowrap;
}
table.header td {
  background-color: gray;
  width: 50%;
}
table.header a {
  color: white;
}
td.reference {
  vertical-align: top;
  white-space: nowrap;
  padding-right: 1em;
}
thead {
  display:table-header-group;
}
ul.toc, ul.toc ul {
  list-style: none;
  margin-left: 1.5em;
  padding-left: 0em;
}
ul.toc li {
  line-height: 150%;
  font-weight: bold;
  font-size: 10pt;
  margin-left: 0em;
}
ul.toc li li {
  line-height: normal;
  font-weight: normal;
  font-size: 9pt;
  margin-left: 0em;
}
li.excluded {
  font-size: 0pt;
}
ul p {
  margin-left: 0em;
}
ul.ind, ul.ind ul {
  list-style: none;
  margin-left: 1.5em;
  padding-left: 0em;
  page-break-before: avoid;
}
ul.ind li {
  font-weight: bold;
  line-height: 200%;
  margin-left: 0em;
}
ul.ind li li {
  font-weight: normal;
  line-height: 150%;
  margin-left: 0em;
}
.avoidbreak {
  page-break-inside: avoid;
}
.bcp14 {
  font-style: normal;
  text-transform: lowercase;
  font-variant: small-caps;
}
.comment {
  background-color: yellow;
}
.center {
  text-align: center;
}
.error {
  color: red;
  font-style: italic;
  font-weight: bold;
}
.figure {
  font-weight: bold;
  text-align: center;
  font-size: 9pt;
}
.filename {
  color: #333333;
  font-weight: bold;
  font-size: 12pt;
  line-height: 21pt;
  text-align: center;
}
.fn {
  font-weight: bold;
}
.hidden {
  display: none;
}
.left {
  text-align: left;
}
.right {
  text-align: right;
}
.title {
  color: #990000;
  font-size: 18pt;
  line-height: 18pt;
  font-weight: bold;
  text-align: center;
  margin-top: 36pt;
}
.vcardline {
  display: block;
}
.warning {
  font-size: 14pt;
  background-color: yellow;
}
.feedback {
  position: fixed;
  bottom: 1%;
  right: 1%;
  padding: 3px 5px;
  color: white;
  border-radius: 5px;
  background: #a00000;
  border: 1px solid silver;
}
.fbbutton {
  margin-left: 1em;
  color: #303030;
  font-size: small;
  font-weight: normal;
  background: #d0d000;
  padding: 1px 4px;
  border: 1px solid silver;
  border-radius: 5px;
}

@media print {
  .noprint {
    display: none;
  }

  a {
    color: black;
    text-decoration: none;
  }

  table.header {
    width: 90%;
  }

  td.header {
    width: 50%;
    color: black;
    background-color: white;
    vertical-align: top;
    font-size: 12pt;
  }

  ul.toc a:nth-child(2)::after {
    content: leader('.') target-counter(attr(href), page);
  }

  ul.ind li li a {
    content: target-counter(attr(href), page);
  }

  .print2col {
    column-count: 2;
    -moz-column-count: 2;
    column-fill: auto;
  }
}

@page {
  @top-left {
       content: "Internet-Draft";
  }
  @top-right {
       content: "July 2013";
  }
  @top-center {
       content: "HTTP/1.1 Conditional Requests";
  }
  @bottom-left {
       content: "Fielding & Reschke";
  }
  @bottom-center {
       content: "Expires January 2, 2014";
  }
  @bottom-right {
       content: "[Page " counter(page) "]";
  }
}

@page:first {
    @top-left {
      content: normal;
    }
    @top-right {
      content: normal;
    }
    @top-center {
      content: normal;
    }
}
</style><link rel="Contents" href="#rfc.toc">
      <link rel="Author" href="#rfc.authors">
      <link rel="Copyright" href="#rfc.copyrightnotice">
      <link rel="Index" href="#rfc.index">
      <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
      <link rel="Chapter" title="2 Validators" href="#rfc.section.2">
      <link rel="Chapter" title="3 Precondition Header Fields" href="#rfc.section.3">
      <link rel="Chapter" title="4 Status Code Definitions" href="#rfc.section.4">
      <link rel="Chapter" title="5 Evaluation and Precedence" href="#rfc.section.5">
      <link rel="Chapter" title="6 IANA Considerations" href="#rfc.section.6">
      <link rel="Chapter" title="7 Security Considerations" href="#rfc.section.7">
      <link rel="Chapter" title="8 Acknowledgments" href="#rfc.section.8">
      <link rel="Chapter" href="#rfc.section.9" title="9 References">
      <link rel="Appendix" title="A Changes from RFC 2616" href="#rfc.section.A">
      <link rel="Appendix" title="B Imported ABNF" href="#rfc.section.B">
      <link rel="Appendix" title="C Collected ABNF" href="#rfc.section.C">
      <link rel="Appendix" title="D Change Log (to be removed by RFC Editor before publication)" href="#rfc.section.D">
      <link href="p2-semantics.html" rel="prev">
      <link href="p5-range.html" rel="next">
      <meta name="generator" content="http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.598, 2013/06/23 14:11:10, XSLT vendor: SAXON 8.9 from Saxonica http://www.saxonica.com/">
      <link rel="schema.dct" href="http://purl.org/dc/terms/">
      <meta name="dct.creator" content="Fielding, R.">
      <meta name="dct.creator" content="Reschke, J. F.">
      <meta name="dct.identifier" content="urn:ietf:id:draft-ietf-httpbis-p4-conditional-latest">
      <meta name="dct.issued" scheme="ISO8601" content="2013-07-01">
      <meta name="dct.replaces" content="urn:ietf:rfc:2616">
      <meta name="dct.abstract" content="The Hypertext Transfer Protocol (HTTP) is an application-level protocol for distributed, collaborative, hypertext information systems. This document defines HTTP/1.1 conditional requests, including metadata header fields for indicating state changes, request header fields for making preconditions on such state, and rules for constructing the responses to a conditional request when one or more preconditions evaluate to false.">
      <meta name="description" content="The Hypertext Transfer Protocol (HTTP) is an application-level protocol for distributed, collaborative, hypertext information systems. This document defines HTTP/1.1 conditional requests, including metadata header fields for indicating state changes, request header fields for making preconditions on such state, and rules for constructing the responses to a conditional request when one or more preconditions evaluate to false.">
   </head>
   <body onload="init();">
      <table class="header">
         <tbody>
            <tr>
               <td class="left">HTTPbis Working Group</td>
               <td class="right">R. Fielding, Editor</td>
            </tr>
            <tr>
               <td class="left">Internet-Draft</td>
               <td class="right">Adobe</td>
            </tr>
            <tr>
               <td class="left">Obsoletes: <a href="http://tools.ietf.org/html/rfc2616">2616</a> (if approved)
               </td>
               <td class="right">J. Reschke, Editor</td>
            </tr>
            <tr>
               <td class="left">Intended status: Standards Track</td>
               <td class="right">greenbytes</td>
            </tr>
            <tr>
               <td class="left">Expires: January 2, 2014</td>
               <td class="right">July 1, 2013</td>
            </tr>
         </tbody>
      </table>
      <p class="title">Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests<br><span class="filename">draft-ietf-httpbis-p4-conditional-latest</span></p>
      <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
      <p>The Hypertext Transfer Protocol (HTTP) is an application-level protocol for distributed, collaborative, hypertext information
         systems. This document defines HTTP/1.1 conditional requests, including metadata header fields for indicating state changes,
         request header fields for making preconditions on such state, and rules for constructing the responses to a conditional request
         when one or more preconditions evaluate to false.
      </p>
      <h1 id="rfc.note.1"><a href="#rfc.note.1">Editorial Note (To be removed by RFC Editor)</a></h1>
      <p>Discussion of this draft takes place on the HTTPBIS working group mailing list (ietf-http-wg@w3.org), which is archived at &lt;<a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">http://lists.w3.org/Archives/Public/ietf-http-wg/</a>&gt;.
      </p>
      <p>The current issues list is at &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/report/3">http://tools.ietf.org/wg/httpbis/trac/report/3</a>&gt; and related documents (including fancy diffs) can be found at &lt;<a href="http://tools.ietf.org/wg/httpbis/">http://tools.ietf.org/wg/httpbis/</a>&gt;.
      </p>
      <p>The changes in this draft are summarized in <a href="#changes.since.22" title="Since draft-ietf-httpbis-p4-conditional-22">Appendix&nbsp;D.4</a>.
      </p>
      <h1><a id="rfc.status" href="#rfc.status">Status of This Memo</a></h1>
      <p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
      <p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF). Note that other groups may also distribute
         working documents as Internet-Drafts. The list of current Internet-Drafts is at <a href="http://datatracker.ietf.org/drafts/current/">http://datatracker.ietf.org/drafts/current/</a>.
      </p>
      <p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other
         documents at any time. It is inappropriate to use Internet-Drafts as reference material or to cite them other than as “work
         in progress”.
      </p>
      <p>This Internet-Draft will expire on January 2, 2014.</p>
      <h1><a id="rfc.copyrightnotice" href="#rfc.copyrightnotice">Copyright Notice</a></h1>
      <p>Copyright © 2013 IETF Trust and the persons identified as the document authors. All rights reserved.</p>
      <p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights
         and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License
         text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified
         BSD License.
      </p>
      <p>This document may contain material from IETF Documents or IETF Contributions published or made publicly available before November
         10, 2008. The person(s) controlling the copyright in some of this material may not have granted the IETF Trust the right to
         allow modifications of such material outside the IETF Standards Process. Without obtaining an adequate license from the person(s)
         controlling the copyright in such materials, this document may not be modified outside the IETF Standards Process, and derivative
         works of it may not be created outside the IETF Standards Process, except to format it for publication as an RFC or to translate
         it into languages other than English.
      </p>
      <hr class="noprint">
      <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
      <ul class="toc">
         <li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#introduction">Introduction</a><ul>
               <li><a href="#rfc.section.1.1">1.1</a>&nbsp;&nbsp;&nbsp;<a href="#conformance">Conformance and Error Handling</a></li>
               <li><a href="#rfc.section.1.2">1.2</a>&nbsp;&nbsp;&nbsp;<a href="#notation">Syntax Notation</a></li>
            </ul>
         </li>
         <li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#validators">Validators</a><ul>
               <li><a href="#rfc.section.2.1">2.1</a>&nbsp;&nbsp;&nbsp;<a href="#weak.and.strong.validators">Weak versus Strong</a></li>
               <li><a href="#rfc.section.2.2">2.2</a>&nbsp;&nbsp;&nbsp;<a href="#header.last-modified">Last-Modified</a><ul>
                     <li><a href="#rfc.section.2.2.1">2.2.1</a>&nbsp;&nbsp;&nbsp;<a href="#lastmod.generation">Generation</a></li>
                     <li><a href="#rfc.section.2.2.2">2.2.2</a>&nbsp;&nbsp;&nbsp;<a href="#lastmod.comparison">Comparison</a></li>
                  </ul>
               </li>
               <li><a href="#rfc.section.2.3">2.3</a>&nbsp;&nbsp;&nbsp;<a href="#header.etag">ETag</a><ul>
                     <li><a href="#rfc.section.2.3.1">2.3.1</a>&nbsp;&nbsp;&nbsp;<a href="#entity.tag.generation">Generation</a></li>
                     <li><a href="#rfc.section.2.3.2">2.3.2</a>&nbsp;&nbsp;&nbsp;<a href="#entity.tag.comparison">Comparison</a></li>
                     <li><a href="#rfc.section.2.3.3">2.3.3</a>&nbsp;&nbsp;&nbsp;<a href="#example.entity.tag.vs.conneg">Example: Entity-tags Varying on Content-Negotiated Resources</a></li>
                  </ul>
               </li>
               <li><a href="#rfc.section.2.4">2.4</a>&nbsp;&nbsp;&nbsp;<a href="#when.to.use.entity.tags.and.last-modified.dates">When to Use Entity-tags and Last-Modified Dates</a></li>
            </ul>
         </li>
         <li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#header.field.definitions">Precondition Header Fields</a><ul>
               <li><a href="#rfc.section.3.1">3.1</a>&nbsp;&nbsp;&nbsp;<a href="#header.if-match">If-Match</a></li>
               <li><a href="#rfc.section.3.2">3.2</a>&nbsp;&nbsp;&nbsp;<a href="#header.if-none-match">If-None-Match</a></li>
               <li><a href="#rfc.section.3.3">3.3</a>&nbsp;&nbsp;&nbsp;<a href="#header.if-modified-since">If-Modified-Since</a></li>
               <li><a href="#rfc.section.3.4">3.4</a>&nbsp;&nbsp;&nbsp;<a href="#header.if-unmodified-since">If-Unmodified-Since</a></li>
               <li><a href="#rfc.section.3.5">3.5</a>&nbsp;&nbsp;&nbsp;<a href="#header.if-range">If-Range</a></li>
            </ul>
         </li>
         <li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#status.code.definitions">Status Code Definitions</a><ul>
               <li><a href="#rfc.section.4.1">4.1</a>&nbsp;&nbsp;&nbsp;<a href="#status.304">304 Not Modified</a></li>
               <li><a href="#rfc.section.4.2">4.2</a>&nbsp;&nbsp;&nbsp;<a href="#status.412">412 Precondition Failed</a></li>
            </ul>
         </li>
         <li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#precedence">Evaluation and Precedence</a></li>
         <li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#IANA.considerations">IANA Considerations</a><ul>
               <li><a href="#rfc.section.6.1">6.1</a>&nbsp;&nbsp;&nbsp;<a href="#status.code.registration">Status Code Registration</a></li>
               <li><a href="#rfc.section.6.2">6.2</a>&nbsp;&nbsp;&nbsp;<a href="#header.field.registration">Header Field Registration</a></li>
            </ul>
         </li>
         <li><a href="#rfc.section.7">7.</a>&nbsp;&nbsp;&nbsp;<a href="#security.considerations">Security Considerations</a></li>
         <li><a href="#rfc.section.8">8.</a>&nbsp;&nbsp;&nbsp;<a href="#acks">Acknowledgments</a></li>
         <li><a href="#rfc.section.9">9.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">References</a><ul>
               <li><a href="#rfc.section.9.1">9.1</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references.1">Normative References</a></li>
               <li><a href="#rfc.section.9.2">9.2</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references.2">Informative References</a></li>
            </ul>
         </li>
         <li><a href="#rfc.authors">Authors' Addresses</a></li>
         <li><a href="#rfc.section.A">A.</a>&nbsp;&nbsp;&nbsp;<a href="#changes.from.rfc.2616">Changes from RFC 2616</a></li>
         <li><a href="#rfc.section.B">B.</a>&nbsp;&nbsp;&nbsp;<a href="#imported.abnf">Imported ABNF</a></li>
         <li><a href="#rfc.section.C">C.</a>&nbsp;&nbsp;&nbsp;<a href="#collected.abnf">Collected ABNF</a></li>
         <li><a href="#rfc.section.D">D.</a>&nbsp;&nbsp;&nbsp;<a href="#change.log">Change Log (to be removed by RFC Editor before publication)</a><ul>
               <li><a href="#rfc.section.D.1">D.1</a>&nbsp;&nbsp;&nbsp;<a href="#changes.since.19">Since draft-ietf-httpbis-p4-conditional-19</a></li>
               <li><a href="#rfc.section.D.2">D.2</a>&nbsp;&nbsp;&nbsp;<a href="#changes.since.20">Since draft-ietf-httpbis-p4-conditional-20</a></li>
               <li><a href="#rfc.section.D.3">D.3</a>&nbsp;&nbsp;&nbsp;<a href="#changes.since.21">Since draft-ietf-httpbis-p4-conditional-21</a></li>
               <li><a href="#rfc.section.D.4">D.4</a>&nbsp;&nbsp;&nbsp;<a href="#changes.since.22">Since draft-ietf-httpbis-p4-conditional-22</a></li>
            </ul>
         </li>
         <li><a href="#rfc.index">Index</a></li>
      </ul>
      <h1 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a id="introduction" href="#introduction">Introduction</a></h1>
      <p id="rfc.section.1.p.1">Conditional requests are HTTP requests <a href="#Part2" id="rfc.xref.Part2.1"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[Part2]</cite></a> that include one or more header fields indicating a precondition to be tested before applying the method semantics to the
         target resource. This document defines the HTTP/1.1 conditional request mechanisms in terms of the architecture, syntax notation,
         and conformance criteria defined in <a href="#Part1" id="rfc.xref.Part1.1"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[Part1]</cite></a>.
      </p>
      <p id="rfc.section.1.p.2">Conditional GET requests are the most efficient mechanism for HTTP cache updates <a href="#Part6" id="rfc.xref.Part6.1"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Caching">[Part6]</cite></a>. Conditionals can also be applied to state-changing methods, such as PUT and DELETE, to prevent the "lost update" problem:
         one client accidentally overwriting the work of another client that has been acting in parallel.
      </p>
      <p id="rfc.section.1.p.3"><span id="rfc.iref.s.1"></span> Conditional request preconditions are based on the state of the target resource as a whole (its current value set) or the
         state as observed in a previously obtained representation (one value in that set). A resource might have multiple current
         representations, each with its own observable state. The conditional request mechanisms assume that the mapping of requests
         to a "selected representation" (<a href="p2-semantics.html#representations" title="Representations">Section 3</a> of <a href="#Part2" id="rfc.xref.Part2.2"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[Part2]</cite></a>) will be consistent over time if the server intends to take advantage of conditionals. Regardless, if the mapping is inconsistent
         and the server is unable to select the appropriate representation, then no harm will result when the precondition evaluates
         to false.
      </p>
      <p id="rfc.section.1.p.4">The conditional request preconditions defined by this specification are evaluated by comparing the validators provided in
         the conditional request header fields to the current validators for the selected representation in the order defined by <a href="#precedence" title="Evaluation and Precedence">Section&nbsp;5</a>.
      </p>
      <h2 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1</a>&nbsp;<a id="conformance" href="#conformance">Conformance and Error Handling</a></h2>
      <p id="rfc.section.1.1.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL"
         in this document are to be interpreted as described in <a href="#RFC2119" id="rfc.xref.RFC2119.1"><cite title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>.
      </p>
      <p id="rfc.section.1.1.p.2">Conformance criteria and considerations regarding error handling are defined in <a href="p1-messaging.html#conformance" title="Conformance and Error Handling">Section 2.5</a> of <a href="#Part1" id="rfc.xref.Part1.2"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[Part1]</cite></a>.
      </p>
      <h2 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2</a>&nbsp;<a id="notation" href="#notation">Syntax Notation</a></h2>
      <p id="rfc.section.1.2.p.1">This specification uses the Augmented Backus-Naur Form (ABNF) notation of <a href="#RFC5234" id="rfc.xref.RFC5234.1"><cite title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a> with the list rule extension defined in <a href="p1-messaging.html#notation" title="Syntax Notation">Section 1.2</a> of <a href="#Part1" id="rfc.xref.Part1.3"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[Part1]</cite></a>. <a href="#imported.abnf" title="Imported ABNF">Appendix&nbsp;B</a> describes rules imported from other documents. <a href="#collected.abnf" title="Collected ABNF">Appendix&nbsp;C</a> shows the collected ABNF with the list rule expanded.
      </p>
      <div id="rfc.iref.m.1"></div>
      <div id="rfc.iref.v.1"></div>
      <h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;<a id="validators" href="#validators">Validators</a></h1>
      <p id="rfc.section.2.p.1">This specification defines two forms of metadata that are commonly used to observe resource state and test for preconditions:
         modification dates (<a href="#header.last-modified" id="rfc.xref.header.last-modified.1" title="Last-Modified">Section&nbsp;2.2</a>) and opaque entity tags (<a href="#header.etag" id="rfc.xref.header.etag.1" title="ETag">Section&nbsp;2.3</a>). Additional metadata that reflects resource state has been defined by various extensions of HTTP, such as WebDAV <a href="#RFC4918" id="rfc.xref.RFC4918.1"><cite title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite></a>, that are beyond the scope of this specification. A resource metadata value is referred to as a "<dfn>validator</dfn>" when it is used within a precondition.
      </p>
      <div id="rfc.iref.v.2"></div>
      <div id="rfc.iref.v.3"></div>
      <h2 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1</a>&nbsp;<a id="weak.and.strong.validators" href="#weak.and.strong.validators">Weak versus Strong</a></h2>
      <p id="rfc.section.2.1.p.1">Validators come in two flavors: strong or weak. Weak validators are easy to generate but are far less useful for comparisons.
         Strong validators are ideal for comparisons but can be very difficult (and occasionally impossible) to generate efficiently.
         Rather than impose that all forms of resource adhere to the same strength of validator, HTTP exposes the type of validator
         in use and imposes restrictions on when weak validators can be used as preconditions.
      </p>
      <p id="rfc.section.2.1.p.2">A "strong validator" is representation metadata that changes value whenever a change occurs to the representation data that
         would be observable in the payload body of a <a href="p2-semantics.html#status.200" class="smpl">200 (OK)</a> response to GET.
      </p>
      <p id="rfc.section.2.1.p.3">A strong validator might change for other reasons, such as when a semantically significant part of the representation metadata
         is changed (e.g., <a href="p2-semantics.html#header.content-type" class="smpl">Content-Type</a>), but it is in the best interests of the origin server to only change the value when it is necessary to invalidate the stored
         responses held by remote caches and authoring tools. A strong validator is unique across all representations of a given resource,
         such that no two representations of that resource can share the same validator unless their representation data is identical.
      </p>
      <p id="rfc.section.2.1.p.4">Cache entries might persist for arbitrarily long periods, regardless of expiration times. Thus, a cache might attempt to validate
         an entry using a validator that it obtained in the distant past. A strong validator is unique across all versions of all representations
         associated with a particular resource over time. However, there is no implication of uniqueness across representations of
         different resources (i.e., the same strong validator might be in use for representations of multiple resources at the same
         time and does not imply that those representations are equivalent).
      </p>
      <p id="rfc.section.2.1.p.5">There are a variety of strong validators used in practice. The best are based on strict revision control, wherein each change
         to a representation always results in a unique node name and revision identifier being assigned before the representation
         is made accessible to GET. A collision-resistant hash function applied to the representation data is also sufficient if the
         data is available prior to the response header fields being sent and the digest does not need to be recalculated every time
         a validation request is received. However, if a resource has distinct representations that differ only in their metadata,
         such as might occur with content negotiation over media types that happen to share the same data format, then the origin server <em class="bcp14">SHOULD</em> incorporate additional information in the validator to distinguish those representations.
      </p>
      <p id="rfc.section.2.1.p.6">In contrast, a "weak validator" is representation metadata that might not change for every change to the representation data.
         This weakness might be due to limitations in how the value is calculated, such as clock resolution or an inability to ensure
         uniqueness for all possible representations of the resource, or due to a desire by the resource owner to group representations
         by some self-determined set of equivalency rather than unique sequences of data. An origin server <em class="bcp14">SHOULD</em> change a weak entity-tag whenever it considers prior representations to be unacceptable as a substitute for the current representation.
         In other words, a weak entity-tag ought to change whenever the origin server wants caches to invalidate old responses.
      </p>
      <p id="rfc.section.2.1.p.7">For example, the representation of a weather report that changes in content every second, based on dynamic measurements, might
         be grouped into sets of equivalent representations (from the origin server's perspective) with the same weak validator in
         order to allow cached representations to be valid for a reasonable period of time (perhaps adjusted dynamically based on server
         load or weather quality). Likewise, a representation's modification time, if defined with only one-second resolution, might
         be a weak validator if it is possible for the representation to be modified twice during a single second and retrieved between
         those modifications.
      </p>
      <p id="rfc.section.2.1.p.8">Likewise, a validator is weak if it is shared by two or more representations of a given resource at the same time, unless
         those representations have identical representation data. For example, if the origin server sends the same validator for a
         representation with a gzip content coding applied as it does for a representation with no content coding, then that validator
         is weak. However, two simultaneous representations might share the same strong validator if they differ only in the representation
         metadata, such as when two different media types are available for the same representation data.
      </p>
      <p id="rfc.section.2.1.p.9">A "use" of a validator occurs when either a client generates a request and includes the validator in a precondition or when
         a server compares two validators. Weak validators are only usable in contexts that do not depend on exact equality of the
         representation data. Strong validators are usable and preferred for all conditional requests, including cache validation,
         partial content ranges, and "lost update" avoidance.
      </p>
      <div id="rfc.iref.l.1"></div>
      <h2 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2</a>&nbsp;<a id="header.last-modified" href="#header.last-modified">Last-Modified</a></h2>
      <p id="rfc.section.2.2.p.1">The "Last-Modified" header field in a response provides a timestamp indicating the date and time at which the origin server
         believes the selected representation was last modified, as determined at the conclusion of handling the request.
      </p>
      <div id="rfc.figure.u.1"></div><pre class="inline"><span id="rfc.iref.g.1"></span>  <a href="#header.last-modified" class="smpl">Last-Modified</a> = <a href="#imported.abnf" class="smpl">HTTP-date</a>
</pre><p id="rfc.section.2.2.p.3">An example of its use is</p>
      <div id="rfc.figure.u.2"></div><pre class="text">  Last-Modified: Tue, 15 Nov 1994 12:45:26 GMT
</pre><h3 id="rfc.section.2.2.1"><a href="#rfc.section.2.2.1">2.2.1</a>&nbsp;<a id="lastmod.generation" href="#lastmod.generation">Generation</a></h3>
      <p id="rfc.section.2.2.1.p.1">Origin servers <em class="bcp14">SHOULD</em> send Last-Modified for any selected representation for which a last modification date can be reasonably and consistently determined,
         since its use in conditional requests and evaluating cache freshness (<a href="#Part6" id="rfc.xref.Part6.2"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Caching">[Part6]</cite></a>) results in a substantial reduction of HTTP traffic on the Internet and can be a significant factor in improving service
         scalability and reliability.
      </p>
      <p id="rfc.section.2.2.1.p.2">A representation is typically the sum of many parts behind the resource interface. The last-modified time would usually be
         the most recent time that any of those parts were changed. How that value is determined for any given resource is an implementation
         detail beyond the scope of this specification. What matters to HTTP is how recipients of the Last-Modified header field can
         use its value to make conditional requests and test the validity of locally cached responses.
      </p>
      <p id="rfc.section.2.2.1.p.3">An origin server <em class="bcp14">SHOULD</em> obtain the Last-Modified value of the representation as close as possible to the time that it generates the <a href="p2-semantics.html#header.date" class="smpl">Date</a> field value for its response. This allows a recipient to make an accurate assessment of the representation's modification
         time, especially if the representation changes near the time that the response is generated.
      </p>
      <p id="rfc.section.2.2.1.p.4">An origin server with a clock <em class="bcp14">MUST NOT</em> send a Last-Modified date that is later than the server's time of message origination (<a href="p2-semantics.html#header.date" class="smpl">Date</a>). If the last modification time is derived from implementation-specific metadata that evaluates to some time in the future,
         according to the origin server's clock, then the origin server <em class="bcp14">MUST</em> replace that value with the message origination date. This prevents a future modification date from having an adverse impact
         on cache validation.
      </p>
      <p id="rfc.section.2.2.1.p.5">An origin server without a clock <em class="bcp14">MUST NOT</em> assign Last-Modified values to a response unless these values were associated with the resource by some other system or user
         with a reliable clock.
      </p>
      <h3 id="rfc.section.2.2.2"><a href="#rfc.section.2.2.2">2.2.2</a>&nbsp;<a id="lastmod.comparison" href="#lastmod.comparison">Comparison</a></h3>
      <p id="rfc.section.2.2.2.p.1">A Last-Modified time, when used as a validator in a request, is implicitly weak unless it is possible to deduce that it is
         strong, using the following rules: 
      </p>
      <ul>
         <li>The validator is being compared by an origin server to the actual current validator for the representation and,</li>
         <li>That origin server reliably knows that the associated representation did not change twice during the second covered by the
            presented validator.
         </li>
      </ul>
      <p id="rfc.section.2.2.2.p.2">or </p>
      <ul>
         <li>The validator is about to be used by a client in an <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a>, <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a> header field, because the client has a cache entry, or <a href="p5-range.html#header.if-range" class="smpl">If-Range</a> for the associated representation, and
         </li>
         <li>That cache entry includes a <a href="p2-semantics.html#header.date" class="smpl">Date</a> value, which gives the time when the origin server sent the original response, and
         </li>
         <li>The presented Last-Modified time is at least 60 seconds before the Date value.</li>
      </ul>
      <p id="rfc.section.2.2.2.p.3">or </p>
      <ul>
         <li>The validator is being compared by an intermediate cache to the validator stored in its cache entry for the representation,
            and
         </li>
         <li>That cache entry includes a <a href="p2-semantics.html#header.date" class="smpl">Date</a> value, which gives the time when the origin server sent the original response, and
         </li>
         <li>The presented Last-Modified time is at least 60 seconds before the Date value.</li>
      </ul>
      <p id="rfc.section.2.2.2.p.4">This method relies on the fact that if two different responses were sent by the origin server during the same second, but
         both had the same Last-Modified time, then at least one of those responses would have a <a href="p2-semantics.html#header.date" class="smpl">Date</a> value equal to its Last-Modified time. The arbitrary 60-second limit guards against the possibility that the Date and Last-Modified
         values are generated from different clocks, or at somewhat different times during the preparation of the response. An implementation <em class="bcp14">MAY</em> use a value larger than 60 seconds, if it is believed that 60 seconds is too short.
      </p>
      <div id="rfc.iref.e.1"></div>
      <h2 id="rfc.section.2.3"><a href="#rfc.section.2.3">2.3</a>&nbsp;<a id="header.etag" href="#header.etag">ETag</a></h2>
      <p id="rfc.section.2.3.p.1">The "ETag" header field in a response provides the current entity-tag for the selected representation, as determined at the
         conclusion of handling the request. An entity-tag is an opaque validator for differentiating between multiple representations
         of the same resource, regardless of whether those multiple representations are due to resource state changes over time, content
         negotiation resulting in multiple representations being valid at the same time, or both. An entity-tag consists of an opaque
         quoted string, possibly prefixed by a weakness indicator.
      </p>
      <div id="rfc.figure.u.3"></div><pre class="inline"><span id="rfc.iref.g.2"></span><span id="rfc.iref.g.3"></span><span id="rfc.iref.g.4"></span><span id="rfc.iref.g.5"></span><span id="rfc.iref.g.6"></span>  <a href="#header.etag" class="smpl">ETag</a>       = <a href="#header.etag" class="smpl">entity-tag</a>

  <a href="#header.etag" class="smpl">entity-tag</a> = [ <a href="#header.etag" class="smpl">weak</a> ] <a href="#header.etag" class="smpl">opaque-tag</a>
  <a href="#header.etag" class="smpl">weak</a>       = %x57.2F ; "W/", case-sensitive
  <a href="#header.etag" class="smpl">opaque-tag</a> = <a href="#imported.abnf" class="smpl">DQUOTE</a> *<a href="#header.etag" class="smpl">etagc</a> <a href="#imported.abnf" class="smpl">DQUOTE</a>
  <a href="#header.etag" class="smpl">etagc</a>      = %x21 / %x23-7E / <a href="#imported.abnf" class="smpl">obs-text</a>
             ; <a href="#imported.abnf" class="smpl">VCHAR</a> except double quotes, plus obs-text
</pre><div class="note" id="rfc.section.2.3.p.3">
         <p><b>Note:</b> Previously, opaque-tag was defined to be a quoted-string (<a href="#RFC2616" id="rfc.xref.RFC2616.1"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>, <a href="http://tools.ietf.org/html/rfc2616#section-3.11">Section 3.11</a>), thus some recipients might perform backslash unescaping. Servers therefore ought to avoid backslash characters in entity
            tags.
         </p> 
      </div>
      <p id="rfc.section.2.3.p.4">An entity-tag can be more reliable for validation than a modification date in situations where it is inconvenient to store
         modification dates, where the one-second resolution of HTTP date values is not sufficient, or where modification dates are
         not consistently maintained.
      </p>
      <div id="rfc.figure.u.4"></div>
      <p>Examples:</p><pre class="text">  ETag: "xyzzy"
  ETag: W/"xyzzy"
  ETag: ""
</pre><p id="rfc.section.2.3.p.6">An entity-tag can be either a weak or strong validator, with strong being the default. If an origin server provides an entity-tag
         for a representation and the generation of that entity-tag does not satisfy all of the characteristics of a strong validator
         (<a href="#weak.and.strong.validators" title="Weak versus Strong">Section&nbsp;2.1</a>), then the origin server <em class="bcp14">MUST</em> mark the entity-tag as weak by prefixing its opaque value with "W/" (case-sensitive).
      </p>
      <h3 id="rfc.section.2.3.1"><a href="#rfc.section.2.3.1">2.3.1</a>&nbsp;<a id="entity.tag.generation" href="#entity.tag.generation">Generation</a></h3>
      <p id="rfc.section.2.3.1.p.1">The principle behind entity-tags is that only the service author knows the implementation of a resource well enough to select
         the most accurate and efficient validation mechanism for that resource, and that any such mechanism can be mapped to a simple
         sequence of octets for easy comparison. Since the value is opaque, there is no need for the client to be aware of how each
         entity-tag is constructed.
      </p>
      <p id="rfc.section.2.3.1.p.2">For example, a resource that has implementation-specific versioning applied to all changes might use an internal revision
         number, perhaps combined with a variance identifier for content negotiation, to accurately differentiate between representations.
         Other implementations might use a collision-resistant hash of representation content, a combination of various filesystem
         attributes, or a modification timestamp that has sub-second resolution.
      </p>
      <p id="rfc.section.2.3.1.p.3">Origin servers <em class="bcp14">SHOULD</em> send ETag for any selected representation for which detection of changes can be reasonably and consistently determined, since
         the entity-tag's use in conditional requests and evaluating cache freshness (<a href="#Part6" id="rfc.xref.Part6.3"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Caching">[Part6]</cite></a>) can result in a substantial reduction of HTTP network traffic and can be a significant factor in improving service scalability
         and reliability.
      </p>
      <h3 id="rfc.section.2.3.2"><a href="#rfc.section.2.3.2">2.3.2</a>&nbsp;<a id="entity.tag.comparison" href="#entity.tag.comparison">Comparison</a></h3>
      <p id="rfc.section.2.3.2.p.1">There are two entity-tag comparison functions, depending on whether the comparison context allows the use of weak validators
         or not: 
      </p>
      <ul>
         <li><dfn>Strong comparison</dfn>: two entity-tags are equivalent if both are not weak and their opaque-tags match character-by-character.
         </li>
         <li><dfn>Weak comparison</dfn>: two entity-tags are equivalent if their opaque-tags match character-by-character, regardless of either or both being tagged
            as "weak".
         </li>
      </ul>
      <p id="rfc.section.2.3.2.p.2">The example below shows the results for a set of entity-tag pairs, and both the weak and strong comparison function results:</p>
      <div id="rfc.table.u.1">
         <table class="tt full left" cellpadding="3" cellspacing="0">
            <thead>
               <tr>
                  <th>ETag 1</th>
                  <th>ETag 2</th>
                  <th>Strong Comparison</th>
                  <th>Weak Comparison</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="left">W/"1"</td>
                  <td class="left">W/"1"</td>
                  <td class="left">no match</td>
                  <td class="left">match</td>
               </tr>
               <tr>
                  <td class="left">W/"1"</td>
                  <td class="left">W/"2"</td>
                  <td class="left">no match</td>
                  <td class="left">no match</td>
               </tr>
               <tr>
                  <td class="left">W/"1"</td>
                  <td class="left">"1"</td>
                  <td class="left">no match</td>
                  <td class="left">match</td>
               </tr>
               <tr>
                  <td class="left">"1"</td>
                  <td class="left">"1"</td>
                  <td class="left">match</td>
                  <td class="left">match</td>
               </tr>
            </tbody>
         </table>
      </div>
      <h3 id="rfc.section.2.3.3"><a href="#rfc.section.2.3.3">2.3.3</a>&nbsp;<a id="example.entity.tag.vs.conneg" href="#example.entity.tag.vs.conneg">Example: Entity-tags Varying on Content-Negotiated Resources</a></h3>
      <p id="rfc.section.2.3.3.p.1">Consider a resource that is subject to content negotiation (<a href="p2-semantics.html#content.negotiation" title="Content Negotiation">Section 3.4</a> of <a href="#Part2" id="rfc.xref.Part2.3"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[Part2]</cite></a>), and where the representations sent in response to a GET request vary based on the <a href="p2-semantics.html#header.accept-encoding" class="smpl">Accept-Encoding</a> request header field (<a href="p2-semantics.html#header.accept-encoding" title="Accept-Encoding">Section 5.3.4</a> of <a href="#Part2" id="rfc.xref.Part2.4"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[Part2]</cite></a>):
      </p>
      <div id="rfc.figure.u.5"></div>
      <p>&gt;&gt; Request:</p><pre class="text2">GET /index HTTP/1.1
Host: www.example.com
Accept-Encoding: gzip

</pre><p id="rfc.section.2.3.3.p.3">In this case, the response might or might not use the gzip content coding. If it does not, the response might look like:</p>
      <div id="rfc.figure.u.6"></div>
      <p>&gt;&gt; Response:</p><pre class="text">HTTP/1.1 200 OK
Date: Fri, 26 Mar 2010 00:05:00 GMT
ETag: "123-a"
Content-Length: 70
Vary: Accept-Encoding
Content-Type: text/plain

<span id="exbody">Hello World!
Hello World!
Hello World!
Hello World!
Hello World!
</span></pre><p id="rfc.section.2.3.3.p.5">An alternative representation that does use gzip content coding would be:</p>
      <div id="rfc.figure.u.7"></div>
      <p>&gt;&gt; Response:</p><pre class="text">HTTP/1.1 200 OK
Date: Fri, 26 Mar 2010 00:05:00 GMT
ETag: "123-b"
Content-Length: 43
Vary: Accept-Encoding
Content-Type: text/plain
Content-Encoding: gzip

<em>...binary data...</em></pre><div class="note" id="rfc.section.2.3.3.p.7">
         <p><b>Note:</b> Content codings are a property of the representation, so therefore an entity-tag of an encoded representation has to be distinct
            from an unencoded representation to prevent conflicts during cache updates and range requests. In contrast, transfer codings
            (<a href="p1-messaging.html#transfer.codings" title="Transfer Codings">Section 4</a> of <a href="#Part1" id="rfc.xref.Part1.4"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[Part1]</cite></a>) apply only during message transfer and do not require distinct entity-tags.
         </p> 
      </div>
      <h2 id="rfc.section.2.4"><a href="#rfc.section.2.4">2.4</a>&nbsp;<a id="when.to.use.entity.tags.and.last-modified.dates" href="#when.to.use.entity.tags.and.last-modified.dates">When to Use Entity-tags and Last-Modified Dates</a></h2>
      <p id="rfc.section.2.4.p.1">We adopt a set of rules and recommendations for origin servers, clients, and caches regarding when various validator types
         ought to be used, and for what purposes.
      </p>
      <p id="rfc.section.2.4.p.2">In <a href="p2-semantics.html#status.200" class="smpl">200 (OK)</a> responses to GET or HEAD, an origin server: 
      </p>
      <ul>
         <li><em class="bcp14">SHOULD</em> send an entity-tag validator unless it is not feasible to generate one.
         </li>
         <li><em class="bcp14">MAY</em> send a weak entity-tag instead of a strong entity-tag, if performance considerations support the use of weak entity-tags,
            or if it is unfeasible to send a strong entity-tag.
         </li>
         <li><em class="bcp14">SHOULD</em> send a <a href="#header.last-modified" class="smpl">Last-Modified</a> value if it is feasible to send one.
         </li>
      </ul>
      <p id="rfc.section.2.4.p.3">In other words, the preferred behavior for an origin server is to send both a strong entity-tag and a <a href="#header.last-modified" class="smpl">Last-Modified</a> value in successful responses to a retrieval request.
      </p>
      <p id="rfc.section.2.4.p.4">A client: </p>
      <ul>
         <li><em class="bcp14">MUST</em> use that entity-tag in any cache-conditional request (using <a href="#header.if-match" class="smpl">If-Match</a> or <a href="#header.if-none-match" class="smpl">If-None-Match</a>) if an entity-tag has been provided by the origin server.
         </li>
         <li><em class="bcp14">SHOULD</em> use the <a href="#header.last-modified" class="smpl">Last-Modified</a> value in non-subrange cache-conditional requests (using <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a>) if only a Last-Modified value has been provided by the origin server.
         </li>
         <li><em class="bcp14">MAY</em> use the <a href="#header.last-modified" class="smpl">Last-Modified</a> value in subrange cache-conditional requests (using <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a>) if only a Last-Modified value has been provided by an HTTP/1.0 origin server. The user agent <em class="bcp14">SHOULD</em> provide a way to disable this, in case of difficulty.
         </li>
         <li><em class="bcp14">SHOULD</em> use both validators in cache-conditional requests if both an entity-tag and a <a href="#header.last-modified" class="smpl">Last-Modified</a> value have been provided by the origin server. This allows both HTTP/1.0 and HTTP/1.1 caches to respond appropriately.
         </li>
      </ul>
      <h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a id="header.field.definitions" href="#header.field.definitions">Precondition Header Fields</a></h1>
      <p id="rfc.section.3.p.1">This section defines the syntax and semantics of HTTP/1.1 header fields for applying preconditions on requests. <a href="#precedence" title="Evaluation and Precedence">Section&nbsp;5</a> defines when the preconditions are applied and the order of evaluation when more than one precondition is present.
      </p>
      <div id="rfc.iref.i.1"></div>
      <h2 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1</a>&nbsp;<a id="header.if-match" href="#header.if-match">If-Match</a></h2>
      <p id="rfc.section.3.1.p.1">The "If-Match" header field can be used to make a request method conditional on the current existence or value of an entity-tag
         for one or more representations of the target resource.
      </p>
      <p id="rfc.section.3.1.p.2">If-Match is generally useful for resource update requests, such as PUT requests, as a means for protecting against accidental
         overwrites when multiple clients are acting in parallel on the same resource (i.e., the "lost update" problem). An If-Match
         field-value of "*" places the precondition on the existence of any current representation for the target resource.
      </p>
      <div id="rfc.figure.u.8"></div><pre class="inline"><span id="rfc.iref.g.7"></span>  <a href="#header.if-match" class="smpl">If-Match</a> = "*" / 1#<a href="#header.etag" class="smpl">entity-tag</a>
</pre><p id="rfc.section.3.1.p.4">The If-Match condition is met if and only if any of the entity-tags listed in the If-Match field value match the entity-tag
         of the selected representation using the weak comparison function (as per <a href="#entity.tag.comparison" title="Comparison">Section&nbsp;2.3.2</a>), or if "*" is given and any current representation exists for the target resource.
      </p>
      <p id="rfc.section.3.1.p.5">If the condition is met, the server <em class="bcp14">MAY</em> perform the request method.
      </p>
      <p id="rfc.section.3.1.p.6">Origin servers <em class="bcp14">MUST NOT</em> perform the requested method if the condition is not met; instead they <em class="bcp14">MUST</em> respond with the <a href="#status.412" class="smpl">412 (Precondition
            Failed)</a> status code.
      </p>
      <p id="rfc.section.3.1.p.7">Proxy servers using a cached response as the selected representation <em class="bcp14">MUST NOT</em> perform the requested method if the condition is not met; instead, they <em class="bcp14">MUST</em> forward the request towards the origin server.
      </p>
      <p id="rfc.section.3.1.p.8">Examples:</p>
      <div id="rfc.figure.u.9"></div><pre class="text">  If-Match: "xyzzy"
  If-Match: "xyzzy", "r2d2xxxx", "c3piozzzz"
  If-Match: *
</pre><div id="rfc.iref.i.2"></div>
      <h2 id="rfc.section.3.2"><a href="#rfc.section.3.2">3.2</a>&nbsp;<a id="header.if-none-match" href="#header.if-none-match">If-None-Match</a></h2>
      <p id="rfc.section.3.2.p.1">The "If-None-Match" header field can be used to make a request method conditional on not matching any of the current entity-tag
         values for representations of the target resource.
      </p>
      <p id="rfc.section.3.2.p.2">If-None-Match is primarily used in conditional GET requests to enable efficient updates of cached information with a minimum
         amount of transaction overhead. A client that has one or more representations previously obtained from the target resource
         can send If-None-Match with a list of the associated entity-tags in the hope of receiving a <a href="#status.304" class="smpl">304 (Not
            Modified)</a> response if at least one of those representations matches the selected representation.
      </p>
      <p id="rfc.section.3.2.p.3">If-None-Match can also be used with a value of "*" to prevent an unsafe request method (e.g., PUT) from inadvertently modifying
         an existing representation of the target resource when the client believes that the resource does not have a current representation
         (<a href="p2-semantics.html#safe.methods" title="Safe Methods">Section 4.2.1</a> of <a href="#Part2" id="rfc.xref.Part2.5"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[Part2]</cite></a>). This is a variation on the "lost update" problem that might arise if more than one client attempts to create an initial
         representation for the target resource.
      </p>
      <div id="rfc.figure.u.10"></div><pre class="inline"><span id="rfc.iref.g.8"></span>  <a href="#header.if-none-match" class="smpl">If-None-Match</a> = "*" / 1#<a href="#header.etag" class="smpl">entity-tag</a>
</pre><p id="rfc.section.3.2.p.5">The If-None-Match condition is met if and only if none of the entity-tags listed in the If-None-Match field value match the
         entity-tag of the selected representation using the weak comparison function (as per <a href="#entity.tag.comparison" title="Comparison">Section&nbsp;2.3.2</a>), or if "*" is given and no current representation exists for that resource.
      </p>
      <p id="rfc.section.3.2.p.6">If the condition is not met, the server <em class="bcp14">MUST NOT</em> perform the requested method. Instead, if the request method was GET or HEAD, the server <em class="bcp14">SHOULD</em> respond with a <a href="#status.304" class="smpl">304 (Not Modified)</a> status code, including the cache-related header fields (particularly <a href="#header.etag" class="smpl">ETag</a>) of the selected representation that has a matching entity-tag. For all other request methods, the server <em class="bcp14">MUST</em> respond with a <a href="#status.412" class="smpl">412 (Precondition
            Failed)</a> status code when the condition is not met.
      </p>
      <p id="rfc.section.3.2.p.7">If the condition is met, the server <em class="bcp14">MAY</em> perform the requested method and <em class="bcp14">MUST</em> ignore any <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a> header field(s) in the request. That is, if no entity-tags match, then the server <em class="bcp14">MUST NOT</em> send a <a href="#status.304" class="smpl">304 (Not Modified)</a> response.
      </p>
      <p id="rfc.section.3.2.p.8">Examples:</p>
      <div id="rfc.figure.u.11"></div><pre class="text">  If-None-Match: "xyzzy"
  If-None-Match: W/"xyzzy"
  If-None-Match: "xyzzy", "r2d2xxxx", "c3piozzzz"
  If-None-Match: W/"xyzzy", W/"r2d2xxxx", W/"c3piozzzz"
  If-None-Match: *
</pre><div id="rfc.iref.i.3"></div>
      <h2 id="rfc.section.3.3"><a href="#rfc.section.3.3">3.3</a>&nbsp;<a id="header.if-modified-since" href="#header.if-modified-since">If-Modified-Since</a></h2>
      <p id="rfc.section.3.3.p.1">The "If-Modified-Since" header field can be used with GET or HEAD to make the method conditional by modification date: if
         the selected representation has not been modified since the time specified in this field, then do not perform the request
         method; instead, respond as detailed below.
      </p>
      <div id="rfc.figure.u.12"></div><pre class="inline"><span id="rfc.iref.g.9"></span>  <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a> = <a href="#imported.abnf" class="smpl">HTTP-date</a>
</pre><p id="rfc.section.3.3.p.3">An example of the field is:</p>
      <div id="rfc.figure.u.13"></div><pre class="text">  If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT
</pre><p id="rfc.section.3.3.p.5">A GET method with an If-Modified-Since header field and no <a href="p5-range.html#header.range" class="smpl">Range</a> header field requests that the selected representation be transferred only if it has been modified since the date given by
         the If-Modified-Since header field. The algorithm for determining this includes the following cases: 
      </p>
      <ol>
         <li>If the request would normally result in anything other than a <a href="p2-semantics.html#status.200" class="smpl">200 (OK)</a> status code, or if the passed If-Modified-Since date is invalid, the response is exactly the same as for a normal GET. A date
            that is later than the server's current time is invalid.
         </li>
         <li>If the selected representation has been modified since the If-Modified-Since date, the response is exactly the same as for
            a normal GET.
         </li>
         <li>If the selected representation has not been modified since a valid If-Modified-Since date, the server <em class="bcp14">SHOULD</em> send a <a href="#status.304" class="smpl">304 (Not Modified)</a> response.
         </li>
      </ol>
      <p id="rfc.section.3.3.p.6">The two purposes of this feature are to allow efficient updates of cached information, with a minimum amount of transaction
         overhead, and to limit the scope of a web traversal to resources that have recently changed.
      </p>
      <p id="rfc.section.3.3.p.7">When used for cache updates, a cache will typically use the value of the cached message's <a href="#header.last-modified" class="smpl">Last-Modified</a> field to generate the field value of If-Modified-Since. This behavior is most interoperable for cases where clocks are poorly
         synchronized or when the server has chosen to only honor exact timestamp matches (due to a problem with Last-Modified dates
         that appear to go "back in time" when the origin server's clock is corrected or a representation is restored from an archived
         backup). However, caches occasionally generate the field value based on other data, such as the <a href="p2-semantics.html#header.date" class="smpl">Date</a> header field of the cached message or the local clock time that the message was received, particularly when the cached message
         does not contain a <a href="#header.last-modified" class="smpl">Last-Modified</a> field.
      </p>
      <p id="rfc.section.3.3.p.8">When used for limiting the scope of retrieval to a recent time window, a user agent will generate an If-Modified-Since field
         value based on either its own local clock or a <a href="p2-semantics.html#header.date" class="smpl">Date</a> header field received from the server during a past run. Origin servers that choose an exact timestamp match based on the
         selected representation's <a href="#header.last-modified" class="smpl">Last-Modified</a> field will not be able to help the user agent limit its data transfers to only those changed during the specified window.
      </p>
      <div class="note" id="rfc.section.3.3.p.9">
         <p><b>Note:</b> If a client uses an arbitrary date in the If-Modified-Since header field instead of a date taken from a <a href="#header.last-modified" class="smpl">Last-Modified</a> or <a href="p2-semantics.html#header.date" class="smpl">Date</a> header field from the origin server, the client ought to be aware that its date will be interpreted according to the server's
            understanding of time.
         </p> 
      </div>
      <div id="rfc.iref.i.4"></div>
      <h2 id="rfc.section.3.4"><a href="#rfc.section.3.4">3.4</a>&nbsp;<a id="header.if-unmodified-since" href="#header.if-unmodified-since">If-Unmodified-Since</a></h2>
      <p id="rfc.section.3.4.p.1">The "If-Unmodified-Since" header field can be used to make a request method conditional by modification date: if the selected
         representation has been modified since the time specified in this field, then the server <em class="bcp14">MUST NOT</em> perform the requested operation and <em class="bcp14">MUST</em> instead respond with the <a href="#status.412" class="smpl">412 (Precondition Failed)</a> status code. If the selected representation has not been modified since the time specified in this field, the server <em class="bcp14">MAY</em> perform the request.
      </p>
      <div id="rfc.figure.u.14"></div><pre class="inline"><span id="rfc.iref.g.10"></span>  <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a> = <a href="#imported.abnf" class="smpl">HTTP-date</a>
</pre><p id="rfc.section.3.4.p.3">An example of the field is:</p>
      <div id="rfc.figure.u.15"></div><pre class="text">  If-Unmodified-Since: Sat, 29 Oct 1994 19:43:31 GMT
</pre><p id="rfc.section.3.4.p.5">A server <em class="bcp14">MUST</em> ignore the If-Unmodified-Since header field if the received value is not a valid HTTP-date.
      </p>
      <h2 id="rfc.section.3.5"><a href="#rfc.section.3.5">3.5</a>&nbsp;<a id="header.if-range" href="#header.if-range">If-Range</a></h2>
      <p id="rfc.section.3.5.p.1">The "If-Range" header field provides a special conditional request mechanism that is similar to <a href="#header.if-match" class="smpl">If-Match</a> and <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a> but specific to range requests. If-Range is defined in <a href="p5-range.html#header.if-range" title="If-Range">Section 3.2</a> of <a href="#Part5" id="rfc.xref.Part5.1"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Range Requests">[Part5]</cite></a>.
      </p>
      <h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a id="status.code.definitions" href="#status.code.definitions">Status Code Definitions</a></h1>
      <div id="rfc.iref.21"></div>
      <h2 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1</a>&nbsp;<a id="status.304" href="#status.304">304 Not Modified</a></h2>
      <p id="rfc.section.4.1.p.1">The <dfn>304 (Not Modified)</dfn> status code indicates that a conditional GET or HEAD request has been received and would have resulted in a <a href="p2-semantics.html#status.200" class="smpl">200 (OK)</a> response if it were not for the fact that the condition has evaluated to false. In other words, there is no need for the server
         to transfer a representation of the target resource because the request indicates that the client, which made the request
         conditional, already has a valid representation; the server is therefore redirecting the client to make use of that stored
         representation as if it were the payload of a <a href="p2-semantics.html#status.200" class="smpl">200 (OK)</a> response.
      </p>
      <p id="rfc.section.4.1.p.2">The server generating a 304 response <em class="bcp14">MUST</em> generate any of the following header fields that would have been sent in a <a href="p2-semantics.html#status.200" class="smpl">200 (OK)</a> response to the same request: <a href="p6-cache.html#header.cache-control" class="smpl">Cache-Control</a>, <a href="p2-semantics.html#header.content-location" class="smpl">Content-Location</a>, <a href="#header.etag" class="smpl">ETag</a>, <a href="p6-cache.html#header.expires" class="smpl">Expires</a>, and <a href="p2-semantics.html#header.vary" class="smpl">Vary</a>.
      </p>
      <p id="rfc.section.4.1.p.3">Since the goal of a 304 response is to minimize information transfer when the recipient already has one or more cached representations,
         a sender <em class="bcp14">SHOULD NOT</em> generate representation metadata other than the above listed fields unless said metadata exists for the purpose of guiding
         cache updates (e.g., <a href="#header.last-modified" class="smpl">Last-Modified</a> might be useful if the response does not have an <a href="#header.etag" class="smpl">ETag</a> field).
      </p>
      <p id="rfc.section.4.1.p.4">Requirements on a cache that receives a 304 response are defined in <a href="p6-cache.html#freshening.responses" title="Freshening Stored Responses upon Validation">Section 4.2.1</a> of <a href="#Part6" id="rfc.xref.Part6.4"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Caching">[Part6]</cite></a>. If the conditional request originated with an outbound client, such as a user agent with its own cache sending a conditional
         GET to a shared proxy, then the proxy <em class="bcp14">SHOULD</em> forward the 304 response to that client.
      </p>
      <p id="rfc.section.4.1.p.5">A 304 response cannot contain a message-body; it is always terminated by the first empty line after the header fields.</p>
      <div id="rfc.iref.21"></div>
      <h2 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2</a>&nbsp;<a id="status.412" href="#status.412">412 Precondition Failed</a></h2>
      <p id="rfc.section.4.2.p.1">The <dfn>412 (Precondition Failed)</dfn> status code indicates that one or more preconditions given in the request header fields evaluated to false when tested on
         the server. This response code allows the client to place preconditions on the current resource state (its current representations
         and metadata) and thus prevent the request method from being applied if the target resource is in an unexpected state.
      </p>
      <h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a id="precedence" href="#precedence">Evaluation and Precedence</a></h1>
      <p id="rfc.section.5.p.1">For each conditional request, a server <em class="bcp14">MUST</em> evaluate the request preconditions after it has successfully performed its normal request checks (i.e., just before it would
         perform the action associated with the request method). Preconditions are ignored if the server determines that an error or
         redirect response applies before they are evaluated. Otherwise, the evaluation depends on both the method semantics and the
         choice of conditional.
      </p>
      <p id="rfc.section.5.p.2">A conditional request header field that is designed specifically for cache validation, which includes <a href="#header.if-none-match" class="smpl">If-None-Match</a> and <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a> when used in a GET or HEAD request, allows cached representations to be refreshed without repeatedly transferring data already
         held by the client. Evaluating to false is thus an indication that the client can continue to use its local copy of the selected
         representation, as indicated by the server generating a <a href="#status.304" class="smpl">304 (Not Modified)</a> response that includes only those header fields useful for refreshing the cached representation.
      </p>
      <p id="rfc.section.5.p.3">All other conditionals are intended to signal failure when the precondition evaluates to false. For example, an <a href="#header.if-match" class="smpl">If-Match</a> conditional sent with a state-changing method (e.g., POST, PUT, DELETE) is intended to prevent the request from taking effect
         on the target resource if the resource state does not match the expected state. In other words, evaluating the condition to
         false means that the resource has been changed by some other client, perhaps by another user attempting to edit the same resource,
         and thus preventing the request from being applied saves the client from overwriting some other client's work. This result
         is indicated by the server generating a <a href="#status.412" class="smpl">412 (Precondition Failed)</a> response.
      </p>
      <p id="rfc.section.5.p.4">The conditional request header fields defined by this specification are ignored for request methods that never involve the
         selection or modification of a <a href="p2-semantics.html#representations" class="smpl">selected representation</a> (e.g., CONNECT, OPTIONS, and TRACE). Other conditional request header fields, defined by extensions to HTTP, might place conditions
         on the state of the target resource in general, or on a group of resources. For instance, the If header field in WebDAV can
         make a request conditional on various aspects (such as locks) of multiple resources (<a href="#RFC4918" id="rfc.xref.RFC4918.2"><cite title="HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)">[RFC4918]</cite></a>, <a href="http://tools.ietf.org/html/rfc4918#section-10.4">Section 10.4</a>).
      </p>
      <p id="rfc.section.5.p.5">When more than one conditional request header field is present in a request, the order in which the fields are evaluated becomes
         important. In practice, the fields defined in this document are consistently implemented in a single, logical order, due to
         the fact that entity tags are presumed to be more accurate than date validators. For example, the only reason to send both <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a> and <a href="#header.if-none-match" class="smpl">If-None-Match</a> in the same GET request is to support intermediary caches that might not have implemented <a href="#header.if-none-match" class="smpl">If-None-Match</a>, so it makes sense to ignore the <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a> when entity tags are understood and available for the selected representation.
      </p>
      <p id="rfc.section.5.p.6">The general rule of conditional precedence is that exact match conditions are evaluated before cache-validating conditions
         and, within that order, last-modified conditions are only evaluated if the corresponding entity tag condition is not present
         (or not applicable because the selected representation does not have an entity tag).
      </p>
      <p id="rfc.section.5.p.7">Specifically, the fields defined by this specification are evaluated as follows: </p>
      <ol>
         <li id="precedence1">When <a href="#header.if-match" class="smpl">If-Match</a> is present, evaluate it: 
            <ul>
               <li>if true, continue to step <a href="#precedence3">3</a></li>
               <li>if false, respond <a href="#status.412" class="smpl">412 (Precondition Failed)</a></li>
            </ul> 
         </li>
         <li id="precedence2">When <a href="#header.if-match" class="smpl">If-Match</a> is not present and <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a> is present, evaluate it: 
            <ul>
               <li>if true, continue to step <a href="#precedence3">3</a></li>
               <li>if false, respond <a href="#status.412" class="smpl">412 (Precondition Failed)</a></li>
            </ul> 
         </li>
         <li id="precedence3">When <a href="#header.if-none-match" class="smpl">If-None-Match</a> is present, evaluate it: 
            <ul>
               <li>if true, continue to step <a href="#precedence5">5</a></li>
               <li>if false for GET/HEAD, respond <a href="#status.304" class="smpl">304 (Not Modified)</a></li>
               <li>if false for other methods, respond <a href="#status.412" class="smpl">412 (Precondition Failed)</a></li>
            </ul> 
         </li>
         <li id="precedence4">When the method is GET or HEAD, <a href="#header.if-none-match" class="smpl">If-None-Match</a> is not present, and <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a> is present, evaluate it: 
            <ul>
               <li>if true, continue to step <a href="#precedence5">5</a></li>
               <li>if false, respond <a href="#status.304" class="smpl">304 (Not Modified)</a></li>
            </ul> 
         </li>
         <li id="precedence5">When the method is GET and both <a href="p5-range.html#header.range" class="smpl">Range</a> and <a href="p5-range.html#header.if-range" class="smpl">If-Range</a> are present, evaluate If-Range: 
            <ul>
               <li>if the validator matches and the Range specification is applicable to the selected representation, respond <a href="p5-range.html#status.206" class="smpl">206 (Partial Content)</a> <a href="#Part5" id="rfc.xref.Part5.2"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Range Requests">[Part5]</cite></a></li>
            </ul> 
         </li>
         <li id="precedencelast">Otherwise, 
            <ul>
               <li>all conditions are met, so perform the requested action and respond according to its success or failure.</li>
            </ul> 
         </li>
      </ol>
      <p id="rfc.section.5.p.8">Any extension to HTTP/1.1 that defines additional conditional request header fields ought to define its own expectations regarding
         the order for evaluating such fields in relation to those defined in this document and other conditionals that might be found
         in practice.
      </p>
      <h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a>&nbsp;<a id="IANA.considerations" href="#IANA.considerations">IANA Considerations</a></h1>
      <h2 id="rfc.section.6.1"><a href="#rfc.section.6.1">6.1</a>&nbsp;<a id="status.code.registration" href="#status.code.registration">Status Code Registration</a></h2>
      <p id="rfc.section.6.1.p.1">The HTTP Status Code Registry located at &lt;<a href="http://www.iana.org/assignments/http-status-codes">http://www.iana.org/assignments/http-status-codes</a>&gt; shall be updated with the registrations below:
      </p>
      <div id="rfc.table.1">
         <div id="iana.status.code.registration.table"></div>
         <table class="tt full left" cellpadding="3" cellspacing="0">
            <thead>
               <tr>
                  <th>Value</th>
                  <th>Description</th>
                  <th>Reference</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="left">304</td>
                  <td class="left">Not Modified</td>
                  <td class="left"><a href="#status.304" id="rfc.xref.status.304.1" title="304 Not Modified">Section&nbsp;4.1</a> 
                  </td>
               </tr>
               <tr>
                  <td class="left">412</td>
                  <td class="left">Precondition Failed</td>
                  <td class="left"><a href="#status.412" id="rfc.xref.status.412.1" title="412 Precondition Failed">Section&nbsp;4.2</a> 
                  </td>
               </tr>
            </tbody>
         </table>
      </div>
      <h2 id="rfc.section.6.2"><a href="#rfc.section.6.2">6.2</a>&nbsp;<a id="header.field.registration" href="#header.field.registration">Header Field Registration</a></h2>
      <p id="rfc.section.6.2.p.1">HTTP header fields are registered within the Message Header Field Registry maintained at &lt;<a href="http://www.iana.org/assignments/message-headers/message-header-index.html">http://www.iana.org/assignments/message-headers/message-header-index.html</a>&gt;.
      </p>
      <p id="rfc.section.6.2.p.2">This document defines the following HTTP header fields, so their associated registry entries shall be updated according to
         the permanent registrations below (see <a href="#BCP90" id="rfc.xref.BCP90.1"><cite title="Registration Procedures for Message Header Fields">[BCP90]</cite></a>):
      </p>
      <div id="rfc.table.2">
         <div id="iana.header.registration.table"></div>
         <table class="tt full left" cellpadding="3" cellspacing="0">
            <thead>
               <tr>
                  <th>Header Field Name</th>
                  <th>Protocol</th>
                  <th>Status</th>
                  <th>Reference</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td class="left">ETag</td>
                  <td class="left">http</td>
                  <td class="left">standard</td>
                  <td class="left"><a href="#header.etag" id="rfc.xref.header.etag.2" title="ETag">Section&nbsp;2.3</a> 
                  </td>
               </tr>
               <tr>
                  <td class="left">If-Match</td>
                  <td class="left">http</td>
                  <td class="left">standard</td>
                  <td class="left"><a href="#header.if-match" id="rfc.xref.header.if-match.1" title="If-Match">Section&nbsp;3.1</a> 
                  </td>
               </tr>
               <tr>
                  <td class="left">If-Modified-Since</td>
                  <td class="left">http</td>
                  <td class="left">standard</td>
                  <td class="left"><a href="#header.if-modified-since" id="rfc.xref.header.if-modified-since.1" title="If-Modified-Since">Section&nbsp;3.3</a> 
                  </td>
               </tr>
               <tr>
                  <td class="left">If-None-Match</td>
                  <td class="left">http</td>
                  <td class="left">standard</td>
                  <td class="left"><a href="#header.if-none-match" id="rfc.xref.header.if-none-match.1" title="If-None-Match">Section&nbsp;3.2</a> 
                  </td>
               </tr>
               <tr>
                  <td class="left">If-Unmodified-Since</td>
                  <td class="left">http</td>
                  <td class="left">standard</td>
                  <td class="left"><a href="#header.if-unmodified-since" id="rfc.xref.header.if-unmodified-since.1" title="If-Unmodified-Since">Section&nbsp;3.4</a> 
                  </td>
               </tr>
               <tr>
                  <td class="left">Last-Modified</td>
                  <td class="left">http</td>
                  <td class="left">standard</td>
                  <td class="left"><a href="#header.last-modified" id="rfc.xref.header.last-modified.2" title="Last-Modified">Section&nbsp;2.2</a> 
                  </td>
               </tr>
            </tbody>
         </table>
      </div>
      <p id="rfc.section.6.2.p.3">The change controller is: "IETF (iesg@ietf.org) - Internet Engineering Task Force".</p>
      <h1 id="rfc.section.7"><a href="#rfc.section.7">7.</a>&nbsp;<a id="security.considerations" href="#security.considerations">Security Considerations</a></h1>
      <p id="rfc.section.7.p.1">This section is meant to inform developers, information providers, and users of known security concerns specific to the HTTP/1.1
         conditional request mechanisms. More general security considerations are addressed in HTTP messaging <a href="#Part1" id="rfc.xref.Part1.5"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[Part1]</cite></a> and semantics <a href="#Part2" id="rfc.xref.Part2.6"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[Part2]</cite></a>.
      </p>
      <p id="rfc.section.7.p.2">The validators defined by this specification are not intended to ensure the validity of a representation, guard against malicious
         changes, or detect man-in-the-middle attacks. At best, they enable more efficient cache updates and optimistic concurrent
         writes when all participants are behaving nicely. At worst, the conditions will fail and the client will receive a response
         that is no more harmful than an HTTP exchange without conditional requests.
      </p>
      <p id="rfc.section.7.p.3">An entity-tag can be abused in ways that create privacy risks. For example, a site might deliberately construct a semantically
         invalid entity-tag that is unique to the user or user agent, send it in a cacheable response with a long freshness time, and
         then read that entity-tag in later conditional requests as a means of re-identifying that user or user agent. Such an identifying
         tag would become a persistent identifier for as long as the user agent retained the original cache entry. User agents that
         cache representations ought to ensure that the cache is cleared or replaced whenever the user performs privacy-maintaining
         actions, such as clearing stored cookies or changing to a private browsing mode.
      </p>
      <h1 id="rfc.section.8"><a href="#rfc.section.8">8.</a>&nbsp;<a id="acks" href="#acks">Acknowledgments</a></h1>
      <p id="rfc.section.8.p.1">See <a href="p1-messaging.html#acks" title="Acknowledgments">Section 9</a> of <a href="#Part1" id="rfc.xref.Part1.6"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[Part1]</cite></a>.
      </p>
      <h1 id="rfc.references"><a id="rfc.section.9" href="#rfc.section.9">9.</a> References
      </h1>
      <h2 id="rfc.references.1"><a href="#rfc.section.9.1" id="rfc.section.9.1">9.1</a> Normative References
      </h2>
      <table>
         <tr>
            <td class="reference"><b id="Part1">[Part1]</b></td>
            <td class="top"><a href="mailto:fielding@gbiv.com" title="Adobe Systems Incorporated">Fielding, R., Ed.</a> and <a href="mailto:julian.reschke@greenbytes.de" title="greenbytes GmbH">J. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p1-messaging-latest">Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p1-messaging-latest (work in progress), July&nbsp;2013.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="Part2">[Part2]</b></td>
            <td class="top"><a href="mailto:fielding@gbiv.com" title="Adobe Systems Incorporated">Fielding, R., Ed.</a> and <a href="mailto:julian.reschke@greenbytes.de" title="greenbytes GmbH">J. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p2-semantics-latest">Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p2-semantics-latest (work in progress), July&nbsp;2013.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="Part5">[Part5]</b></td>
            <td class="top"><a href="mailto:fielding@gbiv.com" title="Adobe Systems Incorporated">Fielding, R., Ed.</a>, <a href="mailto:ylafon@w3.org" title="World Wide Web Consortium">Lafon, Y., Ed.</a>, and <a href="mailto:julian.reschke@greenbytes.de" title="greenbytes GmbH">J. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p5-range-latest">Hypertext Transfer Protocol (HTTP/1.1): Range Requests</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p5-range-latest (work in progress), July&nbsp;2013.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="Part6">[Part6]</b></td>
            <td class="top"><a href="mailto:fielding@gbiv.com" title="Adobe Systems Incorporated">Fielding, R., Ed.</a>, <a href="mailto:mnot@mnot.net" title="Akamai">Nottingham, M., Ed.</a>, and <a href="mailto:julian.reschke@greenbytes.de" title="greenbytes GmbH">J. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p6-cache-latest">Hypertext Transfer Protocol (HTTP/1.1): Caching</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p6-cache-latest (work in progress), July&nbsp;2013.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="RFC2119">[RFC2119]</b></td>
            <td class="top"><a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, “<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>”, BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="RFC5234">[RFC5234]</b></td>
            <td class="top"><a href="mailto:dcrocker@bbiw.net" title="Brandenburg InternetWorking">Crocker, D., Ed.</a> and <a href="mailto:paul.overell@thus.net" title="THUS plc.">P. Overell</a>, “<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>”, STD&nbsp;68, RFC&nbsp;5234, January&nbsp;2008.
            </td>
         </tr>
      </table>
      <h2 id="rfc.references.2"><a href="#rfc.section.9.2" id="rfc.section.9.2">9.2</a> Informative References
      </h2>
      <table>
         <tr>
            <td class="reference"><b id="BCP90">[BCP90]</b></td>
            <td class="top"><a href="mailto:GK-IETF@ninebynine.org" title="Nine by Nine">Klyne, G.</a>, <a href="mailto:mnot@pobox.com" title="BEA Systems">Nottingham, M.</a>, and <a href="mailto:JeffMogul@acm.org" title="HP Labs">J. Mogul</a>, “<a href="http://tools.ietf.org/html/rfc3864">Registration Procedures for Message Header Fields</a>”, BCP&nbsp;90, RFC&nbsp;3864, September&nbsp;2004.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="RFC2616">[RFC2616]</b></td>
            <td class="top"><a href="mailto:fielding@ics.uci.edu" title="University of California, Irvine">Fielding, R.</a>, <a href="mailto:jg@w3.org" title="W3C">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com" title="Compaq Computer Corporation">Mogul, J.</a>, <a href="mailto:frystyk@w3.org" title="MIT Laboratory for Computer Science">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com" title="Xerox Corporation">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.</a>, and <a href="mailto:timbl@w3.org" title="W3C">T. Berners-Lee</a>, “<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>”, RFC&nbsp;2616, June&nbsp;1999.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="RFC4918">[RFC4918]</b></td>
            <td class="top"><a href="mailto:ldusseault@commerce.net" title="CommerceNet">Dusseault, L., Ed.</a>, “<a href="http://tools.ietf.org/html/rfc4918">HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)</a>”, RFC&nbsp;4918, June&nbsp;2007.
            </td>
         </tr>
      </table>
      <div class="avoidbreak">
         <h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
         <address class="vcard"><span class="vcardline"><span class="fn">Roy T. Fielding</span>
               (editor)
               <span class="n hidden"><span class="family-name">Fielding</span><span class="given-name">Roy T.</span></span></span><span class="org vcardline">Adobe Systems Incorporated</span><span class="adr"><span class="street-address vcardline">345 Park Ave</span><span class="vcardline"><span class="locality">San Jose</span>, <span class="region">CA</span>&nbsp;<span class="postal-code">95110</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline">Email: <a href="mailto:fielding@gbiv.com"><span class="email">fielding@gbiv.com</span></a></span><span class="vcardline">URI: <a href="http://roy.gbiv.com/" class="url">http://roy.gbiv.com/</a></span></address>
         <address class="vcard"><span class="vcardline"><span class="fn">Julian F. Reschke</span>
               (editor)
               <span class="n hidden"><span class="family-name">Reschke</span><span class="given-name">Julian F.</span></span></span><span class="org vcardline">greenbytes GmbH</span><span class="adr"><span class="street-address vcardline">Hafenweg 16</span><span class="vcardline"><span class="locality">Muenster</span>, <span class="region">NW</span>&nbsp;<span class="postal-code">48155</span></span><span class="country-name vcardline">Germany</span></span><span class="vcardline">Email: <a href="mailto:julian.reschke@greenbytes.de"><span class="email">julian.reschke@greenbytes.de</span></a></span><span class="vcardline">URI: <a href="http://greenbytes.de/tech/webdav/" class="url">http://greenbytes.de/tech/webdav/</a></span></address>
      </div>
      <h1 id="rfc.section.A" class="np"><a href="#rfc.section.A">A.</a>&nbsp;<a id="changes.from.rfc.2616" href="#changes.from.rfc.2616">Changes from RFC 2616</a></h1>
      <p id="rfc.section.A.p.1">The definition of validator weakness has been expanded and clarified. (<a href="#weak.and.strong.validators" title="Weak versus Strong">Section&nbsp;2.1</a>)
      </p>
      <p id="rfc.section.A.p.2">Weak entity-tags are now allowed in all requests except range requests (Sections <a href="#weak.and.strong.validators" title="Weak versus Strong">2.1</a> and <a href="#header.if-none-match" id="rfc.xref.header.if-none-match.2" title="If-None-Match">3.2</a>).
      </p>
      <p id="rfc.section.A.p.3">The <a href="#header.etag" class="smpl">ETag</a> header field ABNF has been changed to not use quoted-string, thus avoiding escaping issues. (<a href="#header.etag" id="rfc.xref.header.etag.3" title="ETag">Section&nbsp;2.3</a>)
      </p>
      <p id="rfc.section.A.p.4">ETag is defined to provide an entity tag for the selected representation, thereby clarifying what it applies to in various
         situations (such as a PUT response). (<a href="#header.etag" id="rfc.xref.header.etag.4" title="ETag">Section&nbsp;2.3</a>)
      </p>
      <p id="rfc.section.A.p.5">The precedence for evaluation of conditional requests has been defined. (<a href="#precedence" title="Evaluation and Precedence">Section&nbsp;5</a>)
      </p>
      <h1 id="rfc.section.B"><a href="#rfc.section.B">B.</a>&nbsp;<a id="imported.abnf" href="#imported.abnf">Imported ABNF</a></h1>
      <p id="rfc.section.B.p.1">The following core rules are included by reference, as defined in <a href="http://tools.ietf.org/html/rfc5234#appendix-B.1">Appendix B.1</a> of <a href="#RFC5234" id="rfc.xref.RFC5234.2"><cite title="Augmented BNF for Syntax Specifications: ABNF">[RFC5234]</cite></a>: ALPHA (letters), CR (carriage return), CRLF (CR LF), CTL (controls), DIGIT (decimal 0-9), DQUOTE (double quote), HEXDIG
         (hexadecimal 0-9/A-F/a-f), LF (line feed), OCTET (any 8-bit sequence of data), SP (space), and VCHAR (any visible US-ASCII
         character).
      </p>
      <p id="rfc.section.B.p.2">The rules below are defined in <a href="#Part1" id="rfc.xref.Part1.7"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[Part1]</cite></a>:
      </p>
      <div id="rfc.figure.u.16"></div><pre class="inline">  <a href="#imported.abnf" class="smpl">OWS</a>           = &lt;OWS, defined in <a href="#Part1" id="rfc.xref.Part1.8"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[Part1]</cite></a>, <a href="p1-messaging.html#whitespace" title="Whitespace">Section 3.2.3</a>&gt;
  <a href="#imported.abnf" class="smpl">obs-text</a>      = &lt;obs-text, defined in <a href="#Part1" id="rfc.xref.Part1.9"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[Part1]</cite></a>, <a href="p1-messaging.html#field.components" title="Field value components">Section 3.2.6</a>&gt;
</pre><p id="rfc.section.B.p.4">The rules below are defined in other parts:</p>
      <div id="rfc.figure.u.17"></div><pre class="inline">  <a href="#imported.abnf" class="smpl">HTTP-date</a>     = &lt;HTTP-date, defined in <a href="#Part2" id="rfc.xref.Part2.7"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content">[Part2]</cite></a>, <a href="p2-semantics.html#http.date" title="Date/Time Formats">Section 7.1.1.1</a>&gt;
</pre><h1 id="rfc.section.C"><a href="#rfc.section.C">C.</a>&nbsp;<a id="collected.abnf" href="#collected.abnf">Collected ABNF</a></h1>
      <p id="rfc.section.C.p.1">In the collected ABNF below, list rules are expanded as per <a href="p1-messaging.html#notation" title="Syntax Notation">Section 1.2</a> of <a href="#Part1" id="rfc.xref.Part1.10"><cite title="Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing">[Part1]</cite></a>.
      </p>
      <div id="rfc.figure.u.18"></div><pre class="inline"><a href="#header.etag" class="smpl">ETag</a> = entity-tag

<a href="#imported.abnf" class="smpl">HTTP-date</a> = &lt;HTTP-date, defined in [Part2], Section 7.1.1.1&gt;

<a href="#header.if-match" class="smpl">If-Match</a> = "*" / ( *( "," OWS ) entity-tag *( OWS "," [ OWS
 entity-tag ] ) )
<a href="#header.if-modified-since" class="smpl">If-Modified-Since</a> = HTTP-date
<a href="#header.if-none-match" class="smpl">If-None-Match</a> = "*" / ( *( "," OWS ) entity-tag *( OWS "," [ OWS
 entity-tag ] ) )
<a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a> = HTTP-date

<a href="#header.last-modified" class="smpl">Last-Modified</a> = HTTP-date

<a href="#imported.abnf" class="smpl">OWS</a> = &lt;OWS, defined in [Part1], Section 3.2.3&gt;

<a href="#header.etag" class="smpl">entity-tag</a> = [ weak ] opaque-tag
<a href="#header.etag" class="smpl">etagc</a> = "!" / %x23-7E ; '#'-'~'
 / obs-text

<a href="#imported.abnf" class="smpl">obs-text</a> = &lt;obs-text, defined in [Part1], Section 3.2.6&gt;
<a href="#header.etag" class="smpl">opaque-tag</a> = DQUOTE *etagc DQUOTE

<a href="#header.etag" class="smpl">weak</a> = %x57.2F ; W/
</pre><h1 id="rfc.section.D"><a href="#rfc.section.D">D.</a>&nbsp;<a id="change.log" href="#change.log">Change Log (to be removed by RFC Editor before publication)</a></h1>
      <p id="rfc.section.D.p.1">Changes up to the first Working Group Last Call draft are summarized in &lt;<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p4-conditional-19#appendix-C">http://tools.ietf.org/html/draft-ietf-httpbis-p4-conditional-19#appendix-C</a>&gt;.
      </p>
      <h2 id="rfc.section.D.1"><a href="#rfc.section.D.1">D.1</a>&nbsp;<a id="changes.since.19" href="#changes.since.19">Since draft-ietf-httpbis-p4-conditional-19</a></h2>
      <p id="rfc.section.D.1.p.1">Closed issues: </p>
      <ul>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/241">http://tools.ietf.org/wg/httpbis/trac/ticket/241</a>&gt;: "Need to clarify eval order/interaction of conditional headers"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/345">http://tools.ietf.org/wg/httpbis/trac/ticket/345</a>&gt;: "Required headers on 304 and 206"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/350">http://tools.ietf.org/wg/httpbis/trac/ticket/350</a>&gt;: "Optionality of Conditional Request Support"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/354">http://tools.ietf.org/wg/httpbis/trac/ticket/354</a>&gt;: "ETags and Conditional Requests"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/361">http://tools.ietf.org/wg/httpbis/trac/ticket/361</a>&gt;: "ABNF requirements for recipients"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/363">http://tools.ietf.org/wg/httpbis/trac/ticket/363</a>&gt;: "Rare cases"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/365">http://tools.ietf.org/wg/httpbis/trac/ticket/365</a>&gt;: "Conditional Request Security Considerations"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/371">http://tools.ietf.org/wg/httpbis/trac/ticket/371</a>&gt;: "If-Modified-Since lacks definition for method != GET"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/372">http://tools.ietf.org/wg/httpbis/trac/ticket/372</a>&gt;: "refactor conditional header field descriptions"
         </li>
      </ul>
      <h2 id="rfc.section.D.2"><a href="#rfc.section.D.2">D.2</a>&nbsp;<a id="changes.since.20" href="#changes.since.20">Since draft-ietf-httpbis-p4-conditional-20</a></h2>
      <p id="rfc.section.D.2.p.1"></p>
      <ul>
         <li>Conformance criteria and considerations regarding error handling are now defined in Part 1.</li>
      </ul>
      <h2 id="rfc.section.D.3"><a href="#rfc.section.D.3">D.3</a>&nbsp;<a id="changes.since.21" href="#changes.since.21">Since draft-ietf-httpbis-p4-conditional-21</a></h2>
      <p id="rfc.section.D.3.p.1">Closed issues: </p>
      <ul>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/96">http://tools.ietf.org/wg/httpbis/trac/ticket/96</a>&gt;: "Conditional GET text"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/350">http://tools.ietf.org/wg/httpbis/trac/ticket/350</a>&gt;: "Optionality of Conditional Request Support"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/384">http://tools.ietf.org/wg/httpbis/trac/ticket/384</a>&gt;: "unclear prose in definition of 304"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/401">http://tools.ietf.org/wg/httpbis/trac/ticket/401</a>&gt;: "ETags and Conneg"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/402">http://tools.ietf.org/wg/httpbis/trac/ticket/402</a>&gt;: "Comparison function for If-Match and If-None-Match"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/406">http://tools.ietf.org/wg/httpbis/trac/ticket/406</a>&gt;: "304 without validator"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/427">http://tools.ietf.org/wg/httpbis/trac/ticket/427</a>&gt;: "If-Match and 428"
         </li>
      </ul>
      <h2 id="rfc.section.D.4"><a href="#rfc.section.D.4">D.4</a>&nbsp;<a id="changes.since.22" href="#changes.since.22">Since draft-ietf-httpbis-p4-conditional-22</a></h2>
      <p id="rfc.section.D.4.p.1">Closed issues: </p>
      <ul>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/436">http://tools.ietf.org/wg/httpbis/trac/ticket/436</a>&gt;: "explain list expansion in ABNF appendices"
         </li>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/437">http://tools.ietf.org/wg/httpbis/trac/ticket/437</a>&gt;: "incorrect example dates"
         </li>
      </ul>
      <p id="rfc.section.D.4.p.2">Partly resolved issues: </p>
      <ul>
         <li>&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/461">http://tools.ietf.org/wg/httpbis/trac/ticket/461</a>&gt;: "Editorial suggestions"
         </li>
      </ul>
      <h1 id="rfc.index"><a href="#rfc.index">Index</a></h1>
      <p class="noprint"><a href="#rfc.index.3">3</a> <a href="#rfc.index.4">4</a> <a href="#rfc.index.B">B</a> <a href="#rfc.index.E">E</a> <a href="#rfc.index.G">G</a> <a href="#rfc.index.I">I</a> <a href="#rfc.index.L">L</a> <a href="#rfc.index.M">M</a> <a href="#rfc.index.P">P</a> <a href="#rfc.index.R">R</a> <a href="#rfc.index.S">S</a> <a href="#rfc.index.V">V</a> 
      </p>
      <div class="print2col">
         <ul class="ind">
            <li><a id="rfc.index.3" href="#rfc.index.3"><b>3</b></a><ul>
                  <li>304 Not Modified (status code)&nbsp;&nbsp;<a href="#rfc.iref.21"><b>4.1</b></a>, <a href="#rfc.xref.status.304.1">6.1</a></li>
               </ul>
            </li>
            <li><a id="rfc.index.4" href="#rfc.index.4"><b>4</b></a><ul>
                  <li>412 Precondition Failed (status code)&nbsp;&nbsp;<a href="#rfc.iref.21"><b>4.2</b></a>, <a href="#rfc.xref.status.412.1">6.1</a></li>
               </ul>
            </li>
            <li><a id="rfc.index.B" href="#rfc.index.B"><b>B</b></a><ul>
                  <li><em>BCP90</em>&nbsp;&nbsp;<a href="#rfc.xref.BCP90.1">6.2</a>, <a href="#BCP90"><b>9.2</b></a></li>
               </ul>
            </li>
            <li><a id="rfc.index.E" href="#rfc.index.E"><b>E</b></a><ul>
                  <li>ETag header field&nbsp;&nbsp;<a href="#rfc.xref.header.etag.1">2</a>, <a href="#rfc.iref.e.1"><b>2.3</b></a>, <a href="#rfc.xref.header.etag.2">6.2</a>, <a href="#rfc.xref.header.etag.3">A</a>, <a href="#rfc.xref.header.etag.4">A</a></li>
               </ul>
            </li>
            <li><a id="rfc.index.G" href="#rfc.index.G"><b>G</b></a><ul>
                  <li><tt>Grammar</tt>&nbsp;&nbsp;
                     <ul>
                        <li><tt>entity-tag</tt>&nbsp;&nbsp;<a href="#rfc.iref.g.3"><b>2.3</b></a></li>
                        <li><tt>ETag</tt>&nbsp;&nbsp;<a href="#rfc.iref.g.2"><b>2.3</b></a></li>
                        <li><tt>etagc</tt>&nbsp;&nbsp;<a href="#rfc.iref.g.6"><b>2.3</b></a></li>
                        <li><tt>If-Match</tt>&nbsp;&nbsp;<a href="#rfc.iref.g.7"><b>3.1</b></a></li>
                        <li><tt>If-Modified-Since</tt>&nbsp;&nbsp;<a href="#rfc.iref.g.9"><b>3.3</b></a></li>
                        <li><tt>If-None-Match</tt>&nbsp;&nbsp;<a href="#rfc.iref.g.8"><b>3.2</b></a></li>
                        <li><tt>If-Unmodified-Since</tt>&nbsp;&nbsp;<a href="#rfc.iref.g.10"><b>3.4</b></a></li>
                        <li><tt>Last-Modified</tt>&nbsp;&nbsp;<a href="#rfc.iref.g.1"><b>2.2</b></a></li>
                        <li><tt>opaque-tag</tt>&nbsp;&nbsp;<a href="#rfc.iref.g.5"><b>2.3</b></a></li>
                        <li><tt>weak</tt>&nbsp;&nbsp;<a href="#rfc.iref.g.4"><b>2.3</b></a></li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li><a id="rfc.index.I" href="#rfc.index.I"><b>I</b></a><ul>
                  <li>If-Match header field&nbsp;&nbsp;<a href="#rfc.iref.i.1"><b>3.1</b></a>, <a href="#rfc.xref.header.if-match.1">6.2</a></li>
                  <li>If-Modified-Since header field&nbsp;&nbsp;<a href="#rfc.iref.i.3"><b>3.3</b></a>, <a href="#rfc.xref.header.if-modified-since.1">6.2</a></li>
                  <li>If-None-Match header field&nbsp;&nbsp;<a href="#rfc.iref.i.2"><b>3.2</b></a>, <a href="#rfc.xref.header.if-none-match.1">6.2</a>, <a href="#rfc.xref.header.if-none-match.2">A</a></li>
                  <li>If-Unmodified-Since header field&nbsp;&nbsp;<a href="#rfc.iref.i.4"><b>3.4</b></a>, <a href="#rfc.xref.header.if-unmodified-since.1">6.2</a></li>
               </ul>
            </li>
            <li><a id="rfc.index.L" href="#rfc.index.L"><b>L</b></a><ul>
                  <li>Last-Modified header field&nbsp;&nbsp;<a href="#rfc.xref.header.last-modified.1">2</a>, <a href="#rfc.iref.l.1"><b>2.2</b></a>, <a href="#rfc.xref.header.last-modified.2">6.2</a></li>
               </ul>
            </li>
            <li><a id="rfc.index.M" href="#rfc.index.M"><b>M</b></a><ul>
                  <li>metadata&nbsp;&nbsp;<a href="#rfc.iref.m.1"><b>2</b></a></li>
               </ul>
            </li>
            <li><a id="rfc.index.P" href="#rfc.index.P"><b>P</b></a><ul>
                  <li><em>Part1</em>&nbsp;&nbsp;<a href="#rfc.xref.Part1.1">1</a>, <a href="#rfc.xref.Part1.2">1.1</a>, <a href="#rfc.xref.Part1.3">1.2</a>, <a href="#rfc.xref.Part1.4">2.3.3</a>, <a href="#rfc.xref.Part1.5">7</a>, <a href="#rfc.xref.Part1.6">8</a>, <a href="#Part1"><b>9.1</b></a>, <a href="#rfc.xref.Part1.7">B</a>, <a href="#rfc.xref.Part1.8">B</a>, <a href="#rfc.xref.Part1.9">B</a>, <a href="#rfc.xref.Part1.10">C</a><ul>
                        <li><em>Section 1.2</em>&nbsp;&nbsp;<a href="#rfc.xref.Part1.3">1.2</a>, <a href="#rfc.xref.Part1.10">C</a></li>
                        <li><em>Section 2.5</em>&nbsp;&nbsp;<a href="#rfc.xref.Part1.2">1.1</a></li>
                        <li><em>Section 3.2.3</em>&nbsp;&nbsp;<a href="#rfc.xref.Part1.8">B</a></li>
                        <li><em>Section 3.2.6</em>&nbsp;&nbsp;<a href="#rfc.xref.Part1.9">B</a></li>
                        <li><em>Section 4</em>&nbsp;&nbsp;<a href="#rfc.xref.Part1.4">2.3.3</a></li>
                        <li><em>Section 9</em>&nbsp;&nbsp;<a href="#rfc.xref.Part1.6">8</a></li>
                     </ul>
                  </li>
                  <li><em>Part2</em>&nbsp;&nbsp;<a href="#rfc.xref.Part2.1">1</a>, <a href="#rfc.xref.Part2.2">1</a>, <a href="#rfc.xref.Part2.3">2.3.3</a>, <a href="#rfc.xref.Part2.4">2.3.3</a>, <a href="#rfc.xref.Part2.5">3.2</a>, <a href="#rfc.xref.Part2.6">7</a>, <a href="#Part2"><b>9.1</b></a>, <a href="#rfc.xref.Part2.7">B</a><ul>
                        <li><em>Section 3</em>&nbsp;&nbsp;<a href="#rfc.xref.Part2.2">1</a></li>
                        <li><em>Section 3.4</em>&nbsp;&nbsp;<a href="#rfc.xref.Part2.3">2.3.3</a></li>
                        <li><em>Section 4.2.1</em>&nbsp;&nbsp;<a href="#rfc.xref.Part2.5">3.2</a></li>
                        <li><em>Section 5.3.4</em>&nbsp;&nbsp;<a href="#rfc.xref.Part2.4">2.3.3</a></li>
                        <li><em>Section 7.1.1.1</em>&nbsp;&nbsp;<a href="#rfc.xref.Part2.7">B</a></li>
                     </ul>
                  </li>
                  <li><em>Part5</em>&nbsp;&nbsp;<a href="#rfc.xref.Part5.1">3.5</a>, <a href="#rfc.xref.Part5.2">5</a>, <a href="#Part5"><b>9.1</b></a><ul>
                        <li><em>Section 3.2</em>&nbsp;&nbsp;<a href="#rfc.xref.Part5.1">3.5</a></li>
                     </ul>
                  </li>
                  <li><em>Part6</em>&nbsp;&nbsp;<a href="#rfc.xref.Part6.1">1</a>, <a href="#rfc.xref.Part6.2">2.2.1</a>, <a href="#rfc.xref.Part6.3">2.3.1</a>, <a href="#rfc.xref.Part6.4">4.1</a>, <a href="#Part6"><b>9.1</b></a><ul>
                        <li><em>Section 4.2.1</em>&nbsp;&nbsp;<a href="#rfc.xref.Part6.4">4.1</a></li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li><a id="rfc.index.R" href="#rfc.index.R"><b>R</b></a><ul>
                  <li><em>RFC2119</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2119.1">1.1</a>, <a href="#RFC2119"><b>9.1</b></a></li>
                  <li><em>RFC2616</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2616.1">2.3</a>, <a href="#RFC2616"><b>9.2</b></a><ul>
                        <li><em>Section 3.11</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC2616.1">2.3</a></li>
                     </ul>
                  </li>
                  <li><em>RFC4918</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC4918.1">2</a>, <a href="#rfc.xref.RFC4918.2">5</a>, <a href="#RFC4918"><b>9.2</b></a><ul>
                        <li><em>Section 10.4</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC4918.2">5</a></li>
                     </ul>
                  </li>
                  <li><em>RFC5234</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC5234.1">1.2</a>, <a href="#RFC5234"><b>9.1</b></a>, <a href="#rfc.xref.RFC5234.2">B</a><ul>
                        <li><em>Appendix B.1</em>&nbsp;&nbsp;<a href="#rfc.xref.RFC5234.2">B</a></li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li><a id="rfc.index.S" href="#rfc.index.S"><b>S</b></a><ul>
                  <li>selected representation&nbsp;&nbsp;<a href="#rfc.iref.s.1"><b>1</b></a></li>
               </ul>
            </li>
            <li><a id="rfc.index.V" href="#rfc.index.V"><b>V</b></a><ul>
                  <li>validator&nbsp;&nbsp;<a href="#rfc.iref.v.1"><b>2</b></a><ul>
                        <li>strong&nbsp;&nbsp;<a href="#rfc.iref.v.3"><b>2.1</b></a></li>
                        <li>weak&nbsp;&nbsp;<a href="#rfc.iref.v.2"><b>2.1</b></a></li>
                     </ul>
                  </li>
               </ul>
            </li>
         </ul>
      </div>
   </body>
</html>