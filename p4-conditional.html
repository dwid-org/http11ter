<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
   <head profile="http://www.w3.org/2006/03/hcard">
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>HTTP/1.1, part 4: Conditional Requests</title><style type="text/css" title="Xml2Rfc (sans serif)">
a {
  text-decoration: none;
}
a.smpl {
  color: black;
}
a:hover {
  text-decoration: underline;
}
a:active {
  text-decoration: underline;
}
address {
  margin-top: 1em;
  margin-left: 2em;
  font-style: normal;
}
body {
  color: black;
  font-family: verdana, helvetica, arial, sans-serif;
  font-size: 10pt;
}
cite {
  font-style: normal;
}
dd {
  margin-right: 2em;
}
dl {
  margin-left: 2em;
}

dl.empty dd {
  margin-top: .5em;
}
dl p {
  margin-left: 0em;
}
dt {
  margin-top: .5em;
}
h1 {
  font-size: 14pt;
  line-height: 21pt;
  page-break-after: avoid;
}
h1.np {
  page-break-before: always;
}
h1 a {
  color: #333333;
}
h2 {
  font-size: 12pt;
  line-height: 15pt;
  page-break-after: avoid;
}
h2 a {
  color: black;
}
h3 {
  font-size: 10pt;
  page-break-after: avoid;
}
h3 a {
  color: black;
}
h4 {
  font-size: 10pt;
  page-break-after: avoid;
}
h4 a {
  color: black;
}
h5 {
  font-size: 10pt;
  page-break-after: avoid;
}
h5 a {
  color: black;
}
img {
  margin-left: 3em;
}
li {
  margin-left: 2em;
  margin-right: 2em;
}
ol {
  margin-left: 2em;
  margin-right: 2em;
}
ol p {
  margin-left: 0em;
}
p {
  margin-left: 2em;
  margin-right: 2em;
}
pre {
  margin-left: 3em;
  background-color: lightyellow;
  padding: .25em;
}
pre.text2 {
  border-style: dotted;
  border-width: 1px;
  background-color: #f0f0f0;
  width: 69em;
}
pre.inline {
  background-color: white;
  padding: 0em;
}
pre.text {
  border-style: dotted;
  border-width: 1px;
  background-color: #f8f8f8;
  width: 69em;
}
pre.drawing {
  border-style: solid;
  border-width: 1px;
  background-color: #f8f8f8;
  padding: 2em;
}
table {
  margin-left: 2em;
}
table.tt {
  vertical-align: top;
}
table.full {
  border-style: outset;
  border-width: 1px;
}
table.headers {
  border-style: outset;
  border-width: 1px;
}
table.tt td {
  vertical-align: top;
}
table.full td {
  border-style: inset;
  border-width: 1px;
}
table.tt th {
  vertical-align: top;
}
table.full th {
  border-style: inset;
  border-width: 1px;
}
table.headers th {
  border-style: none none inset none;
  border-width: 1px;
}
table.header {
  width: 95%;
  font-size: 10pt;
  color: white;
}
td.top {
  vertical-align: top;
}
td.topnowrap {
  vertical-align: top;
  white-space: nowrap; 
}
td.header {
  background-color: gray;
  width: 50%;
}
td.header a {
  color: white;
}
td.reference {
  vertical-align: top;
  white-space: nowrap;
  padding-right: 1em;
}
thead {
  display:table-header-group;
}
ul.toc {
  list-style: none;
  margin-left: 1.5em;
  margin-right: 0em;
  padding-left: 0em;
}
li.tocline0 {
  line-height: 150%;
  font-weight: bold;
  font-size: 10pt;
  margin-left: 0em;
  margin-right: 0em;
}
li.tocline1 {
  line-height: normal;
  font-weight: normal;
  font-size: 9pt;
  margin-left: 0em;
  margin-right: 0em;
}
li.tocline2 {
  font-size: 0pt;
}
ul p {
  margin-left: 0em;
}
ul.ind {
  list-style: none;
  margin-left: 1.5em;
  margin-right: 0em;
  padding-left: 0em;
}
li.indline0 {
  font-weight: bold;
  line-height: 200%;
  margin-left: 0em;
  margin-right: 0em;
}
li.indline1 {
  font-weight: normal;
  line-height: 150%;
  margin-left: 0em;
  margin-right: 0em;
}
.bcp14 {
  font-style: normal;
  text-transform: lowercase;
  font-variant: small-caps;
}
.comment {
  background-color: yellow;
}
.center {
  text-align: center;
}
.error {
  color: red;
  font-style: italic;
  font-weight: bold;
}
.figure {
  font-weight: bold;
  text-align: center;
  font-size: 9pt;
}
.filename {
  color: #333333;
  font-weight: bold;
  font-size: 12pt;
  line-height: 21pt;
  text-align: center;
}
.fn {
  font-weight: bold;
}
.hidden {
  display: none;
}
.left {
  text-align: left;
}
.right {
  text-align: right;
}
.title {
  color: #990000;
  font-size: 18pt;
  line-height: 18pt;
  font-weight: bold;
  text-align: center;
  margin-top: 36pt;
}
.vcardline {
  display: block;
}
.warning {
  font-size: 14pt;
  background-color: yellow;
}


@media print {
  .noprint {
    display: none;
  }
  
  a {
    color: black;
    text-decoration: none;
  }

  table.header {
    width: 90%;
  }

  td.header {
    width: 50%;
    color: black;
    background-color: white;
    vertical-align: top;
    font-size: 12pt;
  }

  ul.toc a::after {
    content: leader('.') target-counter(attr(href), page);
  }
  
  a.iref {
    content: target-counter(attr(href), page);
  }
  
  .print2col {
    column-count: 2;
    -moz-column-count: 2;
    column-fill: auto;
  }
}

@page {
  @top-left {
       content: "INTERNET DRAFT"; 
  } 
  @top-right {
       content: "November 2008"; 
  } 
  @top-center {
       content: "HTTP/1.1, Part 4"; 
  } 
  @bottom-left {
       content: "Fielding, et al."; 
  } 
  @bottom-center {
       content: "Standards Track"; 
  } 
  @bottom-right {
       content: "[Page " counter(page) "]"; 
  } 
}

@page:first { 
    @top-left {
      content: normal;
    }
    @top-right {
      content: normal;
    }
    @top-center {
      content: normal;
    }
}
</style><link rel="Contents" href="#rfc.toc">
      <link rel="Author" href="#rfc.authors">
      <link rel="Copyright" href="#rfc.copyright">
      <link rel="Index" href="#rfc.index">
      <link rel="Chapter" title="1 Introduction" href="#rfc.section.1">
      <link rel="Chapter" title="2 Notational Conventions and Generic Grammar" href="#rfc.section.2">
      <link rel="Chapter" title="3 Entity Tags" href="#rfc.section.3">
      <link rel="Chapter" title="4 Status Code Definitions" href="#rfc.section.4">
      <link rel="Chapter" title="5 Weak and Strong Validators" href="#rfc.section.5">
      <link rel="Chapter" title="6 Rules for When to Use Entity Tags and Last-Modified Dates" href="#rfc.section.6">
      <link rel="Chapter" title="7 Header Field Definitions" href="#rfc.section.7">
      <link rel="Chapter" title="8 IANA Considerations" href="#rfc.section.8">
      <link rel="Chapter" title="9 Security Considerations" href="#rfc.section.9">
      <link rel="Chapter" title="10 Acknowledgments" href="#rfc.section.10">
      <link rel="Chapter" href="#rfc.section.11" title="11 References">
      <link rel="Appendix" title="A Compatibility with Previous Versions" href="#rfc.section.A">
      <link rel="Appendix" title="B Change Log (to be removed by RFC Editor before publication)" href="#rfc.section.B">
      <meta name="generator" content="http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.400, 2008-10-10 14:04:14, XSLT vendor: SAXON 8.9 from Saxonica http://www.saxonica.com/">
      <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
      <meta name="DC.Creator" content="Fielding, R.">
      <meta name="DC.Creator" content="Gettys, J.">
      <meta name="DC.Creator" content="Mogul, J.">
      <meta name="DC.Creator" content="Frystyk, H.">
      <meta name="DC.Creator" content="Masinter, L.">
      <meta name="DC.Creator" content="Leach, P.">
      <meta name="DC.Creator" content="Berners-Lee, T.">
      <meta name="DC.Creator" content="Lafon, Y.">
      <meta name="DC.Creator" content="Reschke, J. F.">
      <meta name="DC.Identifier" content="urn:ietf:id:draft-ietf-httpbis-p4-conditional-latest">
      <meta name="DC.Date.Issued" scheme="ISO8601" content="2008-11">
      <meta name="DC.Relation.Replaces" content="urn:ietf:rfc:2616">
      <meta name="DC.Description.Abstract" content="The Hypertext Transfer Protocol (HTTP) is an application-level protocol for distributed, collaborative, hypermedia information systems. HTTP has been in use by the World Wide Web global information initiative since 1990. This document is Part 4 of the seven-part specification that defines the protocol referred to as &#34;HTTP/1.1&#34; and, taken together, obsoletes RFC 2616. Part 4 defines request header fields for indicating conditional requests and the rules for constructing responses to those requests.">
   </head>
   <body>
      <table summary="header information" class="header" border="0" cellpadding="1" cellspacing="1">
         <tr>
            <td class="header left">Network Working Group</td>
            <td class="header right">R. Fielding, Editor</td>
         </tr>
         <tr>
            <td class="header left">Internet Draft</td>
            <td class="header right">Day Software</td>
         </tr>
         <tr>
            <td class="header left">
               &lt;draft-ietf-httpbis-p4-conditional-latest&gt;
               
            </td>
            <td class="header right">J. Gettys</td>
         </tr>
         <tr>
            <td class="header left">Obsoletes: <a href="http://tools.ietf.org/html/rfc2616">2616</a> (if approved)
            </td>
            <td class="header right">One Laptop per Child</td>
         </tr>
         <tr>
            <td class="header left">Intended status: Standards Track</td>
            <td class="header right">J. Mogul</td>
         </tr>
         <tr>
            <td class="header left">Expires: May 2009</td>
            <td class="header right">HP</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">H. Frystyk</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">Microsoft</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">L. Masinter</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">Adobe Systems</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">P. Leach</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">Microsoft</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">T. Berners-Lee</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">W3C/MIT</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">Y. Lafon, Editor</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">W3C</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">J. F. Reschke, Editor</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">greenbytes</td>
         </tr>
         <tr>
            <td class="header left"></td>
            <td class="header right">November 13, 2008</td>
         </tr>
      </table>
      <p class="title">HTTP/1.1, part 4: Conditional Requests<br><span class="filename">draft-ietf-httpbis-p4-conditional-latest</span></p>
      <h1><a id="rfc.status" href="#rfc.status">Status of this Memo</a></h1>
      <p>By submitting this Internet-Draft, each author represents that any applicable patent or other IPR claims of which he or she
         is aware have been or will be disclosed, and any of which he or she becomes aware will be disclosed, in accordance with Section
         6 of BCP 79.
      </p>
      <p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF), its areas, and its working groups. Note
         that other groups may also distribute working documents as Internet-Drafts.
      </p>
      <p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other
         documents at any time. It is inappropriate to use Internet-Drafts as reference material or to cite them other than as “work
         in progress”.
      </p>
      <p>The list of current Internet-Drafts can be accessed at &lt;<a href="http://www.ietf.org/ietf/1id-abstracts.txt">http://www.ietf.org/ietf/1id-abstracts.txt</a>&gt;.
      </p>
      <p>The list of Internet-Draft Shadow Directories can be accessed at &lt;<a href="http://www.ietf.org/shadow.html">http://www.ietf.org/shadow.html</a>&gt;.
      </p>
      <p>This Internet-Draft will expire in May 2009.</p>
      <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1> 
      <p>The Hypertext Transfer Protocol (HTTP) is an application-level protocol for distributed, collaborative, hypermedia information
         systems. HTTP has been in use by the World Wide Web global information initiative since 1990. This document is Part 4 of the
         seven-part specification that defines the protocol referred to as "HTTP/1.1" and, taken together, obsoletes RFC 2616. Part
         4 defines request header fields for indicating conditional requests and the rules for constructing responses to those requests.
      </p> 
      <h1 id="rfc.note.1"><a href="#rfc.note.1">Editorial Note (To be removed by RFC Editor)</a></h1> 
      <p>Discussion of this draft should take place on the HTTPBIS working group mailing list (ietf-http-wg@w3.org). The current issues
         list is at &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/report/11">http://tools.ietf.org/wg/httpbis/trac/report/11</a>&gt; and related documents (including fancy diffs) can be found at &lt;<a href="http://tools.ietf.org/wg/httpbis/">http://tools.ietf.org/wg/httpbis/</a>&gt;.
      </p>  
      <p>The changes in this draft are summarized in <a href="#changes.since.04" title="Since draft-ietf-httpbis-p4-conditional-04">Appendix&nbsp;B.6</a>.
      </p> 
      <hr class="noprint">
      <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
      <ul class="toc">
         <li class="tocline0">1.&nbsp;&nbsp;&nbsp;<a href="#introduction">Introduction</a><ul class="toc">
               <li class="tocline1">1.1&nbsp;&nbsp;&nbsp;<a href="#intro.requirements">Requirements</a></li>
            </ul>
         </li>
         <li class="tocline0">2.&nbsp;&nbsp;&nbsp;<a href="#notation">Notational Conventions and Generic Grammar</a></li>
         <li class="tocline0">3.&nbsp;&nbsp;&nbsp;<a href="#entity.tags">Entity Tags</a></li>
         <li class="tocline0">4.&nbsp;&nbsp;&nbsp;<a href="#rfc.section.4">Status Code Definitions</a><ul class="toc">
               <li class="tocline1">4.1&nbsp;&nbsp;&nbsp;<a href="#status.304">304 Not Modified</a></li>
               <li class="tocline1">4.2&nbsp;&nbsp;&nbsp;<a href="#status.412">412 Precondition Failed</a></li>
            </ul>
         </li>
         <li class="tocline0">5.&nbsp;&nbsp;&nbsp;<a href="#weak.and.strong.validators">Weak and Strong Validators</a></li>
         <li class="tocline0">6.&nbsp;&nbsp;&nbsp;<a href="#rules.for.when.to.use.entity.tags.and.last-modified.dates">Rules for When to Use Entity Tags and Last-Modified Dates</a></li>
         <li class="tocline0">7.&nbsp;&nbsp;&nbsp;<a href="#header.fields">Header Field Definitions</a><ul class="toc">
               <li class="tocline1">7.1&nbsp;&nbsp;&nbsp;<a href="#header.etag">ETag</a></li>
               <li class="tocline1">7.2&nbsp;&nbsp;&nbsp;<a href="#header.if-match">If-Match</a></li>
               <li class="tocline1">7.3&nbsp;&nbsp;&nbsp;<a href="#header.if-modified-since">If-Modified-Since</a></li>
               <li class="tocline1">7.4&nbsp;&nbsp;&nbsp;<a href="#header.if-none-match">If-None-Match</a></li>
               <li class="tocline1">7.5&nbsp;&nbsp;&nbsp;<a href="#header.if-unmodified-since">If-Unmodified-Since</a></li>
               <li class="tocline1">7.6&nbsp;&nbsp;&nbsp;<a href="#header.last-modified">Last-Modified</a></li>
            </ul>
         </li>
         <li class="tocline0">8.&nbsp;&nbsp;&nbsp;<a href="#IANA.considerations">IANA Considerations</a><ul class="toc">
               <li class="tocline1">8.1&nbsp;&nbsp;&nbsp;<a href="#message.header.registration">Message Header Registration</a></li>
            </ul>
         </li>
         <li class="tocline0">9.&nbsp;&nbsp;&nbsp;<a href="#security.considerations">Security Considerations</a></li>
         <li class="tocline0">10.&nbsp;&nbsp;&nbsp;<a href="#ack">Acknowledgments</a></li>
         <li class="tocline0">11.&nbsp;&nbsp;&nbsp;<a href="#rfc.references">References</a><ul class="toc">
               <li class="tocline1">11.1&nbsp;&nbsp;&nbsp;<a href="#rfc.references.1">Normative References</a></li>
               <li class="tocline1">11.2&nbsp;&nbsp;&nbsp;<a href="#rfc.references.2">Informative References</a></li>
            </ul>
         </li>
         <li class="tocline0"><a href="#rfc.authors">Authors' Addresses</a></li>
         <li class="tocline0">A.&nbsp;&nbsp;&nbsp;<a href="#compatibility">Compatibility with Previous Versions</a><ul class="toc">
               <li class="tocline1">A.1&nbsp;&nbsp;&nbsp;<a href="#changes.from.rfc.2616">Changes from RFC 2616</a></li>
            </ul>
         </li>
         <li class="tocline0">B.&nbsp;&nbsp;&nbsp;<a href="#change.log">Change Log (to be removed by RFC Editor before publication)</a><ul class="toc">
               <li class="tocline1">B.1&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.1">Since RFC2616</a></li>
               <li class="tocline1">B.2&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.2">Since draft-ietf-httpbis-p4-conditional-00</a></li>
               <li class="tocline1">B.3&nbsp;&nbsp;&nbsp;<a href="#rfc.section.B.3">Since draft-ietf-httpbis-p4-conditional-01</a></li>
               <li class="tocline1">B.4&nbsp;&nbsp;&nbsp;<a href="#changes.since.02">Since draft-ietf-httpbis-p4-conditional-02</a></li>
               <li class="tocline1">B.5&nbsp;&nbsp;&nbsp;<a href="#changes.since.03">Since draft-ietf-httpbis-p4-conditional-03</a></li>
               <li class="tocline1">B.6&nbsp;&nbsp;&nbsp;<a href="#changes.since.04">Since draft-ietf-httpbis-p4-conditional-04</a></li>
            </ul>
         </li>
         <li class="tocline0"><a href="#rfc.ipr">Intellectual Property and Copyright Statements</a></li>
         <li class="tocline0"><a href="#rfc.index">Index</a></li>
      </ul>
      <h1 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a id="introduction" href="#introduction">Introduction</a></h1>
      <p id="rfc.section.1.p.1">This document defines HTTP/1.1 response metadata for indicating potential changes to payload content, including modification
         time stamps and opaque entity-tags, and the HTTP conditional request mechanisms that allow preconditions to be placed on a
         request method. Conditional GET requests allow for efficient cache updates. Other conditional request methods are used to
         protect against overwriting or misunderstanding the state of a resource that has been changed unbeknownst to the requesting
         client.
      </p>
      <p id="rfc.section.1.p.2">This document is currently disorganized in order to minimize the changes between drafts and enable reviewers to see the smaller
         errata changes. The next draft will reorganize the sections to better reflect the content. In particular, the sections on
         resource metadata will be discussed first and then followed by each conditional request-header, concluding with a definition
         of precedence and the expectation of ordering strong validator checks before weak validator checks. It is likely that more
         content from <a href="#Part6" id="rfc.xref.Part6.1"><cite title="HTTP/1.1, part 6: Caching">[Part6]</cite></a> will migrate to this part, where appropriate. The current mess reflects how widely dispersed these topics and associated requirements
         had become in <a href="#RFC2616" id="rfc.xref.RFC2616.1"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>.
      </p>
      <h2 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1</a>&nbsp;<a id="intro.requirements" href="#intro.requirements">Requirements</a></h2>
      <p id="rfc.section.1.1.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL"
         in this document are to be interpreted as described in <a href="#RFC2119" id="rfc.xref.RFC2119.1"><cite title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a>.
      </p>
      <p id="rfc.section.1.1.p.2">An implementation is not compliant if it fails to satisfy one or more of the <em class="bcp14">MUST</em> or <em class="bcp14">REQUIRED</em> level requirements for the protocols it implements. An implementation that satisfies all the <em class="bcp14">MUST</em> or <em class="bcp14">REQUIRED</em> level and all the <em class="bcp14">SHOULD</em> level requirements for its protocols is said to be "unconditionally compliant"; one that satisfies all the <em class="bcp14">MUST</em> level requirements but not all the <em class="bcp14">SHOULD</em> level requirements for its protocols is said to be "conditionally compliant."
      </p>
      <h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;<a id="notation" href="#notation">Notational Conventions and Generic Grammar</a></h1>
      <p id="rfc.section.2.p.1">This specification uses the ABNF syntax defined in <a href="p1-messaging.html#notation.abnf" title="ABNF Extension: #rule">Section 2.1</a> of <a href="#Part1" id="rfc.xref.Part1.1"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a> and the core rules defined in <a href="p1-messaging.html#basic.rules" title="Basic Rules">Section 2.2</a> of <a href="#Part1" id="rfc.xref.Part1.2"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>: <span class="comment">[abnf.dep: ABNF syntax and basic rules will be adopted from RFC 5234, see &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/36">http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>&gt;.]</span> 
      </p>
      <div id="rfc.figure.u.1"></div><pre class="inline">  <a href="#notation" class="smpl">quoted-string</a> = &lt;quoted-string, defined in <a href="#Part1" id="rfc.xref.Part1.3"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#basic.rules" title="Basic Rules">Section 2.2</a>&gt;
  <a href="#notation" class="smpl">OWS</a>           = &lt;OWS, defined in <a href="#Part1" id="rfc.xref.Part1.4"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#basic.rules" title="Basic Rules">Section 2.2</a>&gt;
</pre><div id="abnf.dependencies">
         <p id="rfc.section.2.p.3">  The ABNF rules below are defined in other parts:</p>
      </div>
      <div id="rfc.figure.u.2"></div><pre class="inline">  <a href="#abnf.dependencies" class="smpl">HTTP-date</a>     = &lt;HTTP-date, defined in <a href="#Part1" id="rfc.xref.Part1.5"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, <a href="p1-messaging.html#full.date" title="Full Date">Section 3.3.1</a>&gt;
</pre><h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a id="entity.tags" href="#entity.tags">Entity Tags</a></h1>
      <p id="rfc.section.3.p.1">Entity tags are used for comparing two or more entities from the same requested resource. HTTP/1.1 uses entity tags in the
         ETag (<a href="#header.etag" id="rfc.xref.header.etag.1" title="ETag">Section&nbsp;7.1</a>), If-Match (<a href="#header.if-match" id="rfc.xref.header.if-match.1" title="If-Match">Section&nbsp;7.2</a>), If-None-Match (<a href="#header.if-none-match" id="rfc.xref.header.if-none-match.1" title="If-None-Match">Section&nbsp;7.4</a>), and If-Range (<a href="p5-range.html#header.if-range" title="If-Range">Section 6.3</a> of <a href="#Part5" id="rfc.xref.Part5.1"><cite title="HTTP/1.1, part 5: Range Requests and Partial Responses">[Part5]</cite></a>) header fields. The definition of how they are used and compared as cache validators is in <a href="#weak.and.strong.validators" title="Weak and Strong Validators">Section&nbsp;5</a>. An entity tag consists of an opaque quoted string, possibly prefixed by a weakness indicator.
      </p>
      <div id="rfc.figure.u.3"></div><pre class="inline"><span id="rfc.iref.g.1"></span><span id="rfc.iref.g.2"></span><span id="rfc.iref.g.3"></span>  <a href="#entity.tags" class="smpl">entity-tag</a> = [ <a href="#entity.tags" class="smpl">weak</a> ] <a href="#entity.tags" class="smpl">opaque-tag</a>
  <a href="#entity.tags" class="smpl">weak</a>       = "W/"
  <a href="#entity.tags" class="smpl">opaque-tag</a> = <a href="#notation" class="smpl">quoted-string</a>
</pre><p id="rfc.section.3.p.3">A "strong entity tag" <em class="bcp14">MAY</em> be shared by two entities of a resource only if they are equivalent by octet equality.
      </p>
      <p id="rfc.section.3.p.4">A "weak entity tag," indicated by the "W/" prefix, <em class="bcp14">MAY</em> be shared by two entities of a resource only if the entities are equivalent and could be substituted for each other with no
         significant change in semantics. A weak entity tag can only be used for weak comparison.
      </p>
      <p id="rfc.section.3.p.5">An entity tag <em class="bcp14">MUST</em> be unique across all versions of all entities associated with a particular resource. A given entity tag value <em class="bcp14">MAY</em> be used for entities obtained by requests on different URIs. The use of the same entity tag value in conjunction with entities
         obtained by requests on different URIs does not imply the equivalence of those entities.
      </p>
      <h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;Status Code Definitions
      </h1>
      <div id="rfc.iref.3"></div>
      <div id="rfc.iref.s.1"></div>
      <h2 id="rfc.section.4.1"><a href="#rfc.section.4.1">4.1</a>&nbsp;<a id="status.304" href="#status.304">304 Not Modified</a></h2>
      <p id="rfc.section.4.1.p.1">If the client has performed a conditional GET request and access is allowed, but the document has not been modified, the server <em class="bcp14">SHOULD</em> respond with this status code. The 304 response <em class="bcp14">MUST NOT</em> contain a message-body, and thus is always terminated by the first empty line after the header fields.
      </p>
      <p id="rfc.section.4.1.p.2">The response <em class="bcp14">MUST</em> include the following header fields: 
      </p>
      <ul>
         <li>
            <p>Date, unless its omission is required by <a href="p1-messaging.html#clockless.origin.server.operation" title="Clockless Origin Server Operation">Section 8.3.1</a> of <a href="#Part1" id="rfc.xref.Part1.6"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>.
            </p>
            <p>If a clockless origin server obeys these rules, and proxies and clients add their own Date to any response received without
               one (as already specified by <a href="p1-messaging.html#header.date" title="Date">Section 8.3</a> of <a href="#Part1" id="rfc.xref.Part1.7"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>, caches will operate correctly.
            </p>
         </li>
         <li>
            <p>ETag and/or Content-Location, if the header would have been sent in a 200 response to the same request.</p>
         </li>
         <li>
            <p>Expires, Cache-Control, and/or Vary, if the field-value might differ from that sent in any previous response for the same
               variant.
            </p>
         </li>
      </ul>
      <p id="rfc.section.4.1.p.3">If the conditional GET used a strong cache validator (see <a href="#weak.and.strong.validators" title="Weak and Strong Validators">Section&nbsp;5</a>), the response <em class="bcp14">SHOULD NOT</em> include other entity-headers. Otherwise (i.e., the conditional GET used a weak validator), the response <em class="bcp14">MUST NOT</em> include other entity-headers; this prevents inconsistencies between cached entity-bodies and updated headers.
      </p>
      <p id="rfc.section.4.1.p.4">If a 304 response indicates an entity not currently cached, then the cache <em class="bcp14">MUST</em> disregard the response and repeat the request without the conditional.
      </p>
      <p id="rfc.section.4.1.p.5">If a cache uses a received 304 response to update a cache entry, the cache <em class="bcp14">MUST</em> update the entry to reflect any new field values given in the response.
      </p>
      <div id="rfc.iref.4"></div>
      <div id="rfc.iref.s.2"></div>
      <h2 id="rfc.section.4.2"><a href="#rfc.section.4.2">4.2</a>&nbsp;<a id="status.412" href="#status.412">412 Precondition Failed</a></h2>
      <p id="rfc.section.4.2.p.1">The precondition given in one or more of the request-header fields evaluated to false when it was tested on the server. This
         response code allows the client to place preconditions on the current resource metainformation (header field data) and thus
         prevent the requested method from being applied to a resource other than the one intended.
      </p>
      <h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a id="weak.and.strong.validators" href="#weak.and.strong.validators">Weak and Strong Validators</a></h1>
      <p id="rfc.section.5.p.1">Since both origin servers and caches will compare two validators to decide if they represent the same or different entities,
         one normally would expect that if the entity (the entity-body or any entity-headers) changes in any way, then the associated
         validator would change as well. If this is true, then we call this validator a "strong validator."
      </p>
      <p id="rfc.section.5.p.2">However, there might be cases when a server prefers to change the validator only on semantically significant changes, and
         not when insignificant aspects of the entity change. A validator that does not always change when the resource changes is
         a "weak validator."
      </p>
      <p id="rfc.section.5.p.3">Entity tags are normally "strong validators," but the protocol provides a mechanism to tag an entity tag as "weak." One can
         think of a strong validator as one that changes whenever the bits of an entity changes, while a weak value changes whenever
         the meaning of an entity changes. Alternatively, one can think of a strong validator as part of an identifier for a specific
         entity, while a weak validator is part of an identifier for a set of semantically equivalent entities. 
      </p>
      <dl class="empty">
         <dd> <b>Note:</b> One example of a strong validator is an integer that is incremented in stable storage every time an entity is changed.
         </dd>
         <dd>An entity's modification time, if represented with one-second resolution, could be a weak validator, since it is possible
            that the resource might be modified twice during a single second.
         </dd>
         <dd>Support for weak validators is optional. However, weak validators allow for more efficient caching of equivalent objects;
            for example, a hit counter on a site is probably good enough if it is updated every few days or weeks, and any value during
            that period is likely "good enough" to be equivalent.
         </dd>
      </dl>
      <p id="rfc.section.5.p.4">A "use" of a validator is either when a client generates a request and includes the validator in a validating header field,
         or when a server compares two validators.
      </p>
      <p id="rfc.section.5.p.5">Strong validators are usable in any context. Weak validators are only usable in contexts that do not depend on exact equality
         of an entity. For example, either kind is usable for a conditional GET of a full entity. However, only a strong validator
         is usable for a sub-range retrieval, since otherwise the client might end up with an internally inconsistent entity.
      </p>
      <p id="rfc.section.5.p.6">Clients <em class="bcp14">MUST NOT</em> use weak validators in range requests (<a href="#Part5" id="rfc.xref.Part5.2"><cite title="HTTP/1.1, part 5: Range Requests and Partial Responses">[Part5]</cite></a>).
      </p>
      <p id="rfc.section.5.p.7">The only function that HTTP/1.1 defines on validators is comparison. There are two validator comparison functions, depending
         on whether the comparison context allows the use of weak validators or not: 
      </p>
      <ul>
         <li>The strong comparison function: in order to be considered equal, both opaque-tags <em class="bcp14">MUST</em> be identical character-by-character, and both <em class="bcp14">MUST NOT</em> be weak.
         </li>
         <li>The weak comparison function: in order to be considered equal, both opaque-tags <em class="bcp14">MUST</em> be identical character-by-character.
         </li>
      </ul>
      <p id="rfc.section.5.p.8">The example below shows the results for a set of entity tag pairs, and both the weak and strong comparison function results:</p>
      <div id="rfc.table.u.1">
         <table summary="" class="tt full" cellpadding="3" cellspacing="0">
            <thead>
               <tr>
                  <th>ETag 1</th>
                  <th>ETag 2</th>
                  <th>Strong Comparison</th>
                  <th>Weak Comparison</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td>W/"1"</td>
                  <td>W/"1"</td>
                  <td>no match</td>
                  <td>match</td>
               </tr>
               <tr>
                  <td>W/"1"</td>
                  <td>W/"2"</td>
                  <td>no match</td>
                  <td>no match</td>
               </tr>
               <tr>
                  <td>W/"1"</td>
                  <td>"1"</td>
                  <td>no match</td>
                  <td>match</td>
               </tr>
               <tr>
                  <td>"1"</td>
                  <td>"1"</td>
                  <td>match</td>
                  <td>match</td>
               </tr>
            </tbody>
         </table>
      </div>
      <p id="rfc.section.5.p.9">An entity tag is strong unless it is explicitly tagged as weak. <a href="#entity.tags" title="Entity Tags">Section&nbsp;3</a> gives the syntax for entity tags.
      </p>
      <p id="rfc.section.5.p.10">A Last-Modified time, when used as a validator in a request, is implicitly weak unless it is possible to deduce that it is
         strong, using the following rules: 
      </p>
      <ul>
         <li>The validator is being compared by an origin server to the actual current validator for the entity and,</li>
         <li>That origin server reliably knows that the associated entity did not change twice during the second covered by the presented
            validator.
         </li>
      </ul>
      <p id="rfc.section.5.p.11">or </p>
      <ul>
         <li>The validator is about to be used by a client in an If-Modified-Since or If-Unmodified-Since header, because the client has
            a cache entry for the associated entity, and
         </li>
         <li>That cache entry includes a Date value, which gives the time when the origin server sent the original response, and</li>
         <li>The presented Last-Modified time is at least 60 seconds before the Date value.</li>
      </ul>
      <p id="rfc.section.5.p.12">or </p>
      <ul>
         <li>The validator is being compared by an intermediate cache to the validator stored in its cache entry for the entity, and</li>
         <li>That cache entry includes a Date value, which gives the time when the origin server sent the original response, and</li>
         <li>The presented Last-Modified time is at least 60 seconds before the Date value.</li>
      </ul>
      <p id="rfc.section.5.p.13">This method relies on the fact that if two different responses were sent by the origin server during the same second, but
         both had the same Last-Modified time, then at least one of those responses would have a Date value equal to its Last-Modified
         time. The arbitrary 60-second limit guards against the possibility that the Date and Last-Modified values are generated from
         different clocks, or at somewhat different times during the preparation of the response. An implementation <em class="bcp14">MAY</em> use a value larger than 60 seconds, if it is believed that 60 seconds is too short.
      </p>
      <p id="rfc.section.5.p.14">If a client wishes to perform a sub-range retrieval on a value for which it has only a Last-Modified time and no opaque validator,
         it <em class="bcp14">MAY</em> do this only if the Last-Modified time is strong in the sense described here.
      </p>
      <p id="rfc.section.5.p.15">A cache or origin server receiving a conditional range request (<a href="#Part5" id="rfc.xref.Part5.3"><cite title="HTTP/1.1, part 5: Range Requests and Partial Responses">[Part5]</cite></a>) <em class="bcp14">MUST</em> use the strong comparison function to evaluate the condition.
      </p>
      <p id="rfc.section.5.p.16">These rules allow HTTP/1.1 caches and clients to safely perform sub-range retrievals on values that have been obtained from
         HTTP/1.0 servers.
      </p>
      <h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a>&nbsp;<a id="rules.for.when.to.use.entity.tags.and.last-modified.dates" href="#rules.for.when.to.use.entity.tags.and.last-modified.dates">Rules for When to Use Entity Tags and Last-Modified Dates</a></h1>
      <p id="rfc.section.6.p.1">We adopt a set of rules and recommendations for origin servers, clients, and caches regarding when various validator types
         ought to be used, and for what purposes.
      </p>
      <p id="rfc.section.6.p.2">HTTP/1.1 origin servers: </p>
      <ul>
         <li><em class="bcp14">SHOULD</em> send an entity tag validator unless it is not feasible to generate one.
         </li>
         <li><em class="bcp14">MAY</em> send a weak entity tag instead of a strong entity tag, if performance considerations support the use of weak entity tags,
            or if it is unfeasible to send a strong entity tag.
         </li>
         <li><em class="bcp14">SHOULD</em> send a Last-Modified value if it is feasible to send one, unless the risk of a breakdown in semantic transparency that could
            result from using this date in an If-Modified-Since header would lead to serious problems.
         </li>
      </ul>
      <p id="rfc.section.6.p.3">In other words, the preferred behavior for an HTTP/1.1 origin server is to send both a strong entity tag and a Last-Modified
         value.
      </p>
      <p id="rfc.section.6.p.4">In order to be legal, a strong entity tag <em class="bcp14">MUST</em> change whenever the associated entity changes in any way. A weak entity tag <em class="bcp14">SHOULD</em> change whenever the associated entity changes in a semantically significant way. 
      </p>
      <dl class="empty">
         <dd> <b>Note:</b> in order to provide semantically transparent caching, an origin server must avoid reusing a specific strong entity tag value
            for two different entities, or reusing a specific weak entity tag value for two semantically different entities. Cache entries
            might persist for arbitrarily long periods, regardless of expiration times, so it might be inappropriate to expect that a
            cache will never again attempt to validate an entry using a validator that it obtained at some point in the past.
         </dd>
      </dl>
      <p id="rfc.section.6.p.5">HTTP/1.1 clients: </p>
      <ul>
         <li>If an entity tag has been provided by the origin server, <em class="bcp14">MUST</em> use that entity tag in any cache-conditional request (using If-Match or If-None-Match).
         </li>
         <li>If only a Last-Modified value has been provided by the origin server, <em class="bcp14">SHOULD</em> use that value in non-subrange cache-conditional requests (using If-Modified-Since).
         </li>
         <li>If only a Last-Modified value has been provided by an HTTP/1.0 origin server, <em class="bcp14">MAY</em> use that value in subrange cache-conditional requests (using If-Unmodified-Since:). The user agent <em class="bcp14">SHOULD</em> provide a way to disable this, in case of difficulty.
         </li>
         <li>If both an entity tag and a Last-Modified value have been provided by the origin server, <em class="bcp14">SHOULD</em> use both validators in cache-conditional requests. This allows both HTTP/1.0 and HTTP/1.1 caches to respond appropriately.
         </li>
      </ul>
      <p id="rfc.section.6.p.6">An HTTP/1.1 origin server, upon receiving a conditional request that includes both a Last-Modified date (e.g., in an If-Modified-Since
         or If-Unmodified-Since header field) and one or more entity tags (e.g., in an If-Match, If-None-Match, or If-Range header
         field) as cache validators, <em class="bcp14">MUST NOT</em> return a response status of 304 (Not Modified) unless doing so is consistent with all of the conditional header fields in
         the request.
      </p>
      <p id="rfc.section.6.p.7">An HTTP/1.1 caching proxy, upon receiving a conditional request that includes both a Last-Modified date and one or more entity
         tags as cache validators, <em class="bcp14">MUST NOT</em> return a locally cached response to the client unless that cached response is consistent with all of the conditional header
         fields in the request. 
      </p>
      <dl class="empty">
         <dd> <b>Note:</b> The general principle behind these rules is that HTTP/1.1 servers and clients should transmit as much non-redundant information
            as is available in their responses and requests. HTTP/1.1 systems receiving this information will make the most conservative
            assumptions about the validators they receive.
         </dd>
         <dd>HTTP/1.0 clients and caches will ignore entity tags. Generally, last-modified values received or used by these systems will
            support transparent and efficient caching, and so HTTP/1.1 origin servers should provide Last-Modified values. In those rare
            cases where the use of a Last-Modified value as a validator by an HTTP/1.0 system could result in a serious problem, then
            HTTP/1.1 origin servers should not provide one.
         </dd>
      </dl>
      <h1 id="rfc.section.7"><a href="#rfc.section.7">7.</a>&nbsp;<a id="header.fields" href="#header.fields">Header Field Definitions</a></h1>
      <p id="rfc.section.7.p.1">This section defines the syntax and semantics of HTTP/1.1 header fields related to conditional requests.</p>
      <p id="rfc.section.7.p.2">For entity-header fields, both sender and recipient refer to either the client or the server, depending on who sends and who
         receives the entity.
      </p>
      <div id="rfc.iref.e.1"></div>
      <div id="rfc.iref.h.1"></div>
      <h2 id="rfc.section.7.1"><a href="#rfc.section.7.1">7.1</a>&nbsp;<a id="header.etag" href="#header.etag">ETag</a></h2>
      <p id="rfc.section.7.1.p.1">The response-header field "ETag" provides the current value of the entity tag (see <a href="#entity.tags" title="Entity Tags">Section&nbsp;3</a>) for the requested variant. The headers used with entity tags are described in Sections <a href="#header.if-match" id="rfc.xref.header.if-match.2" title="If-Match">7.2</a> and <a href="#header.if-none-match" id="rfc.xref.header.if-none-match.2" title="If-None-Match">7.4</a> of this document, and in <a href="p5-range.html#header.if-range" title="If-Range">Section 6.3</a> of <a href="#Part5" id="rfc.xref.Part5.4"><cite title="HTTP/1.1, part 5: Range Requests and Partial Responses">[Part5]</cite></a>. The entity tag <em class="bcp14">MAY</em> be used for comparison with other entities from the same resource (see <a href="#weak.and.strong.validators" title="Weak and Strong Validators">Section&nbsp;5</a>).
      </p>
      <div id="rfc.figure.u.4"></div><pre class="inline"><span id="rfc.iref.g.4"></span><span id="rfc.iref.g.5"></span>  <a href="#header.etag" class="smpl">ETag</a>   = "ETag" ":" <a href="#notation" class="smpl">OWS</a> <a href="#header.etag" class="smpl">ETag-v</a>
  <a href="#header.etag" class="smpl">ETag-v</a> = <a href="#entity.tags" class="smpl">entity-tag</a>
</pre><div id="rfc.figure.u.5"></div>
      <p>Examples:</p>  <pre class="text">  ETag: "xyzzy"
  ETag: W/"xyzzy"
  ETag: ""
</pre><p id="rfc.section.7.1.p.4">The ETag response-header field value, an entity tag, provides for an "opaque" cache validator. This might allow more reliable
         validation in situations where it is inconvenient to store modification dates, where the one-second resolution of HTTP date
         values is not sufficient, or where the origin server wishes to avoid certain paradoxes that might arise from the use of modification
         dates.
      </p>
      <p id="rfc.section.7.1.p.5">The principle behind entity tags is that only the service author knows the semantics of a resource well enough to select an
         appropriate cache validation mechanism, and the specification of any validator comparison function more complex than byte-equality
         would open up a can of worms. Thus, comparisons of any other headers (except Last-Modified, for compatibility with HTTP/1.0)
         are never used for purposes of validating a cache entry.
      </p>
      <div id="rfc.iref.i.1"></div>
      <div id="rfc.iref.h.2"></div>
      <h2 id="rfc.section.7.2"><a href="#rfc.section.7.2">7.2</a>&nbsp;<a id="header.if-match" href="#header.if-match">If-Match</a></h2>
      <p id="rfc.section.7.2.p.1">The request-header field "If-Match" is used with a method to make it conditional. A client that has one or more entities previously
         obtained from the resource can verify that one of those entities is current by including a list of their associated entity
         tags in the If-Match header field. Entity tags are defined in <a href="#entity.tags" title="Entity Tags">Section&nbsp;3</a>. The purpose of this feature is to allow efficient updates of cached information with a minimum amount of transaction overhead.
         It is also used, on updating requests, to prevent inadvertent modification of the wrong version of a resource. As a special
         case, the value "*" matches any current entity of the resource.
      </p>
      <div id="rfc.figure.u.6"></div><pre class="inline"><span id="rfc.iref.g.6"></span><span id="rfc.iref.g.7"></span>  <a href="#header.if-match" class="smpl">If-Match</a>   = "If-Match" ":" <a href="#notation" class="smpl">OWS</a> <a href="#header.if-match" class="smpl">If-Match-v</a>
  <a href="#header.if-match" class="smpl">If-Match-v</a> = "*" / 1#<a href="#entity.tags" class="smpl">entity-tag</a>
</pre><p id="rfc.section.7.2.p.3">If any of the entity tags match the entity tag of the entity that would have been returned in the response to a similar GET
         request (without the If-Match header) on that resource, or if "*" is given and any current entity exists for that resource,
         then the server <em class="bcp14">MAY</em> perform the requested method as if the If-Match header field did not exist.
      </p>
      <p id="rfc.section.7.2.p.4">A server <em class="bcp14">MUST</em> use the strong comparison function (see <a href="#weak.and.strong.validators" title="Weak and Strong Validators">Section&nbsp;5</a>) to compare the entity tags in If-Match.
      </p>
      <p id="rfc.section.7.2.p.5">If none of the entity tags match, or if "*" is given and no current entity exists, the server <em class="bcp14">MUST NOT</em> perform the requested method, and <em class="bcp14">MUST</em> return a 412 (Precondition Failed) response. This behavior is most useful when the client wants to prevent an updating method,
         such as PUT, from modifying a resource that has changed since the client last retrieved it.
      </p>
      <p id="rfc.section.7.2.p.6">If the request would, without the If-Match header field, result in anything other than a 2xx or 412 status, then the If-Match
         header <em class="bcp14">MUST</em> be ignored.
      </p>
      <p id="rfc.section.7.2.p.7">The meaning of "If-Match: *" is that the method <em class="bcp14">SHOULD</em> be performed if the representation selected by the origin server (or by a cache, possibly using the Vary mechanism, see <a href="p6-cache.html#header.vary" title="Vary">Section 16.5</a> of <a href="#Part6" id="rfc.xref.Part6.2"><cite title="HTTP/1.1, part 6: Caching">[Part6]</cite></a>) exists, and <em class="bcp14">MUST NOT</em> be performed if the representation does not exist.
      </p>
      <p id="rfc.section.7.2.p.8">A request intended to update a resource (e.g., a PUT) <em class="bcp14">MAY</em> include an If-Match header field to signal that the request method <em class="bcp14">MUST NOT</em> be applied if the entity corresponding to the If-Match value (a single entity tag) is no longer a representation of that resource.
         This allows the user to indicate that they do not wish the request to be successful if the resource has been changed without
         their knowledge. Examples:
      </p>
      <div id="rfc.figure.u.7"></div><pre class="text">  If-Match: "xyzzy"
  If-Match: "xyzzy", "r2d2xxxx", "c3piozzzz"
  If-Match: *
</pre><p id="rfc.section.7.2.p.10">The result of a request having both an If-Match header field and either an If-None-Match or an If-Modified-Since header fields
         is undefined by this specification.
      </p>
      <div id="rfc.iref.i.2"></div>
      <div id="rfc.iref.h.3"></div>
      <h2 id="rfc.section.7.3"><a href="#rfc.section.7.3">7.3</a>&nbsp;<a id="header.if-modified-since" href="#header.if-modified-since">If-Modified-Since</a></h2>
      <p id="rfc.section.7.3.p.1">The request-header field "If-Modified-Since" is used with a method to make it conditional: if the requested variant has not
         been modified since the time specified in this field, an entity will not be returned from the server; instead, a 304 (Not
         Modified) response will be returned without any message-body.
      </p>
      <div id="rfc.figure.u.8"></div><pre class="inline"><span id="rfc.iref.g.8"></span><span id="rfc.iref.g.9"></span>  <a href="#header.if-modified-since" class="smpl">If-Modified-Since</a>   = "If-Modified-Since" ":" <a href="#notation" class="smpl">OWS</a> <a href="#header.if-modified-since" class="smpl">If-Modified-Since-v</a>
  <a href="#header.if-modified-since" class="smpl">If-Modified-Since-v</a> = <a href="#abnf.dependencies" class="smpl">HTTP-date</a>
</pre><p id="rfc.section.7.3.p.3">An example of the field is:</p>
      <div id="rfc.figure.u.9"></div><pre class="text">  If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT
</pre><p id="rfc.section.7.3.p.5">A GET method with an If-Modified-Since header and no Range header requests that the identified entity be transferred only
         if it has been modified since the date given by the If-Modified-Since header. The algorithm for determining this includes
         the following cases: 
      </p>
      <ol>
         <li>If the request would normally result in anything other than a 200 (OK) status, or if the passed If-Modified-Since date is
            invalid, the response is exactly the same as for a normal GET. A date which is later than the server's current time is invalid.
         </li>
         <li>If the variant has been modified since the If-Modified-Since date, the response is exactly the same as for a normal GET.</li>
         <li>If the variant has not been modified since a valid If-Modified-Since date, the server <em class="bcp14">SHOULD</em> return a 304 (Not Modified) response.
         </li>
      </ol>
      <p id="rfc.section.7.3.p.6">The purpose of this feature is to allow efficient updates of cached information with a minimum amount of transaction overhead. </p>
      <dl class="empty">
         <dd> <b>Note:</b> The Range request-header field modifies the meaning of If-Modified-Since; see <a href="p5-range.html#header.range" title="Range">Section 6.4</a> of <a href="#Part5" id="rfc.xref.Part5.5"><cite title="HTTP/1.1, part 5: Range Requests and Partial Responses">[Part5]</cite></a> for full details.
         </dd>
         <dd> <b>Note:</b> If-Modified-Since times are interpreted by the server, whose clock might not be synchronized with the client.
         </dd>
         <dd> <b>Note:</b> When handling an If-Modified-Since header field, some servers will use an exact date comparison function, rather than a less-than
            function, for deciding whether to send a 304 (Not Modified) response. To get best results when sending an If-Modified-Since
            header field for cache validation, clients are advised to use the exact date string received in a previous Last-Modified header
            field whenever possible.
         </dd>
         <dd> <b>Note:</b> If a client uses an arbitrary date in the If-Modified-Since header instead of a date taken from the Last-Modified header for
            the same request, the client should be aware of the fact that this date is interpreted in the server's understanding of time.
            The client should consider unsynchronized clocks and rounding problems due to the different encodings of time between the
            client and server. This includes the possibility of race conditions if the document has changed between the time it was first
            requested and the If-Modified-Since date of a subsequent request, and the possibility of clock-skew-related problems if the
            If-Modified-Since date is derived from the client's clock without correction to the server's clock. Corrections for different
            time bases between client and server are at best approximate due to network latency.
         </dd>
      </dl>
      <p id="rfc.section.7.3.p.7">The result of a request having both an If-Modified-Since header field and either an If-Match or an If-Unmodified-Since header
         fields is undefined by this specification.
      </p>
      <div id="rfc.iref.i.3"></div>
      <div id="rfc.iref.h.4"></div>
      <h2 id="rfc.section.7.4"><a href="#rfc.section.7.4">7.4</a>&nbsp;<a id="header.if-none-match" href="#header.if-none-match">If-None-Match</a></h2>
      <p id="rfc.section.7.4.p.1">The request-header field "If-None-Match" is used with a method to make it conditional. A client that has one or more entities
         previously obtained from the resource can verify that none of those entities is current by including a list of their associated
         entity tags in the If-None-Match header field. The purpose of this feature is to allow efficient updates of cached information
         with a minimum amount of transaction overhead. It is also used to prevent a method (e.g. PUT) from inadvertently modifying
         an existing resource when the client believes that the resource does not exist.
      </p>
      <p id="rfc.section.7.4.p.2">As a special case, the value "*" matches any current entity of the resource.</p>
      <div id="rfc.figure.u.10"></div><pre class="inline"><span id="rfc.iref.g.10"></span><span id="rfc.iref.g.11"></span>  <a href="#header.if-none-match" class="smpl">If-None-Match</a>   = "If-None-Match" ":" <a href="#notation" class="smpl">OWS</a> <a href="#header.if-none-match" class="smpl">If-None-Match-v</a>
  <a href="#header.if-none-match" class="smpl">If-None-Match-v</a> = "*" / 1#<a href="#entity.tags" class="smpl">entity-tag</a>
</pre><p id="rfc.section.7.4.p.4">If any of the entity tags match the entity tag of the entity that would have been returned in the response to a similar GET
         request (without the If-None-Match header) on that resource, or if "*" is given and any current entity exists for that resource,
         then the server <em class="bcp14">MUST NOT</em> perform the requested method, unless required to do so because the resource's modification date fails to match that supplied
         in an If-Modified-Since header field in the request. Instead, if the request method was GET or HEAD, the server <em class="bcp14">SHOULD</em> respond with a 304 (Not Modified) response, including the cache-related header fields (particularly ETag) of one of the entities
         that matched. For all other request methods, the server <em class="bcp14">MUST</em> respond with a status of 412 (Precondition Failed).
      </p>
      <p id="rfc.section.7.4.p.5">See <a href="#weak.and.strong.validators" title="Weak and Strong Validators">Section&nbsp;5</a> for rules on how to determine if two entity tags match.
      </p>
      <p id="rfc.section.7.4.p.6">If none of the entity tags match, then the server <em class="bcp14">MAY</em> perform the requested method as if the If-None-Match header field did not exist, but <em class="bcp14">MUST</em> also ignore any If-Modified-Since header field(s) in the request. That is, if no entity tags match, then the server <em class="bcp14">MUST NOT</em> return a 304 (Not Modified) response.
      </p>
      <p id="rfc.section.7.4.p.7">If the request would, without the If-None-Match header field, result in anything other than a 2xx or 304 status, then the
         If-None-Match header <em class="bcp14">MUST</em> be ignored. (See <a href="#rules.for.when.to.use.entity.tags.and.last-modified.dates" title="Rules for When to Use Entity Tags and Last-Modified Dates">Section&nbsp;6</a> for a discussion of server behavior when both If-Modified-Since and If-None-Match appear in the same request.)
      </p>
      <p id="rfc.section.7.4.p.8">The meaning of "If-None-Match: *" is that the method <em class="bcp14">MUST NOT</em> be performed if the representation selected by the origin server (or by a cache, possibly using the Vary mechanism, see <a href="p6-cache.html#header.vary" title="Vary">Section 16.5</a> of <a href="#Part6" id="rfc.xref.Part6.3"><cite title="HTTP/1.1, part 6: Caching">[Part6]</cite></a>) exists, and <em class="bcp14">SHOULD</em> be performed if the representation does not exist. This feature is intended to be useful in preventing races between PUT operations.
      </p>
      <p id="rfc.section.7.4.p.9">Examples:</p>
      <div id="rfc.figure.u.11"></div><pre class="text">  If-None-Match: "xyzzy"
  If-None-Match: W/"xyzzy"
  If-None-Match: "xyzzy", "r2d2xxxx", "c3piozzzz"
  If-None-Match: W/"xyzzy", W/"r2d2xxxx", W/"c3piozzzz"
  If-None-Match: *
</pre><p id="rfc.section.7.4.p.11">The result of a request having both an If-None-Match header field and either an If-Match or an If-Unmodified-Since header
         fields is undefined by this specification.
      </p>
      <div id="rfc.iref.i.4"></div>
      <div id="rfc.iref.h.5"></div>
      <h2 id="rfc.section.7.5"><a href="#rfc.section.7.5">7.5</a>&nbsp;<a id="header.if-unmodified-since" href="#header.if-unmodified-since">If-Unmodified-Since</a></h2>
      <p id="rfc.section.7.5.p.1">The request-header field "If-Unmodified-Since" is used with a method to make it conditional. If the requested resource has
         not been modified since the time specified in this field, the server <em class="bcp14">SHOULD</em> perform the requested operation as if the If-Unmodified-Since header were not present.
      </p>
      <p id="rfc.section.7.5.p.2">If the requested variant has been modified since the specified time, the server <em class="bcp14">MUST NOT</em> perform the requested operation, and <em class="bcp14">MUST</em> return a 412 (Precondition Failed).
      </p>
      <div id="rfc.figure.u.12"></div><pre class="inline"><span id="rfc.iref.g.12"></span><span id="rfc.iref.g.13"></span>  <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since</a>   = "If-Unmodified-Since" ":" <a href="#notation" class="smpl">OWS</a> <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since-v</a>
  <a href="#header.if-unmodified-since" class="smpl">If-Unmodified-Since-v</a> = <a href="#abnf.dependencies" class="smpl">HTTP-date</a>
</pre><p id="rfc.section.7.5.p.4">An example of the field is:</p>
      <div id="rfc.figure.u.13"></div><pre class="text">  If-Unmodified-Since: Sat, 29 Oct 1994 19:43:31 GMT
</pre><p id="rfc.section.7.5.p.6">If the request normally (i.e., without the If-Unmodified-Since header) would result in anything other than a 2xx or 412 status,
         the If-Unmodified-Since header <em class="bcp14">SHOULD</em> be ignored.
      </p>
      <p id="rfc.section.7.5.p.7">If the specified date is invalid, the header is ignored.</p>
      <p id="rfc.section.7.5.p.8">The result of a request having both an If-Unmodified-Since header field and either an If-None-Match or an If-Modified-Since
         header fields is undefined by this specification.
      </p>
      <div id="rfc.iref.l.1"></div>
      <div id="rfc.iref.h.6"></div>
      <h2 id="rfc.section.7.6"><a href="#rfc.section.7.6">7.6</a>&nbsp;<a id="header.last-modified" href="#header.last-modified">Last-Modified</a></h2>
      <p id="rfc.section.7.6.p.1">The entity-header field "Last-Modified" indicates the date and time at which the origin server believes the variant was last
         modified.
      </p>
      <div id="rfc.figure.u.14"></div><pre class="inline"><span id="rfc.iref.g.14"></span><span id="rfc.iref.g.15"></span>  <a href="#header.last-modified" class="smpl">Last-Modified</a>   = "Last-Modified" ":" <a href="#notation" class="smpl">OWS</a> <a href="#header.last-modified" class="smpl">Last-Modified-v</a>
  <a href="#header.last-modified" class="smpl">Last-Modified-v</a> = <a href="#abnf.dependencies" class="smpl">HTTP-date</a>
</pre><p id="rfc.section.7.6.p.3">An example of its use is</p>
      <div id="rfc.figure.u.15"></div><pre class="text">  Last-Modified: Tue, 15 Nov 1994 12:45:26 GMT
</pre><p id="rfc.section.7.6.p.5">The exact meaning of this header field depends on the implementation of the origin server and the nature of the original resource.
         For files, it may be just the file system last-modified time. For entities with dynamically included parts, it may be the
         most recent of the set of last-modify times for its component parts. For database gateways, it may be the last-update time
         stamp of the record. For virtual objects, it may be the last time the internal state changed.
      </p>
      <p id="rfc.section.7.6.p.6">An origin server <em class="bcp14">MUST NOT</em> send a Last-Modified date which is later than the server's time of message origination. In such cases, where the resource's
         last modification would indicate some time in the future, the server <em class="bcp14">MUST</em> replace that date with the message origination date.
      </p>
      <p id="rfc.section.7.6.p.7">An origin server <em class="bcp14">SHOULD</em> obtain the Last-Modified value of the entity as close as possible to the time that it generates the Date value of its response.
         This allows a recipient to make an accurate assessment of the entity's modification time, especially if the entity changes
         near the time that the response is generated.
      </p>
      <p id="rfc.section.7.6.p.8">HTTP/1.1 servers <em class="bcp14">SHOULD</em> send Last-Modified whenever feasible.
      </p>
      <p id="rfc.section.7.6.p.9">The Last-Modified entity-header field value is often used as a cache validator. In simple terms, a cache entry is considered
         to be valid if the entity has not been modified since the Last-Modified value.
      </p>
      <h1 id="rfc.section.8"><a href="#rfc.section.8">8.</a>&nbsp;<a id="IANA.considerations" href="#IANA.considerations">IANA Considerations</a></h1>
      <h2 id="rfc.section.8.1"><a href="#rfc.section.8.1">8.1</a>&nbsp;<a id="message.header.registration" href="#message.header.registration">Message Header Registration</a></h2>
      <p id="rfc.section.8.1.p.1">The Message Header Registry located at &lt;<a href="http://www.iana.org/assignments/message-headers/message-header-index.html">http://www.iana.org/assignments/message-headers/message-header-index.html</a>&gt; should be updated with the permanent registrations below (see <a href="#RFC3864" id="rfc.xref.RFC3864.1"><cite title="Registration Procedures for Message Header Fields">[RFC3864]</cite></a>):
      </p>
      <div id="rfc.table.1">
         <div id="iana.header.registration.table"></div>
         <table summary="" class="tt full" cellpadding="3" cellspacing="0">
            <thead>
               <tr>
                  <th>Header Field Name</th>
                  <th>Protocol</th>
                  <th>Status</th>
                  <th>Reference</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td>ETag</td>
                  <td>http</td>
                  <td>standard</td>
                  <td> <a href="#header.etag" id="rfc.xref.header.etag.2" title="ETag">Section&nbsp;7.1</a> 
                  </td>
               </tr>
               <tr>
                  <td>If-Match</td>
                  <td>http</td>
                  <td>standard</td>
                  <td> <a href="#header.if-match" id="rfc.xref.header.if-match.3" title="If-Match">Section&nbsp;7.2</a> 
                  </td>
               </tr>
               <tr>
                  <td>If-Modified-Since</td>
                  <td>http</td>
                  <td>standard</td>
                  <td> <a href="#header.if-modified-since" id="rfc.xref.header.if-modified-since.1" title="If-Modified-Since">Section&nbsp;7.3</a> 
                  </td>
               </tr>
               <tr>
                  <td>If-None-Match</td>
                  <td>http</td>
                  <td>standard</td>
                  <td> <a href="#header.if-none-match" id="rfc.xref.header.if-none-match.3" title="If-None-Match">Section&nbsp;7.4</a> 
                  </td>
               </tr>
               <tr>
                  <td>If-Unmodified-Since</td>
                  <td>http</td>
                  <td>standard</td>
                  <td> <a href="#header.if-unmodified-since" id="rfc.xref.header.if-unmodified-since.1" title="If-Unmodified-Since">Section&nbsp;7.5</a> 
                  </td>
               </tr>
               <tr>
                  <td>Last-Modified</td>
                  <td>http</td>
                  <td>standard</td>
                  <td> <a href="#header.last-modified" id="rfc.xref.header.last-modified.1" title="Last-Modified">Section&nbsp;7.6</a> 
                  </td>
               </tr>
            </tbody>
         </table>
      </div>
      <p id="rfc.section.8.1.p.2">The change controller is: "IETF (iesg@ietf.org) - Internet Engineering Task Force".</p>
      <h1 id="rfc.section.9"><a href="#rfc.section.9">9.</a>&nbsp;<a id="security.considerations" href="#security.considerations">Security Considerations</a></h1>
      <p id="rfc.section.9.p.1">No additional security considerations have been identified beyond those applicable to HTTP in general <a href="#Part1" id="rfc.xref.Part1.8"><cite title="HTTP/1.1, part 1: URIs, Connections, and Message Parsing">[Part1]</cite></a>.
      </p>
      <h1 id="rfc.section.10"><a href="#rfc.section.10">10.</a>&nbsp;<a id="ack" href="#ack">Acknowledgments</a></h1>
      <h1 id="rfc.references"><a id="rfc.section.11" href="#rfc.section.11">11.</a> References
      </h1>
      <h2 id="rfc.references.1"><a href="#rfc.section.11.1" id="rfc.section.11.1">11.1</a> Normative References
      </h2>
      <table summary="Normative References">        
         <tr>
            <td class="reference"><b id="Part1">[Part1]</b></td>
            <td class="top"><a title="Day Software">Fielding, R., Ed.</a>, <a title="One Laptop per Child">Gettys, J.</a>, <a title="Hewlett-Packard Company">Mogul, J.</a>, <a title="Microsoft Corporation">Frystyk, H.</a>, <a title="Adobe Systems, Incorporated">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, <a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="World Wide Web Consortium">Lafon, Y., Ed.</a>, and <a title="greenbytes GmbH">J. F. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p1-messaging-latest">HTTP/1.1, part 1: URIs, Connections, and Message Parsing</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p1-messaging-latest (work in progress), November&nbsp;2008.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="Part5">[Part5]</b></td>
            <td class="top"><a title="Day Software">Fielding, R., Ed.</a>, <a title="One Laptop per Child">Gettys, J.</a>, <a title="Hewlett-Packard Company">Mogul, J.</a>, <a title="Microsoft Corporation">Frystyk, H.</a>, <a title="Adobe Systems, Incorporated">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, <a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="World Wide Web Consortium">Lafon, Y., Ed.</a>, and <a title="greenbytes GmbH">J. F. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p5-range-latest">HTTP/1.1, part 5: Range Requests and Partial Responses</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p5-range-latest (work in progress), November&nbsp;2008.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="Part6">[Part6]</b></td>
            <td class="top"><a title="Day Software">Fielding, R., Ed.</a>, <a title="One Laptop per Child">Gettys, J.</a>, <a title="Hewlett-Packard Company">Mogul, J.</a>, <a title="Microsoft Corporation">Frystyk, H.</a>, <a title="Adobe Systems, Incorporated">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, <a title="World Wide Web Consortium">Berners-Lee, T.</a>, <a title="World Wide Web Consortium">Lafon, Y., Ed.</a>, and <a title="greenbytes GmbH">J. F. Reschke, Ed.</a>, “<a href="http://tools.ietf.org/html/draft-ietf-httpbis-p6-cache-latest">HTTP/1.1, part 6: Caching</a>”, Internet-Draft&nbsp;draft-ietf-httpbis-p6-cache-latest (work in progress), November&nbsp;2008.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="RFC2119">[RFC2119]</b></td>
            <td class="top"><a title="Harvard University">Bradner, S.</a>, “<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>”, BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.
            </td>
         </tr>
      </table>
      <h2 id="rfc.references.2"><a href="#rfc.section.11.2" id="rfc.section.11.2">11.2</a> Informative References
      </h2>
      <table summary="Informative References">    
         <tr>
            <td class="reference"><b id="RFC2616">[RFC2616]</b></td>
            <td class="top"><a title="University of California, Irvine">Fielding, R.</a>, <a title="W3C">Gettys, J.</a>, <a title="Compaq Computer Corporation">Mogul, J.</a>, <a title="MIT Laboratory for Computer Science">Frystyk, H.</a>, <a title="Xerox Corporation">Masinter, L.</a>, <a title="Microsoft Corporation">Leach, P.</a>, and <a title="W3C">T. Berners-Lee</a>, “<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>”, RFC&nbsp;2616, June&nbsp;1999.
            </td>
         </tr>
         <tr>
            <td class="reference"><b id="RFC3864">[RFC3864]</b></td>
            <td class="top"><a title="Nine by Nine">Klyne, G.</a>, <a title="BEA Systems">Nottingham, M.</a>, and <a title="HP Labs">J. Mogul</a>, “<a href="http://tools.ietf.org/html/rfc3864">Registration Procedures for Message Header Fields</a>”, BCP&nbsp;90, RFC&nbsp;3864, September&nbsp;2004.
            </td>
         </tr>
      </table>
      <h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
      <address class="vcard"><span class="vcardline"><span class="fn">Roy T. Fielding</span>
            (editor)
            <span class="n hidden"><span class="family-name">Fielding</span><span class="given-name">Roy T.</span></span></span><span class="org vcardline">Day Software</span><span class="adr"><span class="street-address vcardline">23 Corporate Plaza DR, Suite 280</span><span class="vcardline"><span class="locality">Newport Beach</span>, <span class="region">CA</span>&nbsp;<span class="postal-code">92660</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline tel">Phone: <a href="tel:+1-949-706-5300"><span class="value">+1-949-706-5300</span></a></span><span class="vcardline tel"><span class="type">Fax</span>: <a href="fax:+1-949-706-5305"><span class="value">+1-949-706-5305</span></a></span><span class="vcardline">EMail: <a><span class="email">fielding@gbiv.com</span></a></span><span class="vcardline">URI: <a href="http://roy.gbiv.com/" class="url">http://roy.gbiv.com/</a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Jim Gettys</span><span class="n hidden"><span class="family-name">Gettys</span><span class="given-name">Jim</span></span></span><span class="org vcardline">One Laptop per Child</span><span class="adr"><span class="street-address vcardline">21 Oak Knoll Road</span><span class="vcardline"><span class="locality">Carlisle</span>, <span class="region">MA</span>&nbsp;<span class="postal-code">01741</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline">EMail: <a><span class="email">jg@laptop.org</span></a></span><span class="vcardline">URI: <a href="http://www.laptop.org/" class="url">http://www.laptop.org/</a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Jeffrey C. Mogul</span><span class="n hidden"><span class="family-name">Mogul</span><span class="given-name">Jeffrey C.</span></span></span><span class="org vcardline">Hewlett-Packard Company</span><span class="adr"><span class="street-address vcardline">HP Labs, Large Scale Systems Group</span><span class="street-address vcardline">1501 Page Mill Road, MS 1177</span><span class="vcardline"><span class="locality">Palo Alto</span>, <span class="region">CA</span>&nbsp;<span class="postal-code">94304</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline">EMail: <a><span class="email">JeffMogul@acm.org</span></a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Henrik Frystyk Nielsen</span><span class="n hidden"><span class="family-name">Frystyk</span></span></span><span class="org vcardline">Microsoft Corporation</span><span class="adr"><span class="street-address vcardline">1 Microsoft Way</span><span class="vcardline"><span class="locality">Redmond</span>, <span class="region">WA</span>&nbsp;<span class="postal-code">98052</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline">EMail: <a><span class="email">henrikn@microsoft.com</span></a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Larry Masinter</span><span class="n hidden"><span class="family-name">Masinter</span><span class="given-name">Larry</span></span></span><span class="org vcardline">Adobe Systems, Incorporated</span><span class="adr"><span class="street-address vcardline">345 Park Ave</span><span class="vcardline"><span class="locality">San Jose</span>, <span class="region">CA</span>&nbsp;<span class="postal-code">95110</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline">EMail: <a><span class="email">LMM@acm.org</span></a></span><span class="vcardline">URI: <a href="http://larry.masinter.net/" class="url">http://larry.masinter.net/</a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Paul J. Leach</span><span class="n hidden"><span class="family-name">Leach</span><span class="given-name">Paul J.</span></span></span><span class="org vcardline">Microsoft Corporation</span><span class="adr"><span class="street-address vcardline">1 Microsoft Way</span><span class="vcardline"><span class="locality">Redmond</span>, <span class="region">WA</span>&nbsp;<span class="postal-code">98052</span></span></span><span class="vcardline">EMail: <a><span class="email">paulle@microsoft.com</span></a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Tim Berners-Lee</span><span class="n hidden"><span class="family-name">Berners-Lee</span><span class="given-name">Tim</span></span></span><span class="org vcardline">World Wide Web Consortium</span><span class="adr"><span class="street-address vcardline">MIT Computer Science and Artificial Intelligence Laboratory</span><span class="street-address vcardline">The Stata Center, Building 32</span><span class="street-address vcardline">32 Vassar Street</span><span class="vcardline"><span class="locality">Cambridge</span>, <span class="region">MA</span>&nbsp;<span class="postal-code">02139</span></span><span class="country-name vcardline">USA</span></span><span class="vcardline">EMail: <a><span class="email">timbl@w3.org</span></a></span><span class="vcardline">URI: <a href="http://www.w3.org/People/Berners-Lee/" class="url">http://www.w3.org/People/Berners-Lee/</a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Yves Lafon</span>
            (editor)
            <span class="n hidden"><span class="family-name">Lafon</span><span class="given-name">Yves</span></span></span><span class="org vcardline">World Wide Web Consortium</span><span class="adr"><span class="street-address vcardline">W3C / ERCIM</span><span class="street-address vcardline">2004, rte des Lucioles</span><span class="vcardline"><span class="locality">Sophia-Antipolis</span>, <span class="region">AM</span>&nbsp;<span class="postal-code">06902</span></span><span class="country-name vcardline">France</span></span><span class="vcardline">EMail: <a><span class="email">ylafon@w3.org</span></a></span><span class="vcardline">URI: <a href="http://www.raubacapeu.net/people/yves/" class="url">http://www.raubacapeu.net/people/yves/</a></span></address>
      <address class="vcard"><span class="vcardline"><span class="fn">Julian F. Reschke</span>
            (editor)
            <span class="n hidden"><span class="family-name">Reschke</span><span class="given-name">Julian F.</span></span></span><span class="org vcardline">greenbytes GmbH</span><span class="adr"><span class="street-address vcardline">Hafenweg 16</span><span class="vcardline"><span class="locality">Muenster</span>, <span class="region">NW</span>&nbsp;<span class="postal-code">48155</span></span><span class="country-name vcardline">Germany</span></span><span class="vcardline tel">Phone: <a href="tel:+492512807760"><span class="value">+49 251 2807760</span></a></span><span class="vcardline tel"><span class="type">Fax</span>: <a href="fax:+492512807761"><span class="value">+49 251 2807761</span></a></span><span class="vcardline">EMail: <a><span class="email">julian.reschke@greenbytes.de</span></a></span><span class="vcardline">URI: <a href="http://greenbytes.de/tech/webdav/" class="url">http://greenbytes.de/tech/webdav/</a></span></address>
      <h1 id="rfc.section.A"><a href="#rfc.section.A">A.</a>&nbsp;<a id="compatibility" href="#compatibility">Compatibility with Previous Versions</a></h1>
      <h2 id="rfc.section.A.1"><a href="#rfc.section.A.1">A.1</a>&nbsp;<a id="changes.from.rfc.2616" href="#changes.from.rfc.2616">Changes from RFC 2616</a></h2>
      <p id="rfc.section.A.1.p.1">Allow weak entity tags in all requests except range requests (Sections <a href="#weak.and.strong.validators" title="Weak and Strong Validators">5</a> and <a href="#header.if-none-match" id="rfc.xref.header.if-none-match.4" title="If-None-Match">7.4</a>).
      </p>
      <h1 id="rfc.section.B"><a href="#rfc.section.B">B.</a>&nbsp;<a id="change.log" href="#change.log">Change Log (to be removed by RFC Editor before publication)</a></h1>
      <h2 id="rfc.section.B.1"><a href="#rfc.section.B.1">B.1</a>&nbsp;Since RFC2616
      </h2>
      <p id="rfc.section.B.1.p.1">Extracted relevant partitions from <a href="#RFC2616" id="rfc.xref.RFC2616.2"><cite title="Hypertext Transfer Protocol -- HTTP/1.1">[RFC2616]</cite></a>.
      </p>
      <h2 id="rfc.section.B.2"><a href="#rfc.section.B.2">B.2</a>&nbsp;Since draft-ietf-httpbis-p4-conditional-00
      </h2>
      <p id="rfc.section.B.2.p.1">Closed issues: </p>
      <ul>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/35">http://tools.ietf.org/wg/httpbis/trac/ticket/35</a>&gt;: "Normative and Informative references"
         </li>
      </ul>
      <p id="rfc.section.B.2.p.2">Other changes: </p>
      <ul>
         <li>Move definitions of 304 and 412 condition codes from Part2.</li>
      </ul>
      <h2 id="rfc.section.B.3"><a href="#rfc.section.B.3">B.3</a>&nbsp;Since draft-ietf-httpbis-p4-conditional-01
      </h2>
      <p id="rfc.section.B.3.p.1">Ongoing work on ABNF conversion (&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/36">http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>&gt;): 
      </p>
      <ul>
         <li>Add explicit references to BNF syntax and rules imported from other parts of the specification.</li>
      </ul>
      <h2 id="rfc.section.B.4"><a href="#rfc.section.B.4">B.4</a>&nbsp;<a id="changes.since.02" href="#changes.since.02">Since draft-ietf-httpbis-p4-conditional-02</a></h2>
      <p id="rfc.section.B.4.p.1">Closed issues: </p>
      <ul>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/116">http://tools.ietf.org/wg/httpbis/trac/ticket/116</a>&gt;: "Weak ETags on non-GET requests"
         </li>
      </ul>
      <p id="rfc.section.B.4.p.2">Ongoing work on IANA Message Header Registration (&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/40">http://tools.ietf.org/wg/httpbis/trac/ticket/40</a>&gt;): 
      </p>
      <ul>
         <li>Reference RFC 3984, and update header registrations for headers defined in this document.</li>
      </ul>
      <h2 id="rfc.section.B.5"><a href="#rfc.section.B.5">B.5</a>&nbsp;<a id="changes.since.03" href="#changes.since.03">Since draft-ietf-httpbis-p4-conditional-03</a></h2>
      <p id="rfc.section.B.5.p.1">Closed issues: </p>
      <ul>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/71">http://tools.ietf.org/wg/httpbis/trac/ticket/71</a>&gt;: "Examples for ETag matching"
         </li>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/124">http://tools.ietf.org/wg/httpbis/trac/ticket/124</a>&gt;: "'entity value' undefined"
         </li>
         <li> &lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/126">http://tools.ietf.org/wg/httpbis/trac/ticket/126</a>&gt;: "bogus 2068 Date header reference"
         </li>
      </ul>
      <h2 id="rfc.section.B.6"><a href="#rfc.section.B.6">B.6</a>&nbsp;<a id="changes.since.04" href="#changes.since.04">Since draft-ietf-httpbis-p4-conditional-04</a></h2>
      <p id="rfc.section.B.6.p.1">Ongoing work on ABNF conversion (&lt;<a href="http://tools.ietf.org/wg/httpbis/trac/ticket/36">http://tools.ietf.org/wg/httpbis/trac/ticket/36</a>&gt;): 
      </p>
      <ul>
         <li>Use "/" instead of "|" for alternatives.</li>
         <li>Introduce new ABNF rules for "bad" whitespace ("BWS"), optional whitespace ("OWS") and required whitespace ("RWS").</li>
         <li>Rewrite ABNFs to spell out whitespace rules, factor out header value format definitions.</li>
      </ul>
      <h1><a id="rfc.copyright" href="#rfc.copyright">Full Copyright Statement</a></h1>
      <p>This document is subject to the rights, licenses and restrictions contained in BCP 78, and except as set forth therein, the
         authors retain all their rights.
      </p>
      <p>This document and the information contained herein are provided on an “AS IS” basis and THE CONTRIBUTOR, THE ORGANIZATION
         HE/SHE REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND THE INTERNET ENGINEERING TASK FORCE
         DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN
         WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
      </p>
      <h1><a id="rfc.ipr" href="#rfc.ipr">Intellectual Property</a></h1>
      <p>The IETF takes no position regarding the validity or scope of any Intellectual Property Rights or other rights that might
         be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any
         license under such rights might or might not be available; nor does it represent that it has made any independent effort to
         identify any such rights. Information on the procedures with respect to rights in RFC documents can be found in BCP 78 and
         BCP 79.
      </p>
      <p>Copies of IPR disclosures made to the IETF Secretariat and any assurances of licenses to be made available, or the result
         of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users
         of this specification can be obtained from the IETF on-line IPR repository at &lt;<a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>&gt;.
      </p>
      <p>The IETF invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary
         rights that may cover technology that may be required to implement this standard. Please address the information to the IETF
         at <a href="mailto:ietf-ipr@ietf.org">ietf-ipr@ietf.org</a>.
      </p>
      <h1 id="rfc.index"><a href="#rfc.index">Index</a></h1>
      <p class="noprint"><a href="#rfc.index.3">3</a> <a href="#rfc.index.4">4</a> <a href="#rfc.index.E">E</a> <a href="#rfc.index.G">G</a> <a href="#rfc.index.H">H</a> <a href="#rfc.index.I">I</a> <a href="#rfc.index.L">L</a> <a href="#rfc.index.P">P</a> <a href="#rfc.index.R">R</a> <a href="#rfc.index.S">S</a> 
      </p>
      <div class="print2col">
         <ul class="ind">
            <li class="indline0"><a id="rfc.index.3" href="#rfc.index.3"><b>3</b></a><ul class="ind">
                  <li class="indline1">304 Not Modified (status code)&nbsp;&nbsp;<a class="iref" href="#rfc.iref.3"><b>4.1</b></a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.4" href="#rfc.index.4"><b>4</b></a><ul class="ind">
                  <li class="indline1">412 Precondition Failed (status code)&nbsp;&nbsp;<a class="iref" href="#rfc.iref.4"><b>4.2</b></a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.E" href="#rfc.index.E"><b>E</b></a><ul class="ind">
                  <li class="indline1">ETag header&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.etag.1">3</a>, <a class="iref" href="#rfc.iref.e.1"><b>7.1</b></a>, <a class="iref" href="#rfc.xref.header.etag.2">8.1</a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.G" href="#rfc.index.G"><b>G</b></a><ul class="ind">
                  <li class="indline1"><tt>Grammar</tt>&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1"><tt>entity-tag</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.1"><b>3</b></a></li>
                        <li class="indline1"><tt>ETag</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.4"><b>7.1</b></a></li>
                        <li class="indline1"><tt>ETag-v</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.5"><b>7.1</b></a></li>
                        <li class="indline1"><tt>If-Match</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.6"><b>7.2</b></a></li>
                        <li class="indline1"><tt>If-Match-v</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.7"><b>7.2</b></a></li>
                        <li class="indline1"><tt>If-Modified-Since</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.8"><b>7.3</b></a></li>
                        <li class="indline1"><tt>If-Modified-Since-v</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.9"><b>7.3</b></a></li>
                        <li class="indline1"><tt>If-None-Match</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.10"><b>7.4</b></a></li>
                        <li class="indline1"><tt>If-None-Match-v</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.11"><b>7.4</b></a></li>
                        <li class="indline1"><tt>If-Unmodified-Since</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.12"><b>7.5</b></a></li>
                        <li class="indline1"><tt>If-Unmodified-Since-v</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.13"><b>7.5</b></a></li>
                        <li class="indline1"><tt>Last-Modified</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.14"><b>7.6</b></a></li>
                        <li class="indline1"><tt>Last-Modified-v</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.15"><b>7.6</b></a></li>
                        <li class="indline1"><tt>opaque-tag</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.3"><b>3</b></a></li>
                        <li class="indline1"><tt>weak</tt>&nbsp;&nbsp;<a class="iref" href="#rfc.iref.g.2"><b>3</b></a></li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.H" href="#rfc.index.H"><b>H</b></a><ul class="ind">
                  <li class="indline1">Headers&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">ETag&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.etag.1">3</a>, <a class="iref" href="#rfc.iref.h.1"><b>7.1</b></a>, <a class="iref" href="#rfc.xref.header.etag.2">8.1</a></li>
                        <li class="indline1">If-Match&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.if-match.1">3</a>, <a class="iref" href="#rfc.xref.header.if-match.2">7.1</a>, <a class="iref" href="#rfc.iref.h.2"><b>7.2</b></a>, <a class="iref" href="#rfc.xref.header.if-match.3">8.1</a></li>
                        <li class="indline1">If-Modified-Since&nbsp;&nbsp;<a class="iref" href="#rfc.iref.h.3"><b>7.3</b></a>, <a class="iref" href="#rfc.xref.header.if-modified-since.1">8.1</a></li>
                        <li class="indline1">If-None-Match&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.if-none-match.1">3</a>, <a class="iref" href="#rfc.xref.header.if-none-match.2">7.1</a>, <a class="iref" href="#rfc.iref.h.4"><b>7.4</b></a>, <a class="iref" href="#rfc.xref.header.if-none-match.3">8.1</a>, <a class="iref" href="#rfc.xref.header.if-none-match.4">A.1</a></li>
                        <li class="indline1">If-Unmodified-Since&nbsp;&nbsp;<a class="iref" href="#rfc.iref.h.5"><b>7.5</b></a>, <a class="iref" href="#rfc.xref.header.if-unmodified-since.1">8.1</a></li>
                        <li class="indline1">Last-Modified&nbsp;&nbsp;<a class="iref" href="#rfc.iref.h.6"><b>7.6</b></a>, <a class="iref" href="#rfc.xref.header.last-modified.1">8.1</a></li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.I" href="#rfc.index.I"><b>I</b></a><ul class="ind">
                  <li class="indline1">If-Match header&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.if-match.1">3</a>, <a class="iref" href="#rfc.xref.header.if-match.2">7.1</a>, <a class="iref" href="#rfc.iref.i.1"><b>7.2</b></a>, <a class="iref" href="#rfc.xref.header.if-match.3">8.1</a></li>
                  <li class="indline1">If-Modified-Since header&nbsp;&nbsp;<a class="iref" href="#rfc.iref.i.2"><b>7.3</b></a>, <a class="iref" href="#rfc.xref.header.if-modified-since.1">8.1</a></li>
                  <li class="indline1">If-None-Match header&nbsp;&nbsp;<a class="iref" href="#rfc.xref.header.if-none-match.1">3</a>, <a class="iref" href="#rfc.xref.header.if-none-match.2">7.1</a>, <a class="iref" href="#rfc.iref.i.3"><b>7.4</b></a>, <a class="iref" href="#rfc.xref.header.if-none-match.3">8.1</a>, <a class="iref" href="#rfc.xref.header.if-none-match.4">A.1</a></li>
                  <li class="indline1">If-Unmodified-Since header&nbsp;&nbsp;<a class="iref" href="#rfc.iref.i.4"><b>7.5</b></a>, <a class="iref" href="#rfc.xref.header.if-unmodified-since.1">8.1</a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.L" href="#rfc.index.L"><b>L</b></a><ul class="ind">
                  <li class="indline1">Last-Modified header&nbsp;&nbsp;<a class="iref" href="#rfc.iref.l.1"><b>7.6</b></a>, <a class="iref" href="#rfc.xref.header.last-modified.1">8.1</a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.P" href="#rfc.index.P"><b>P</b></a><ul class="ind">
                  <li class="indline1"><em>Part1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.1">2</a>, <a class="iref" href="#rfc.xref.Part1.2">2</a>, <a class="iref" href="#rfc.xref.Part1.3">2</a>, <a class="iref" href="#rfc.xref.Part1.4">2</a>, <a class="iref" href="#rfc.xref.Part1.5">2</a>, <a class="iref" href="#rfc.xref.Part1.6">4.1</a>, <a class="iref" href="#rfc.xref.Part1.7">4.1</a>, <a class="iref" href="#rfc.xref.Part1.8">9</a>, <a class="iref" href="#Part1"><b>11.1</b></a><ul class="ind">
                        <li class="indline1"><em>Section 2.1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.1">2</a></li>
                        <li class="indline1"><em>Section 2.2</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.2">2</a>, <a class="iref" href="#rfc.xref.Part1.3">2</a>, <a class="iref" href="#rfc.xref.Part1.4">2</a></li>
                        <li class="indline1"><em>Section 3.3.1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.5">2</a></li>
                        <li class="indline1"><em>Section 8.3.1</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.6">4.1</a></li>
                        <li class="indline1"><em>Section 8.3</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part1.7">4.1</a></li>
                     </ul>
                  </li>
                  <li class="indline1"><em>Part5</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part5.1">3</a>, <a class="iref" href="#rfc.xref.Part5.2">5</a>, <a class="iref" href="#rfc.xref.Part5.3">5</a>, <a class="iref" href="#rfc.xref.Part5.4">7.1</a>, <a class="iref" href="#rfc.xref.Part5.5">7.3</a>, <a class="iref" href="#Part5"><b>11.1</b></a><ul class="ind">
                        <li class="indline1"><em>Section 6.3</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part5.1">3</a>, <a class="iref" href="#rfc.xref.Part5.4">7.1</a></li>
                        <li class="indline1"><em>Section 6.4</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part5.5">7.3</a></li>
                     </ul>
                  </li>
                  <li class="indline1"><em>Part6</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part6.1">1</a>, <a class="iref" href="#rfc.xref.Part6.2">7.2</a>, <a class="iref" href="#rfc.xref.Part6.3">7.4</a>, <a class="iref" href="#Part6"><b>11.1</b></a><ul class="ind">
                        <li class="indline1"><em>Section 16.5</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.Part6.2">7.2</a>, <a class="iref" href="#rfc.xref.Part6.3">7.4</a></li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.R" href="#rfc.index.R"><b>R</b></a><ul class="ind">
                  <li class="indline1"><em>RFC2119</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.RFC2119.1">1.1</a>, <a class="iref" href="#RFC2119"><b>11.1</b></a></li>
                  <li class="indline1"><em>RFC2616</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.RFC2616.1">1</a>, <a class="iref" href="#RFC2616"><b>11.2</b></a>, <a class="iref" href="#rfc.xref.RFC2616.2">B.1</a></li>
                  <li class="indline1"><em>RFC3864</em>&nbsp;&nbsp;<a class="iref" href="#rfc.xref.RFC3864.1">8.1</a>, <a class="iref" href="#RFC3864"><b>11.2</b></a></li>
               </ul>
            </li>
            <li class="indline0"><a id="rfc.index.S" href="#rfc.index.S"><b>S</b></a><ul class="ind">
                  <li class="indline1">Status Codes&nbsp;&nbsp;
                     <ul class="ind">
                        <li class="indline1">304 Not Modified&nbsp;&nbsp;<a class="iref" href="#rfc.iref.s.1"><b>4.1</b></a></li>
                        <li class="indline1">412 Precondition Failed&nbsp;&nbsp;<a class="iref" href="#rfc.iref.s.2"><b>4.2</b></a></li>
                     </ul>
                  </li>
               </ul>
            </li>
         </ul>
      </div>
   </body>
</html>